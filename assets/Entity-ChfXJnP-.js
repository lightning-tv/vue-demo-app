import{d as N,o as l,c as i,f as d,p as P,n as g,q as U,r as a,a as Y,w as q,e as c,i as u,g as L,_ as O,h as F,s as G,k as J,t as T,F as B,l as I,j as K,v as Q}from"./main-CtGexzRa.js";import{t as W,a as y,c as w,g as X,_ as Z,d as k,C as D,T as j}from"./styles-BtUwi64H.js";const z=N({__name:"Button",props:{style:Object},setup(n){const t=n,s={Container:{base:{height:92,display:"flex",padding:[50,30],color:4294967066,justifyContent:"center",alignItems:"center",borderRadius:4,contentColor:W.color.fillNeutral,focus:{color:4294967295}}},Text:{fontSize:24,color:4294967295,focus:{color:255}}};return(e,h)=>(l(),i("node",U(t,{style:[t.style,s.Container.base],forwardStates:!0}),[d("text",{style:g(s.Text)},[P(e.$slots,"default")],4)],16))}});function ee(n){const t=Math.floor(n/60),s=n%60;return t+"h "+(s<10?"0":"")+s+"min"}function te(n){const t=n.split("-");return t[1]+"/"+t[2]+"/"+t[0]}function A(n){return n.split("-")[0]}function ne({type:n,id:t}){return y.get(`/${n}/${t}/recommendations`).then(({results:s})=>s.length?w(s.slice(0,7)):y.get(`/trending/${n}/week?page=1`).then(({results:e})=>w(e.slice(0,7))))}function oe({type:n,id:t}){return y.get(`/${n}/${t}/credits`).then(({cast:s})=>w(s.slice(0,7)))}function se({type:n,id:t}){let s=n==="movie"?{rtCrit:86,rtFan:92}:{};return y.get(`/${n}/${t}`).then(e=>({backgroundImage:X(e.backdrop_path,"w1280"),heroContent:{title:e.title||e.name,description:e.overview,badges:["HD","CC"],voteAverage:e.vote_average,voteCount:e.vote_count,metaText:n==="movie"?ee(e.runtime)+"   "+te(e.release_date):`${A(e.first_air_date)} - ${A(e.last_air_date)}`,reviews:s},...e}))}const re={key:0},ae=["src","item"],le=["src","item"],ce=["alpha"],_=640,de=N({__name:"Entity",setup(n){const t=G(),s=J(),e=a(null),h=a(null),v=a(null),S=a(0),C={height:60,width:300,marginBottom:-40,fontSize:36,color:4042322175,zIndex:2};Y(async()=>{e.value=await se(t.params),h.value=await oe(t.params),v.value=await ne(t.params)}),q(e,o=>{K.value=o==null?void 0:o.backgroundImage,o&&$()},{immediate:!0});const M={color:255,alpha:0,width:1900,height:890,x:-160,y:_,borderRadius:30};function V(){var o;(o=this.children.selected)==null||o.setFocus(),m.value.$el.y=_,f.value.y=_,f.value.alpha=0}function E(){var o;(o=this.children.selected)==null||o.setFocus(),m.value.$el.y=200,f.value.y=160,f.value.alpha=.9}function H(){m.value.$el.setFocus()}function $(){var p;const o=(p=b.value)==null?void 0:p.$el;o&&(o.selected=0,o.setFocus())}function x(o,p,r){var R;Q(r&&((R=r.item)==null?void 0:R.href)),s.push(r.item.href)}let m=a(null),f=a(null),b=a(null);return(o,p)=>e.value?(l(),i("node",re,[d("node",{x:170,onUp:$},[c(Z,{y:260,content:e.value.heroContent},null,8,["content"]),c(k,{ref_key:"entityActions",ref:b,y:500,height:90,width:640,gap:40,onDown:H},{default:u(()=>[c(z,{width:300,autofocus:!0},{default:u(()=>[T("Play")]),_:1}),c(z,{width:300},{default:u(()=>[T("Resume")]),_:1})]),_:1},512),v.value&&h.value?(l(),L(O,{key:0,ref_key:"columnRef",ref:m,x:0,y:_,style:g(D),height:880,zIndex:5},{default:u(()=>[d("text",{skipFocus:!0,style:C},"Recommendations"),c(k,{onFocus:V,onEnter:x,width:1620,height:300,justifyContent:"spaceBetween"},{default:u(()=>[(l(!0),i(B,null,I(v.value,r=>(l(),i("node",{style:g(j),src:r.src,item:r},null,12,ae))),256))]),_:1}),d("text",{skipFocus:!0,style:C},"Cast and Crew"),c(k,{onFocus:E,onEnter:x,width:1620,height:300,justifyContent:"spaceBetween"},{default:u(()=>[(l(!0),i(B,null,I(h.value,r=>(l(),i("node",{style:g(j),src:r.src,item:r},null,12,le))),256))]),_:1})]),_:1},8,["style"])):F("",!0),d("node",{ref_key:"backdropRef",ref:f,style:M,transition:{alpha:!0,y:!0}},null,512)],32),d("node",{alpha:S.value,color:255,skipFocus:"",zIndex:200,transition:{alpha:!0}},null,8,ce)])):F("",!0)}});export{de as default};
//# sourceMappingURL=Entity-ChfXJnP-.js.map

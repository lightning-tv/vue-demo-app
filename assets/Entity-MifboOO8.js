import{d as A,o as l,c as i,f as d,p as P,n as g,q as U,t as Y,r as a,a as q,w as L,e as u,j as c,g as O,_ as G,h as F,s as J,k as K,v as T,F as B,l as I,i as Q,x as W}from"./main-BBqsybQQ.js";import{a as y,c as w,g as X,_ as Z,d as k,C as D,T as N}from"./styles-jGhVqJSJ.js";const j=A({__name:"Button",props:{style:Object},setup(o){const t=o,s={Container:{base:{height:92,display:"flex",padding:[50,30],color:4294967066,justifyContent:"center",alignItems:"center",borderRadius:4,contentColor:Y.color.fillNeutral,focus:{color:4294967295}}},Text:{fontSize:24,color:4294967295,focus:{color:255}}};return(e,h)=>(l(),i("node",U(t,{style:[t.style,s.Container.base],forwardStates:!0}),[d("text",{style:g(s.Text)},[P(e.$slots,"default")],4)],16))}});function ee(o){const t=Math.floor(o/60),s=o%60;return t+"h "+(s<10?"0":"")+s+"min"}function te(o){const t=o.split("-");return t[1]+"/"+t[2]+"/"+t[0]}function z(o){return o.split("-")[0]}function oe({type:o,id:t}){return y.get(`/${o}/${t}/recommendations`).then(({results:s})=>s.length?w(s.slice(0,7)):y.get(`/trending/${o}/week?page=1`).then(({results:e})=>w(e.slice(0,7))))}function ne({type:o,id:t}){return y.get(`/${o}/${t}/credits`).then(({cast:s})=>w(s.slice(0,7)))}function se({type:o,id:t}){let s=o==="movie"?{rtCrit:86,rtFan:92}:{};return y.get(`/${o}/${t}`).then(e=>({backgroundImage:X(e.backdrop_path,"w1280"),heroContent:{title:e.title||e.name,description:e.overview,badges:["HD","CC"],voteAverage:e.vote_average,voteCount:e.vote_count,metaText:o==="movie"?ee(e.runtime)+"   "+te(e.release_date):`${z(e.first_air_date)} - ${z(e.last_air_date)}`,reviews:s},...e}))}const re={key:0},ae=["src","item"],le=["src","item"],ue=["alpha"],_=640,de=A({__name:"Entity",setup(o){const t=J(),s=K(),e=a(null),h=a(null),v=a(null),S=a(0),C={height:60,width:300,marginBottom:-40,fontSize:36,color:4042322175,zIndex:2};q(async()=>{e.value=await se(t.params),h.value=await ne(t.params),v.value=await oe(t.params)}),L(e,n=>{Q.value=n==null?void 0:n.backgroundImage,n&&x()},{immediate:!0});const M={color:255,alpha:0,width:1900,height:890,x:-160,y:_,borderRadius:30};function V(){var n;(n=this.selectedNode)==null||n.setFocus(),m.value.$el.y=_,f.value.y=_,f.value.alpha=0}function E(){var n;(n=this.selectedNode)==null||n.setFocus(),m.value.$el.y=200,f.value.y=160,f.value.alpha=.9}function H(){m.value.$el.setFocus()}function x(){var p;const n=(p=b.value)==null?void 0:p.$el;n&&(n.selected=0,n.setFocus())}function $(n,p,r){var R;W(r&&((R=r.item)==null?void 0:R.href)),s.push(r.item.href)}let m=a(null),f=a(null),b=a(null);return(n,p)=>e.value?(l(),i("node",re,[d("node",{x:170,onUp:x},[u(Z,{y:260,content:e.value.heroContent},null,8,["content"]),u(k,{ref_key:"entityActions",ref:b,y:500,height:90,width:640,gap:40,onDown:H},{default:c(()=>[u(j,{width:300,autofocus:!0},{default:c(()=>[T("Play")]),_:1}),u(j,{width:300},{default:c(()=>[T("Resume")]),_:1})]),_:1},512),v.value&&h.value?(l(),O(G,{key:0,ref_key:"columnRef",ref:m,x:0,y:_,style:g(D),height:880,zIndex:5,scroll:"none"},{default:c(()=>[d("text",{skipFocus:!0,style:C},"Recommendations"),u(k,{onFocus:V,onEnter:$,width:1620,height:300,justifyContent:"spaceBetween"},{default:c(()=>[(l(!0),i(B,null,I(v.value,r=>(l(),i("node",{style:g(N),src:r.src,item:r},null,12,ae))),256))]),_:1}),d("text",{skipFocus:!0,style:C},"Cast and Crew"),u(k,{onFocus:E,onEnter:$,width:1620,height:300,justifyContent:"spaceBetween"},{default:c(()=>[(l(!0),i(B,null,I(h.value,r=>(l(),i("node",{style:g(N),src:r.src,item:r},null,12,le))),256))]),_:1})]),_:1},8,["style"])):F("",!0),d("node",{ref_key:"backdropRef",ref:f,style:M,transition:{alpha:!0,y:!0}},null,512)],32),d("node",{alpha:S.value,color:255,skipFocus:"",zIndex:200,transition:{alpha:!0}},null,8,ue)])):F("",!0)}});export{de as default};
//# sourceMappingURL=Entity-MifboOO8.js.map

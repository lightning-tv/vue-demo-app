import{d as E,o as l,c,f as u,p as V,n as _,q as H,r,a as P,w as U,e as a,i,_ as Y,h as b,s as q,k as L,t as R,F as v,l as F,j as O}from"./main-B_FQazcE.js";import{t as G,a as y,c as C,g as J,_ as K,d as w,C as Q,T}from"./styles-_hYwUma5.js";import{a as W}from"./CoreExtension-CvzE2bo0.js";const B=E({__name:"Button",props:{style:Object},setup(n){const t=n,o={Container:{base:{height:92,display:"flex",padding:[50,30],color:4294967066,justifyContent:"center",alignItems:"center",borderRadius:4,contentColor:G.color.fillNeutral,focus:{color:4294967295}}},Text:{fontSize:24,color:4294967295,focus:{color:255}}};return(e,h)=>(l(),c("node",H(t,{style:[t.style,o.Container.base],forwardStates:!0}),[u("text",{style:_(o.Text)},[V(e.$slots,"default")],4)],16))}});function X(n){const t=Math.floor(n/60),o=n%60;return t+"h "+(o<10?"0":"")+o+"min"}function Z(n){const t=n.split("-");return t[1]+"/"+t[2]+"/"+t[0]}function I(n){return n.split("-")[0]}function D({type:n,id:t}){return y.get(`/${n}/${t}/recommendations`).then(({results:o})=>o.length?C(o.slice(0,7)):y.get(`/trending/${n}/week?page=1`).then(({results:e})=>C(e.slice(0,7))))}function ee({type:n,id:t}){return y.get(`/${n}/${t}/credits`).then(({cast:o})=>C(o.slice(0,7)))}function te({type:n,id:t}){let o=n==="movie"?{rtCrit:86,rtFan:92}:{};return y.get(`/${n}/${t}`).then(e=>({backgroundImage:J(e.backdrop_path,"w1280"),heroContent:{title:e.title||e.name,description:e.overview,badges:["HD","CC"],voteAverage:e.vote_average,voteCount:e.vote_count,metaText:n==="movie"?X(e.runtime)+"   "+Z(e.release_date):`${I(e.first_air_date)} - ${I(e.last_air_date)}`,reviews:o},...e}))}const ne={key:0},oe={x:170,onUp:"focusEntity",onEscape:"onEscape"},se=["src","item"],re=["src","item"],ae=["alpha"],p=640,ue=E({__name:"Entity",setup(n){const t=q(),o=L(),e=r(null),h=r(null),g=r(null),j=r(0),k={height:60,width:300,marginBottom:-40,fontSize:36,color:4042322175,zIndex:2};P(async()=>{e.value=await te(t.params),h.value=await ee(t.params),g.value=await D(t.params)}),U(e,s=>{O.value=s==null?void 0:s.backgroundImage},{immediate:!0});const z={color:255,alpha:0,width:1900,height:890,x:-160,y:p,borderRadius:30};function A(){var s;(s=this.children.selected)==null||s.setFocus(),m.value.y=p,d.value.y=p,d.value.alpha=0}function N(){var s;(s=this.children.selected)==null||s.setFocus(),m.value.y=200,d.value.y=160,d.value.alpha=.9}function S(){m.value.$el.setFocus()}function x(){const s=this.children.find($=>$.states.has("focus"));W(s&&s.href),o.push(s.href)}let m=r(null),d=r(null),M=r(null);return(s,$)=>e.value?(l(),c("node",ne,[u("node",oe,[a(K,{y:260,title:e.value.heroContent.title,description:e.value.heroContent.description},null,8,["title","description"]),a(w,{ref_key:"entityActions",ref:M,y:500,height:90,width:640,gap:40,onDown:S},{default:i(()=>[a(B,{width:300,autofocus:!0},{default:i(()=>[R("Play")]),_:1}),a(B,{width:300},{default:i(()=>[R("Resume")]),_:1})]),_:1},512),a(Y,{ref_key:"columnRef",ref:m,x:0,y:p,style:_(Q),height:880,zIndex:5},{default:i(()=>[g.value&&h.value?(l(),c(v,{key:0},[u("text",{skipFocus:"true",style:k},"Recommendations"),a(w,{onFocus:A,onEnter:x,width:1620,justifyContent:"spaceBetween"},{default:i(()=>[(l(!0),c(v,null,F(g.value,f=>(l(),c("node",{style:_(T),src:f.src,item:f},null,12,se))),256))]),_:1}),u("text",{skipFocus:"",style:k},"Cast and Crew"),a(w,{onFocus:N,onEnter:x,width:1620},{default:i(()=>[(l(!0),c(v,null,F(h.value,f=>(l(),c("node",{style:_(T),src:f.src,item:f,justifyContent:"spaceBetween"},null,12,re))),256))]),_:1})],64)):b("",!0)]),_:1},8,["style"]),u("node",{ref_key:"backdropRef",ref:d,style:z,transition:{alpha:!0,y:!0}},null,512)]),u("node",{alpha:j.value,color:255,skipFocus:"",zIndex:200,transition:{alpha:!0}},null,8,ae)])):b("",!0)}});export{ue as default};
//# sourceMappingURL=Entity-B9pSSdqM.js.map

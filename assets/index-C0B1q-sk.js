const __vite__fileDeps=["assets/Grid-DNP7Rmz3.js","assets/CoreExtension-BIbjL7uI.js","assets/Portal-DSfFe9_P.js","assets/Text-BuNvKCsD.js","assets/Create-CEjRkay2.js","assets/Viewport-zacb_ouO.js","assets/Buttons-DgaqPc7i.js","assets/Flex-Dou02tGW.js","assets/FlexSize-CQtjHeo8.js","assets/FlexColumnSize-BtSBOb0K.js","assets/FlexColumn-BKVYOOYh.js","assets/ButtonsMaterial-D8KfKKMj.js","assets/SuperFlex-DCSXMEhs.js","assets/Entity-BAFLYEXB.js","assets/People-OAq_nGW4.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var yi=Object.defineProperty;var vi=(n,r,e)=>r in n?yi(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;var h=(n,r,e)=>(vi(n,typeof r!="symbol"?r+"":r,e),e);import{a as L,i as lo,T as bi,g as mr,E as Xe,b as Te,c as nt,d as wi,e as qr,f as Si,m as ft,W as st,C as Ai,h as co,j as Ci,k as xr,S as yn,l as uo,B as Ti,n as _i,o as ho,p as Ri,q as Ii,r as ki,s as Bi,t as vn,u as bn,v as Ni,w as fo,R as Ei,x as Li,y as Fi,z as Mi,A as Pi}from"./CoreExtension-BIbjL7uI.js";function Kd(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();const Di="modulepreload",zi=function(n){return"/solid-demo-app/"+n},wn={},le=function(r,e,t){let o=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.all(e.map(a=>{if(a=zi(a),a in wn)return;wn[a]=!0;const l=a.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(a,'"]').concat(d)))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":Di,l||(u.as="script",u.crossOrigin=""),u.href=a,s&&u.setAttribute("nonce",s),document.head.appendChild(u),l)return new Promise((f,m)=>{u.addEventListener("load",f),u.addEventListener("error",()=>m(new Error("Unable to preload CSS for ".concat(a))))})}))}return o.then(()=>r()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};class go{constructor(r){h(this,"releaseCallback");this.releaseCallback=r}}class Oi extends go{constructor(e,t){var o,i;super(e);h(this,"textureMap",new Map);h(this,"zeroReferenceTextureSet",new Set);h(this,"options");this.options={textureCleanupIntervalMs:(o=t.textureCleanupIntervalMs)!=null?o:1e4,textureCleanupAgeThreadholdMs:(i=t.textureCleanupAgeThreadholdMs)!=null?i:6e4},setInterval(()=>{const s=Date.now(),a=this.options.textureCleanupAgeThreadholdMs;for(const l of this.zeroReferenceTextureSet)s-l.lastUpdate>a&&(this.releaseCallback(l.id),this.textureMap.delete(l.id),this.zeroReferenceTextureSet.delete(l))},this.options.textureCleanupIntervalMs)}registerTexture(e){var o;const t=(o=e.options)==null?void 0:o.id;if(L(t,"Texture must have an id to be registered"),!this.textureMap.has(t)){const i={id:t,nodeRefCount:0,lastUpdate:Date.now()};this.textureMap.set(t,i),this.zeroReferenceTextureSet.add(i)}}incrementTextureRefCount(e){var i;const t=(i=e.options)==null?void 0:i.id;L(t,"Texture must have an id to be registered");let o=this.textureMap.get(t);o||(this.registerTexture(e),o=this.textureMap.get(t)),L(o,"Texture must have been registered"),e.txType==="SubTexture"&&this.incrementTextureRefCount(e.props.texture),o.nodeRefCount++,o.lastUpdate=Date.now(),this.zeroReferenceTextureSet.has(o)&&this.zeroReferenceTextureSet.delete(o)}decrementTextureRefCount(e){var i;const t=(i=e.options)==null?void 0:i.id;L(t,"Texture must have an id to be registered");const o=this.textureMap.get(t);L(o,"Texture must have been registered"),o.nodeRefCount--,o.lastUpdate=Date.now(),o.nodeRefCount===0&&this.zeroReferenceTextureSet.add(o),e.txType==="SubTexture"&&this.decrementTextureRefCount(e.props.texture)}}class Ui extends go{constructor(e){super(e);h(this,"registry");this.registry=new FinalizationRegistry(e)}registerTexture(e){var t,o;L((t=e.options)==null?void 0:t.id,"Texture must have an ID to be registered"),this.registry.register(e,(o=e.options)==null?void 0:o.id)}incrementTextureRefCount(){}decrementTextureRefCount(){}}const dt={alpha:n=>n===1?null:{prop:"opacity",value:"".concat(n)},x:n=>({prop:"left",value:"".concat(n,"px")}),y:n=>({prop:"top",value:"".concat(n,"px")}),width:n=>n===0?null:{prop:"width",value:"".concat(n,"px")},height:n=>n===0?null:{prop:"height",value:"".concat(n,"px")},zIndex:()=>"zIndex",fontFamily:()=>"font-family",fontSize:()=>"font-size",fontStyle:()=>"font-style",fontWeight:()=>"font-weight",fontStretch:()=>"font-stretch",lineHeight:()=>"line-height",letterSpacing:()=>"letter-spacing",textAlign:()=>"text-align",overflowSuffix:()=>"overflow-suffix",maxLines:()=>"max-lines",contain:()=>"contain",verticalAlign:()=>"vertical-align",clipping:n=>n===!1?null:{prop:"overflow",value:n?"hidden":"visible"},rotation:n=>n===0?null:{prop:"transform",value:"rotate(".concat(n,"rad)")},scale:n=>n===1?null:{prop:"transform",value:"scale(".concat(n,")")},scaleX:n=>n===1?null:{prop:"transform",value:"scaleX(".concat(n,")")},scaleY:n=>n===1?null:{prop:"transform",value:"scaleY(".concat(n,")")},color:n=>n===0?null:{prop:"color",value:po(n)}},po=n=>{const r=(n&255)/255,e=n>>8&255,t=n>>16&255,o=n>>24&255;return"rgba(".concat(o,",").concat(t,",").concat(e,",").concat(r,")")},Wi={id:"id"};class Yi{constructor(r,e){h(this,"root",null);h(this,"canvas",null);h(this,"height",1080);h(this,"width",1920);h(this,"scaleX",1);h(this,"scaleY",1);var i,s,a,l,d,u;if(lo())return;if(!e)throw new Error("settings is required");this.height=Math.ceil((s=e.appHeight)!=null?s:1080/((i=e.deviceLogicalPixelRatio)!=null?i:1)),this.width=Math.ceil((l=e.appWidth)!=null?l:1900/((a=e.deviceLogicalPixelRatio)!=null?a:1)),this.scaleX=(d=e.deviceLogicalPixelRatio)!=null?d:1,this.scaleY=(u=e.deviceLogicalPixelRatio)!=null?u:1,this.canvas=r,this.root=document.createElement("div"),this.setRootPosition(),document.body.appendChild(this.root),new MutationObserver(this.setRootPosition.bind(this)).observe(r,{attributes:!0,childList:!1,subtree:!1}),new ResizeObserver(this.setRootPosition.bind(this)).observe(r),window.addEventListener("resize",this.setRootPosition.bind(this)),console.warn("Inspector is enabled, this will impact performance")}setRootPosition(){if(this.root===null||this.canvas===null)return;const r=this.canvas.getBoundingClientRect(),e=document.documentElement.scrollTop+r.top,t=document.documentElement.scrollLeft+r.left;this.root.id="root",this.root.style.left="".concat(t,"px"),this.root.style.top="".concat(e,"px"),this.root.style.width="".concat(this.width,"px"),this.root.style.height="".concat(this.height,"px"),this.root.style.position="absolute",this.root.style.transformOrigin="0 0 0",this.root.style.transform="scale(".concat(this.scaleX,", ").concat(this.scaleY,")"),this.root.style.overflow="hidden",this.root.style.zIndex="65534"}createDiv(r,e){const t=document.createElement("div");t.style.position="absolute",t.id=r.id.toString();for(const o in e)this.updateNodeProperty(t,o,e[o]);return t}createNode(r,e){const t=r.createNode(e),o=this.createDiv(t,e);return o.node=t,t.div=o,this.createProxy(t,o)}createTextNode(r,e){const t=r.createTextNode(e),o=this.createDiv(t,e);return o.node=t,t.div=o,this.createProxy(t,o)}createProxy(r,e){return new Proxy(r,{set:(t,o,i)=>(this.updateNodeProperty(e,o,i),Reflect.set(t,o,i)),get:(t,o,i)=>(o==="destroy"&&this.destroyNode(t),o==="animate"?(s,a)=>{const l=t.animate(s,a);return new Proxy(l,{get:(d,u,f)=>(u==="start"&&this.animateNode(e,r,s,a),Reflect.get(d,u,f))})}:Reflect.get(t,o,i))})}destroyNode(r){const e=document.getElementById(r.id.toString());e==null||e.remove()}updateNodeProperty(r,e,t){var o;if(!(this.root===null||t===void 0||t===null)){if(e==="parent"){const i=t.id;if(i===1){this.root.appendChild(r);return}const s=document.getElementById(i.toString());s==null||s.appendChild(r);return}if(e==="text"){r.innerHTML=String(t),r.style.visibility="hidden";return}if(e==="src"&&t){r.setAttribute("data-src",String(t));return}if(dt[e]){const i=(o=dt[e])==null?void 0:o.call(dt,t);if(i===null)return;if(typeof i=="string"){r.style.setProperty(i,String(t));return}typeof i=="object"&&r.style.setProperty(i.prop,i.value);return}if(Wi[e]){r.setAttribute(String(dt[e]),String(t));return}if(e==="data"){for(const i in t){const s=t[i];s===void 0?r.removeAttribute("data-".concat(i)):r.setAttribute("data-".concat(i),String(s))}return}}}animateNode(r,e,t,o){const{duration:i=1e3,delay:s=0}=o,{x:a,y:l,width:d,height:u,alpha:f=1,rotation:m=0,scale:b=1,color:v}=t;function y(){setTimeout(()=>{r.style.top="".concat(l,"px"),r.style.left="".concat(a,"px"),r.style.width="".concat(d,"px"),r.style.height="".concat(u,"px"),r.style.opacity="".concat(f),r.style.rotate="".concat(m,"rad"),r.style.scale="".concat(b),r.style.color=po(v)},i)}setTimeout(y,s)}}class te{constructor(r){h(this,"priority",1);h(this,"name","");h(this,"ref");h(this,"target");h(this,"passParameters","");h(this,"declaredUniforms","");h(this,"uniformInfo",{});const{ref:e,target:t,props:o={}}=r;this.ref=e,this.target=t;const i={},s=[];let a="";const l=this.constructor.uniforms||{};for(const d in l){const u=l[d],f=u.type,m="".concat(e,"_").concat(d);let b="";u.size&&(b="[".concat(u.size(o),"]")),s.push(m),a+="uniform ".concat(f," ").concat(m).concat(b,";"),i[d]={name:m,uniform:l[d].method}}this.passParameters=s.join(","),this.declaredUniforms=a,this.uniformInfo=i}static getEffectKey(r){return""}static getMethodParameters(r,e){const t=[];for(const o in r){const i=r[o];let s="";i.size&&(s="[".concat(i.size(e),"]")),t.push("".concat(i.type," ").concat(o).concat(s))}return t.join(",")}static resolveDefaults(r){return{}}static makeEffectKey(r){return!1}}h(te,"uniforms",{}),h(te,"methods"),h(te,"onShaderMask"),h(te,"onColorize"),h(te,"onEffectMask");const Hi={x:(n,r)=>{n.props.x=r},y:(n,r)=>{n.props.y=r},width:(n,r)=>{n.props.width=r},height:(n,r)=>{n.props.height=r},color:(n,r)=>{n.props.color=r},zIndex:(n,r)=>{n.props.zIndex=r},fontFamily:(n,r)=>{n.props.fontFamily=r},fontWeight:(n,r)=>{n.props.fontWeight=r},fontStyle:(n,r)=>{n.props.fontStyle=r},fontStretch:(n,r)=>{n.props.fontStretch=r},fontSize:(n,r)=>{n.props.fontSize=r},text:(n,r)=>{n.props.text=r},textAlign:(n,r)=>{n.props.textAlign=r},contain:(n,r)=>{n.props.contain=r},offsetY:(n,r)=>{n.props.offsetY=r},scrollable:(n,r)=>{n.props.scrollable=r},scrollY:(n,r)=>{n.props.scrollY=r},letterSpacing:(n,r)=>{n.props.letterSpacing=r},lineHeight:(n,r)=>{n.props.lineHeight=r},maxLines:(n,r)=>{n.props.maxLines=r},textBaseline:(n,r)=>{n.props.textBaseline=r},verticalAlign:(n,r)=>{n.props.verticalAlign=r},overflowSuffix:(n,r)=>{n.props.overflowSuffix=r},debug:(n,r)=>{n.props.debug=r}};class mo{constructor(r){h(this,"stage");h(this,"set");this.stage=r;const e={...Hi,...this.getPropertySetters()};this.set=Object.freeze(Object.fromEntries(Object.entries(e).map(([t,o])=>[t,(i,s)=>{i.props[t]!==s&&(o(i,s),this.stage.requestRender())}])))}setStatus(r,e,t){r.status!==e&&(r.status=e,r.emitter.emit(e,t))}setIsRenderable(r,e){r.isRenderable=e}destroyState(r){this.setStatus(r,"destroyed"),r.emitter.removeAllListeners()}scheduleUpdateState(r){r.updateScheduled||(r.updateScheduled=!0,queueMicrotask(()=>{r.status!=="destroyed"&&(r.updateScheduled=!1,this.updateState(r))}))}}function xo(n,r){var e=0,t,o;r=r||{};function i(){var s=t,a=arguments.length,l,d;e:for(;s;){if(s.args.length!==arguments.length){s=s.next;continue}for(d=0;d<a;d++)if(s.args[d]!==arguments[d]){s=s.next;continue e}return s!==t&&(s===o&&(o=s.prev),s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.next=t,s.prev=null,t.prev=s,t=s),s.val}for(l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return s={args:l,val:n.apply(null,l)},t?(t.prev=s,s.next=t):o=s,e===r.maxSize?(o=o.prev,o.next=null):e++,t=s,s.val}return i.clear=function(){t=null,o=null,e=0},i}const $i={normal:400,bold:700,bolder:900,lighter:100},Sn=n=>typeof n=="number"?n:$i[n]||400;function Ki(n,r,e,t,o){let i=Sn(e);for(const s of n){const a=s[r];if(!a)continue;if(a.size===1)return console.warn("TrFontManager: Only one font face found for family: '".concat(r,"' - will be used for all weights and styles")),a.values().next().value;const l=new Map;for(const u of a){const f=Sn(u.descriptors.weight);if(f===i&&u.descriptors.style===t&&u.descriptors.stretch===o)return u;l.set(f,u)}const d="TrFontManager: No exact match: '".concat(r," Weight: ").concat(i," Style: ").concat(t," Stretch: ").concat(o,"'");if(console.error(d),i===400&&l.has(500))return l.get(500);if(i===500&&l.has(400))return l.get(400);if(i<400){for(;i>0;){if(l.has(i))return l.get(i);i-=100}i=600}for(;i<1e3;){if(l.has(i))return l.get(i);i+=100}for(i=500;i>0;){if(l.has(i))return l.get(i);i-=100}}}const Qi=xo(Ki);class Zr{constructor(r){h(this,"textRenderers");this.textRenderers=r}addFontFace(r){for(const e in this.textRenderers){const t=this.textRenderers[e];t&&t.isFontFaceSupported(r)&&t.addFontFace(r)}}static resolveFontFace(r,e){const{fontFamily:t,fontWeight:o,fontStyle:i,fontStretch:s}=e;return Qi(r,t,o,i,s)}}class yr extends bi{constructor(e){super(e);h(this,"fontFace");h(this,"fontUrl");const{fontFamily:t,fontUrl:o}=e,i=o.replace(/\(|\)/g,""),s=this.descriptors,a={style:s.style,weight:typeof s.weight=="number"?"".concat(s.weight):s.weight,stretch:s.stretch,unicodeRange:s.unicodeRange,variant:s.variant,featureSettings:s.featureSettings,display:s.display},l=new FontFace(t,"url(".concat(i,")"),a);l.load().then(()=>{this.loaded=!0,this.emit("loaded")}).catch(console.error),this.fontFace=l,this.fontUrl=o}}function yo(n,r){return r*(n.ascender-n.descender+n.lineGap)}function Xi(n,r,e){if(r.metrics)return r.metrics;const t=n.measureText("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz");console.warn("Font metrics not provided for Canvas Web font ".concat(r.fontFamily,". ")+"Using fallback values. It is HIGHLY recommended you use the latest version of the Lightning 3 `msdf-generator` tool to extract the default metrics for the font and provide them in the Canvas Web font definition.");let o;return t.actualBoundingBoxDescent&&t.actualBoundingBoxAscent?o={ascender:t.actualBoundingBoxAscent/e,descender:-t.actualBoundingBoxDescent/e,lineGap:.2}:o={ascender:.8,descender:-.2,lineGap:.2},r.metrics=o,o}const An=2048;function Cn(n,r,e,t,o){const i=n!=="bottom"?.5*r:0;return e*(t-1)+i+Math.max(e,r)+(o||0)}class ji{constructor(r,e){h(this,"_canvas");h(this,"_context");h(this,"_settings");h(this,"renderInfo");this._canvas=r,this._context=e,this._settings=this.mergeDefaults({})}set settings(r){this._settings=this.mergeDefaults(r)}get settings(){return this._settings}getPrecision(){return this._settings.precision}setFontProperties(){this._context.font=this._getFontSetting(),this._context.textBaseline=this._settings.textBaseline}_getFontSetting(){const r=[this._settings.fontFamily],e=[];for(let t=0,o=r.length;t<o;t++)r[t]==="serif"||r[t]==="sans-serif"?e.push(r[t]):e.push('"'.concat(r[t],'"'));return"".concat(this._settings.fontStyle," ").concat(this._settings.fontSize*this.getPrecision(),"px ").concat(e.join(","))}_load(){if(document.fonts){const r=this._getFontSetting();try{if(!document.fonts.check(r,this._settings.text))return document.fonts.load(r,this._settings.text).catch(e=>{console.warn("[Lightning] Font load error",e,r)}).then(()=>{document.fonts.check(r,this._settings.text)||console.warn("[Lightning] Font not found",r)})}catch(e){console.warn("[Lightning] Can't check font loading for "+r)}}}calculateRenderInfo(){const r={},e=this.getPrecision(),t=this._settings.paddingLeft*e,o=this._settings.paddingRight*e,i=this._settings.fontSize*e;let s=this._settings.offsetY===null?null:this._settings.offsetY*e;const a=this._settings.w*e,l=this._settings.h*e;let d=this._settings.wordWrapWidth*e;const u=this._settings.cutSx*e,f=this._settings.cutEx*e,m=this._settings.cutSy*e,b=this._settings.cutEy*e,v=(this._settings.letterSpacing||0)*e,y=this._settings.textIndent*e,w=this._settings.trFontFace;this.setFontProperties(),L(w);const S=Xi(this._context,w,i),x=yo(S,i)*e,p=this._settings.lineHeight!==null?this._settings.lineHeight*e:x,g=this._settings.maxHeight,A=g!==null&&p>0?Math.floor(g/p):0,T=this._settings.maxLines,R=A>0&&T>0?Math.min(A,T):Math.max(A,T);let I=a||2048/this.getPrecision(),C=I-t;if(C<10&&(I+=10-C,C=10),d||(d=C),this._settings.textOverflow&&!this._settings.wordWrap){let F;switch(this._settings.textOverflow){case"clip":F="";break;case"ellipsis":F=this._settings.overflowSuffix;break;default:F=this._settings.textOverflow}this._settings.text=this.wrapWord(this._settings.text,d-y,F)}let E;if(this._settings.wordWrap)E=this.wrapText(this._settings.text,d,v,y);else{E={l:this._settings.text.split(/(?:\r\n|\r|\n)/),n:[]};const F=E.l.length;for(let D=0;D<F-1;D++)E.n.push(D)}let B=E.l;if(R&&B.length>R){const F=B.slice(0,R);let D=null;if(this._settings.overflowSuffix){const ue=this._settings.overflowSuffix?this.measureText(this._settings.overflowSuffix):0,he=this.wrapText(F[F.length-1],d-ue,v,y);F[F.length-1]="".concat(he.l[0]).concat(this._settings.overflowSuffix),D=[he.l.length>1?he.l[1]:""]}else D=[""];let O;const q=B.length;let K=0;const re=E.n.length;for(O=R;O<q;O++)D[K]+="".concat(D[K]?" ":"").concat(B[O]),O+1<re&&E.n[O+1]&&K++;r.remainingText=D.join("\n"),r.moreTextLines=!0,B=F}else r.moreTextLines=!1,r.remainingText="";let N=0;const M=[];for(let F=0;F<B.length;F++){const D=this.measureText(B[F],v)+(F===0?y:0);M.push(D),N=Math.max(N,D)}r.lineWidths=M,a||(I=N+t+o,C=N);let P;return l?P=l:P=Cn(this._settings.textBaseline,i,p,B.length,s),s===null&&(s=i),r.w=I,r.h=P,r.lines=B,r.precision=e,I||(I=1),P||(P=1),(u||f)&&(I=Math.min(I,f-u)),(m||b)&&(P=Math.min(P,b-m)),r.width=I,r.innerWidth=C,r.height=P,r.fontSize=i,r.cutSx=u,r.cutSy=m,r.cutEx=f,r.cutEy=b,r.lineHeight=p,r.defLineHeight=x,r.lineWidths=M,r.offsetY=s,r.paddingLeft=t,r.paddingRight=o,r.letterSpacing=v,r.textIndent=y,r.metrics=S,r}draw(r,e){const t=this.getPrecision(),o=(e==null?void 0:e.lines)||r.lines,i=(e==null?void 0:e.lineWidths)||r.lineWidths,s=e?Cn(this._settings.textBaseline,r.fontSize,r.lineHeight,e.lines.length,this._settings.offsetY===null?null:this._settings.offsetY*t):r.height;this._canvas.width=Math.min(Math.ceil(r.width+this._settings.textRenderIssueMargin),An),this._canvas.height=Math.min(Math.ceil(s),An),this.setFontProperties(),r.fontSize>=128&&(this._context.globalAlpha=.01,this._context.fillRect(0,0,.01,.01),this._context.globalAlpha=1),(r.cutSx||r.cutSy)&&this._context.translate(-r.cutSx,-r.cutSy);let a,l;const d=[],{metrics:u}=r,f=u?u.ascender*r.fontSize:r.fontSize,m=(u.ascender-u.descender)*r.fontSize;for(let v=0,y=o.length;v<y;v++)a=v===0?r.textIndent:0,l=v*r.lineHeight+f,this._settings.verticalAlign=="middle"?l+=(r.lineHeight-m)/2:this._settings.verticalAlign=="bottom"&&(l+=r.lineHeight-m),this._settings.textAlign==="right"?a+=r.innerWidth-i[v]:this._settings.textAlign==="center"&&(a+=(r.innerWidth-i[v])/2),a+=r.paddingLeft,d.push({text:o[v],x:a,y:l,w:i[v]});if(this._settings.highlight){const v=this._settings.highlightColor,y=this._settings.highlightHeight*t||r.fontSize*1.5,w=this._settings.highlightOffset*t,S=this._settings.highlightPaddingLeft!==null?this._settings.highlightPaddingLeft*t:r.paddingLeft,x=this._settings.highlightPaddingRight!==null?this._settings.highlightPaddingRight*t:r.paddingRight;this._context.fillStyle=mr(v);for(let p=0;p<d.length;p++){const g=d[p];this._context.fillRect(g.x-S,g.y-r.offsetY+w,g.w+x+S,y)}}let b=null;this._settings.shadow&&(b=[this._context.shadowColor,this._context.shadowOffsetX,this._context.shadowOffsetY,this._context.shadowBlur],this._context.shadowColor=mr(this._settings.shadowColor),this._context.shadowOffsetX=this._settings.shadowOffsetX*t,this._context.shadowOffsetY=this._settings.shadowOffsetY*t,this._context.shadowBlur=this._settings.shadowBlur*t),this._context.fillStyle=mr(this._settings.textColor);for(let v=0,y=d.length;v<y;v++){const w=d[v];if(r.letterSpacing===0)this._context.fillText(w.text,w.x,w.y);else{const S=w.text.split("");let x=w.x;for(let p=0,g=S.length;p<g;p++)this._context.fillText(S[p],x,w.y),x+=this.measureText(S[p],r.letterSpacing)}}b&&(this._context.shadowColor=b[0],this._context.shadowOffsetX=b[1],this._context.shadowOffsetY=b[2],this._context.shadowBlur=b[3]),(r.cutSx||r.cutSy)&&this._context.translate(r.cutSx,r.cutSy),this.renderInfo=r}wrapWord(r,e,t){const o=this._context.measureText(t).width,i=r.length,s=this._context.measureText(r).width;if(s<=e)return r;let a=Math.floor(e*i/s),l=this._context.measureText(r.substring(0,a)).width+o;if(l>e)for(;a>0&&(l=this._context.measureText(r.substring(0,a)).width+o,l>e);)a-=1;else for(;a<i;)if(l=this._context.measureText(r.substring(0,a)).width+o,l<e)a+=1;else{a-=1;break}return r.substring(0,a)+(e>=o?t:"")}wrapText(r,e,t,o=0){const i=r.split(/\r?\n/g);let s=[];const a=[];for(let l=0;l<i.length;l++){const d=[];let u="",f=e-o;const m=i[l].split(" ");for(let b=0;b<m.length;b++){const v=this.measureText(m[b],t),y=v+this.measureText(" ",t);b===0||y>f?(b>0&&(d.push(u),u=""),u+=m[b],f=e-v-(b===0?o:0)):(f-=y,u+=" ".concat(m[b]))}d.push(u),u="",s=s.concat(d),l<i.length-1&&a.push(s.length)}return{l:s,n:a}}measureText(r,e=0){return e?r.split("").reduce((t,o)=>t+this._context.measureText(o).width+e,0):this._context.measureText(r).width}mergeDefaults(r){return{text:"",w:0,h:0,fontStyle:"normal",fontSize:40,fontFamily:null,trFontFace:null,wordWrap:!0,wordWrapWidth:0,wordBreak:!1,textOverflow:"",lineHeight:null,textBaseline:"alphabetic",textAlign:"left",verticalAlign:"top",offsetY:null,maxLines:0,maxHeight:null,overflowSuffix:"...",textColor:[1,1,1,1],paddingLeft:0,paddingRight:0,shadow:!1,shadowColor:[0,0,0,1],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:5,highlight:!1,highlightHeight:0,highlightColor:[0,0,0,1],highlightOffset:0,highlightPaddingLeft:0,highlightPaddingRight:0,letterSpacing:0,textIndent:0,cutSx:0,cutEx:0,cutSy:0,cutEy:0,advancedRenderer:!1,fontBaselineRatio:0,precision:1,textRenderIssueMargin:0,...r}}}const Tn=typeof self>"u"?globalThis:self;var ao;const _n=((ao=Tn.document)==null?void 0:ao.fonts)||Tn.fonts;function Vi(n){const{fontFamily:r,fontStyle:e,fontWeight:t,fontStretch:o,fontSize:i}=n;return[e,t,o,"".concat(i,"px"),r].join(" ")}const Gi=nt(0,0,0,0);class Rn extends mo{constructor(e){super(e);h(this,"canvas");h(this,"context");h(this,"rendererBounds");h(this,"fontFamilies",{});h(this,"fontFamilyArray",[this.fontFamilies]);typeof OffscreenCanvas<"u"?this.canvas=new OffscreenCanvas(0,0):this.canvas=document.createElement("canvas");let t=this.canvas.getContext("2d");t||(this.canvas=document.createElement("canvas"),t=this.canvas.getContext("2d")),L(t),this.context=t,this.rendererBounds={x1:0,y1:0,x2:this.stage.options.appWidth,y2:this.stage.options.appHeight},this.addFontFace(new yr({fontFamily:"sans-serif",descriptors:{},fontUrl:""}))}getPropertySetters(){return{fontFamily:(e,t)=>{e.props.fontFamily=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontWeight:(e,t)=>{e.props.fontWeight=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontStyle:(e,t)=>{e.props.fontStyle=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontStretch:(e,t)=>{e.props.fontStretch=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontSize:(e,t)=>{e.props.fontSize=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},text:(e,t)=>{e.props.text=t,this.invalidateLayoutCache(e)},textAlign:(e,t)=>{e.props.textAlign=t,this.invalidateLayoutCache(e)},color:(e,t)=>{e.props.color=t,this.invalidateLayoutCache(e)},x:(e,t)=>{e.props.x=t,this.invalidateVisibleWindowCache(e)},y:(e,t)=>{e.props.y=t,this.invalidateVisibleWindowCache(e)},contain:(e,t)=>{e.props.contain=t,this.invalidateLayoutCache(e)},width:(e,t)=>{e.props.width=t,e.props.contain!=="none"&&this.invalidateLayoutCache(e)},height:(e,t)=>{e.props.height=t,e.props.contain==="both"&&this.invalidateLayoutCache(e)},offsetY:(e,t)=>{e.props.offsetY=t,this.invalidateLayoutCache(e)},scrollY:(e,t)=>{e.props.scrollY=t},letterSpacing:(e,t)=>{e.props.letterSpacing=t,this.invalidateLayoutCache(e)},lineHeight:(e,t)=>{e.props.lineHeight=t,this.invalidateLayoutCache(e)},maxLines:(e,t)=>{e.props.maxLines=t,this.invalidateLayoutCache(e)},textBaseline:(e,t)=>{e.props.textBaseline=t,this.invalidateLayoutCache(e)},verticalAlign:(e,t)=>{e.props.verticalAlign=t,this.invalidateLayoutCache(e)},overflowSuffix:(e,t)=>{e.props.overflowSuffix=t,this.invalidateLayoutCache(e)}}}canRenderFont(e){return!0}isFontFaceSupported(e){return e instanceof yr}addFontFace(e){L(e instanceof yr),e.fontFamily!=="sans-serif"&&_n.add(e.fontFace);const{fontFamilies:t}=this,o=e.fontFace.family;let i=t[o];i||(i=new Set,t[o]=i),i.add(e)}createState(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new Xe,canvasPages:void 0,lightning2TextRenderer:new ji(this.canvas,this.context),renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},renderInfo:void 0,forceFullLayoutCalc:!1,textW:0,textH:0,fontInfo:void 0,fontFaceLoadedHandler:void 0,isRenderable:!1,debugData:{updateCount:0,layoutCount:0,drawCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,bufferSize:0}}}updateState(e){var v,y,w;if(e.status==="initialState"&&this.setStatus(e,"loading"),!e.fontInfo){const S=Vi(e.props),x=Zr.resolveFontFace(this.fontFamilyArray,e.props);if(L(x,"Could not resolve font face for ".concat(S)),e.fontInfo={fontFace:x,cssString:S,loaded:!1},!e.fontInfo.loaded){_n.load(S).then(this.onFontLoaded.bind(this,e,S)).catch(this.onFontLoadError.bind(this,e,S));return}}if(!e.fontInfo.loaded)return;e.renderInfo||(e.lightning2TextRenderer.settings={text:e.props.text,textAlign:e.props.textAlign,fontFamily:e.props.fontFamily,trFontFace:e.fontInfo.fontFace,fontSize:e.props.fontSize,fontStyle:[e.props.fontStretch,e.props.fontStyle,e.props.fontWeight].join(" "),textColor:Te(e.props.color),offsetY:e.props.offsetY,wordWrap:e.props.contain!=="none",wordWrapWidth:e.props.contain==="none"?void 0:e.props.width,letterSpacing:e.props.letterSpacing,lineHeight:(v=e.props.lineHeight)!=null?v:null,maxLines:e.props.maxLines,maxHeight:e.props.contain==="both"?e.props.height-e.props.offsetY:null,textBaseline:e.props.textBaseline,verticalAlign:e.props.verticalAlign,overflowSuffix:e.props.overflowSuffix,w:e.props.contain!=="none"?e.props.width:void 0},e.renderInfo=e.lightning2TextRenderer.calculateRenderInfo(),e.textH=e.renderInfo.lineHeight*e.renderInfo.lines.length,e.textW=e.renderInfo.width,e.renderWindow=void 0);const{x:t,y:o,width:i,height:s,scrollY:a,contain:l}=e.props,{visibleWindow:d}=e;let{renderWindow:u,canvasPages:f}=e;if(!d.valid){const S=nt(t,o,l!=="none"?t+i:1/0,l==="both"?o+s:1/0,Gi);wi(this.rendererBounds,S,d),d.valid=!0}const m=d.y2-d.y1,b=Math.ceil(m/e.renderInfo.lineHeight);if(m===0){f=void 0,u=void 0,this.setStatus(e,"loaded");return}else if(u&&f){const S=t+u.x1,x=o-a+u.y1,p=t+u.x2,g=o-a+u.y2;if(S<=d.x1&&p>=d.x2&&x<=d.y1&&g>=d.y2){this.setStatus(e,"loaded");return}g<d.y2?(u.y1+=b*e.renderInfo.lineHeight,u.y2+=b*e.renderInfo.lineHeight,f.push(f.shift()),f[2].lineNumStart=f[1].lineNumStart+b,f[2].lineNumEnd=f[2].lineNumStart+b,f[2].valid=!1):x>d.y1&&(u.y1-=b*e.renderInfo.lineHeight,u.y2-=b*e.renderInfo.lineHeight,f.unshift(f.pop()),f[0].lineNumStart=f[1].lineNumStart-b,f[0].lineNumEnd=f[0].lineNumStart+b,f[0].valid=!1)}else{const S=e.renderInfo.lineHeight*b,x=Math.ceil(a/S),p=x*b,g=p-b,A=p+b;f=[{texture:f==null?void 0:f[0].texture,lineNumStart:g,lineNumEnd:g+b,valid:!1},{texture:f==null?void 0:f[1].texture,lineNumStart:p,lineNumEnd:p+b,valid:!1},{texture:f==null?void 0:f[2].texture,lineNumStart:A,lineNumEnd:A+b,valid:!1}],e.canvasPages=f;const T=x*S;u={x1:0,y1:T-S,x2:i,y2:T+S*2}}e.renderWindow=u,performance.now();for(const S of f)if(!S.valid){if(S.lineNumStart<0){(y=S.texture)==null||y.setRenderableOwner(e,!1),S.texture=this.stage.txManager.loadTexture("ImageTexture",{src:""}),S.texture.setRenderableOwner(e,e.isRenderable),S.valid=!0;continue}e.lightning2TextRenderer.draw(e.renderInfo,{lines:e.renderInfo.lines.slice(S.lineNumStart,S.lineNumEnd),lineWidths:e.renderInfo.lineWidths.slice(S.lineNumStart,S.lineNumEnd)}),this.canvas.width===0||this.canvas.height===0||((w=S.texture)==null||w.setRenderableOwner(e,!1),S.texture=this.stage.txManager.loadTexture("ImageTexture",{src:this.context.getImageData(0,0,this.canvas.width,this.canvas.height)},{preload:!0}),S.texture.setRenderableOwner(e,e.isRenderable)),S.valid=!0}this.setStatus(e,"loaded")}renderQuads(e,t,o,i){var I,C,E,B,N,M,P,F,D,O,q,K;const{stage:s}=this,{canvasPages:a,textW:l=0,textH:d=0,renderWindow:u}=e;if(!a||!u)return;const{x:f,y:m,scrollY:b,contain:v,width:y,height:w}=e.props,S={x:f,y:m,width:v!=="none"?y:l,height:v==="both"?w:d};qr({x:0,y:0,width:s.options.appWidth,height:s.options.appHeight},S),L(a,"canvasPages is not defined"),L(u,"renderWindow is not defined");const p=(u.y2-u.y1)/3,{zIndex:g,color:A}=e.props,T=i*Si(A),R=ft(4294967295,T);a[0].valid&&this.stage.renderer.addQuad({alpha:T,clippingRect:o,colorBl:R,colorBr:R,colorTl:R,colorTr:R,width:((C=(I=a[0].texture)==null?void 0:I.dimensions)==null?void 0:C.width)||0,height:((B=(E=a[0].texture)==null?void 0:E.dimensions)==null?void 0:B.height)||0,texture:a[0].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:g,tx:t.tx,ty:t.ty-b+u.y1,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td}),a[1].valid&&this.stage.renderer.addQuad({alpha:T,clippingRect:o,colorBl:R,colorBr:R,colorTl:R,colorTr:R,width:((M=(N=a[1].texture)==null?void 0:N.dimensions)==null?void 0:M.width)||0,height:((F=(P=a[1].texture)==null?void 0:P.dimensions)==null?void 0:F.height)||0,texture:a[1].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:g,tx:t.tx,ty:t.ty-b+u.y1+p,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td}),a[2].valid&&this.stage.renderer.addQuad({alpha:T,clippingRect:o,colorBl:R,colorBr:R,colorTl:R,colorTr:R,width:((O=(D=a[2].texture)==null?void 0:D.dimensions)==null?void 0:O.width)||0,height:((K=(q=a[2].texture)==null?void 0:q.dimensions)==null?void 0:K.height)||0,texture:a[2].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:g,tx:t.tx,ty:t.ty-b+u.y1+p+p,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td})}setIsRenderable(e,t){var o;super.setIsRenderable(e,t),(o=e.canvasPages)==null||o.forEach(i=>{var s;(s=i.texture)==null||s.setRenderableOwner(e,t)})}destroyState(e){var t;super.destroyState(e),(t=e.canvasPages)==null||t.forEach(o=>{var i;(i=o.texture)==null||i.setRenderableOwner(e,!1)})}invalidateVisibleWindowCache(e){e.visibleWindow.valid=!1,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}invalidateLayoutCache(e){e.renderInfo=void 0,e.visibleWindow.valid=!1,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}onFontLoaded(e,t){var o;t!==((o=e.fontInfo)==null?void 0:o.cssString)||!e.fontInfo||(e.fontInfo.loaded=!0,this.scheduleUpdateState(e))}onFontLoadError(e,t,o){var i;t!==((i=e.fontInfo)==null?void 0:i.cssString)||!e.fontInfo||(e.fontInfo.loaded=!0,console.error("CanvasTextRenderer: Error loading font '".concat(e.fontInfo.cssString,"'"),o),this.scheduleUpdateState(e))}}class vo extends st{constructor(r){super({renderer:r,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"}]})}bindTextures(r){const{glw:e}=this;e.activeTexture(0),e.bindTexture(r[0].ctxTexture)}}h(vo,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio;\n        vec2 screenSpace = vec2(2.0 / u_resolution.x, -2.0 / u_resolution.y);\n\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        gl_Position = vec4(normalized.x * screenSpace.x - 1.0, normalized.y * -abs(screenSpace.y) + 1.0, 0.0, 1.0);\n        gl_Position.y = -sign(screenSpace.y) * gl_Position.y;\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n          vec4 color = texture2D(u_texture, v_textureCoordinate);\n          gl_FragColor = vec4(v_color) * texture2D(u_texture, v_textureCoordinate);\n      }\n    "});class bo extends st{constructor(e){super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color","a_textureIndex"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_textures[0]",uniform:"uniform1iv"}]});h(this,"supportsIndexedTextures",!0)}bindTextures(e){const{renderer:t,glw:o}=this;if(e.length>t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS)throw new Error("DefaultShaderBatched: Cannot bind more than ".concat(t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS," textures"));e.forEach((s,a)=>{o.activeTexture(a),o.bindTexture(s.ctxTexture)});const i=Array.from(Array(e.length).keys());this.setUniform("u_textures[0]",i)}}h(bo,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_textureCoordinate;\n      attribute vec2 a_position;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      void main(){\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n        v_textureIndex = a_textureIndex;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:e=>"\n      #define txUnits ".concat(e,"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_image;\n      uniform sampler2D u_textures[txUnits];\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      vec4 sampleFromTexture(sampler2D textures[").concat(e,"], int idx, vec2 uv) {\n        ").concat(Array.from(Array(e).keys()).map(t=>"\n          ".concat(t!==0?"else ":"","if (idx == ").concat(t,") {\n            return texture2D(textures[").concat(t,"], uv);\n          }\n        ")).join(""),"\n        return texture2D(textures[0], uv);\n      }\n\n      void main(){\n        gl_FragColor = vec4(v_color) * sampleFromTexture(u_textures, int(v_textureIndex), v_textureCoordinate);\n      }\n    ")});const vr=new Map,qi=(n,r)=>{const e=JSON.stringify(n);if(vr.has(e))return vr.get(e);const t=(n!=null?n:[]).map(o=>({type:o.type,props:r[o.type].resolveDefaults(o.props||{})}));return vr.set(e,t),t},Ie=class Ie extends st{constructor(e,t,o){const i=Ie.createShader(t,o);super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_alpha",uniform:"uniform1f"},...i.uniforms],shaderSources:{vertex:i.vertex,fragment:i.fragment}});h(this,"effects",[]);this.effects=i.effects,this.calculateProps=xo(this.calculateProps.bind(this))}bindTextures(e){const{glw:t}=this;t.activeTexture(0),t.bindTexture(e[0].ctxTexture)}calculateProps(e){const t=this.renderer.shManager.getRegisteredEffects(),o=[];return e==null||e.forEach((i,s)=>{var f;const a=this.effects[s],l=t[a.name],d=(f=i.props)!=null?f:{},u=a.uniformInfo;Object.keys(d).forEach(m=>{const b=l.uniforms[m],v=u[m];let y=b.validator?b.validator(d[m],d):d[m];Array.isArray(y)&&(y=new Float32Array(y)),o.push({name:v.name,value:y})})}),o}bindProps(e){this.calculateProps(e.effects).forEach(o=>{this.setUniform(o.name,o.value)})}canBatchShaderProps(e,t){if(e.$dimensions.width!==t.$dimensions.width||e.$dimensions.height!==t.$dimensions.height||e.effects.length!==t.effects.length)return!1;const o=e.effects.length;let i=0;for(;i<o;i++){const s=e.effects[i],a=t.effects[i];if(s.type!==a.type)return!1;for(const l in s.props)if(a.props&&!a.props[l]||s.props[l]!==a.props[l])return!1}return!0}static createShader(e,t){const o={},i={};let s="";const a=[],l=[],d=e.effects.map(v=>{const y=t[v.type],w=y.getEffectKey(v.props||{});o[w]=o[w]?++o[w]:1;const S=o[w];S===1&&l.push({key:w,type:v.type,props:v.props});const x=new y({ref:"".concat(w).concat(S===1?"":S),target:w,props:v.props});return s+=x.declaredUniforms,a.push(...Object.values(x.uniformInfo)),x});let u="";l==null||l.forEach(v=>{var R;const y=t[v.type],w=y.resolveDefaults((R=v.props)!=null?R:{}),S=[];for(const I in y.methods){let C=I;const E=y.methods[I];i[I]&&i[I]!==E&&(C=Ie.resolveMethodDuplicate(I,E,i)),i[C]=E.replace("function",C),S.push({m:I,cm:C})}let x=y.onShaderMask instanceof Function?y.onShaderMask(w):y.onShaderMask,p=y.onColorize instanceof Function?y.onColorize(w):y.onColorize,g=y.onEffectMask instanceof Function?y.onEffectMask(w):y.onEffectMask;S.forEach(I=>{const{m:C,cm:E}=I,B=new RegExp("\\$".concat(C),"g");x&&(x=x.replace(B,E)),p&&(p=p.replace(B,E)),g&&(g=g.replace(B,E))});const A=y.getMethodParameters(y.uniforms,w),T=A.length>0?", ".concat(A):"";x&&(u+="\n        float fx_".concat(v.key,"_onShaderMask(float shaderMask ").concat(T,") {\n          ").concat(x,"\n        }\n        ")),p&&(u+="\n          vec4 fx_".concat(v.key,"_onColorize(float shaderMask, vec4 maskColor, vec4 shaderColor").concat(T,") {\n            ").concat(p,"\n          }\n        ")),g&&(u+="\n          vec4 fx_".concat(v.key,"_onEffectMask(float shaderMask, vec4 maskColor, vec4 shaderColor").concat(T,") {\n            ").concat(g,"\n          }\n        "))});let f="";for(const v in i)f+=i[v];let m="mix(shaderColor, maskColor, clamp(-(lng_DefaultMask), 0.0, 1.0))",b="\n\n    ";for(let v=0;v<d.length;v++){const y=d[v],w=y.passParameters.length>0?", ".concat(y.passParameters):"",S=t[y.name];S.onShaderMask&&(b+="\n        shaderMask = fx_".concat(y.target,"_onShaderMask(shaderMask ").concat(w,");\n        ")),S.onColorize&&(b+="\n        maskColor = fx_".concat(y.target,"_onColorize(shaderMask, maskColor, shaderColor").concat(w,");\n        ")),S.onEffectMask&&(m="fx_".concat(y.target,"_onEffectMask(shaderMask, maskColor, shaderColor").concat(w,")"));const x=d[v+1];(x===void 0||t[x.name].onEffectMask)&&(b+="\n          shaderColor = ".concat(m,";\n        "))}return{effects:d,uniforms:a,fragment:Ie.fragment(s,f,u,b),vertex:Ie.vertex()}}static resolveMethodDuplicate(e,t,o,i=0){const s=e+(i>0?i:"");return o[s]&&o[s]!==t?this.resolveMethodDuplicate(e,t,o,++i):s}static resolveDefaults(e,t){return{effects:qi(e.effects,t),$dimensions:{width:0,height:0},$alpha:0}}static makeCacheKey(e,t){var i;let o="";return(i=e.effects)==null||i.forEach(s=>{const l=t[s.type].getEffectKey(s.props||{});o+=",".concat(l)}),"DynamicShader".concat(o)}};h(Ie,"z$__type__Props"),h(Ie,"vertex",()=>"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    attribute vec2 a_textureCoordinate;\n    attribute vec2 a_position;\n    attribute vec4 a_color;\n    attribute float a_textureIndex;\n\n    uniform vec2 u_resolution;\n    uniform float u_pixelRatio;\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n    varying float v_textureIndex;\n\n    void main(){\n      vec2 normalized = a_position * u_pixelRatio / u_resolution;\n      vec2 zero_two = normalized * 2.0;\n      vec2 clip_space = zero_two - 1.0;\n\n      // pass to fragment\n      v_color = a_color;\n      v_textureCoordinate = a_textureCoordinate;\n      v_textureIndex = a_textureIndex;\n\n      // flip y\n      gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n    }\n  "),h(Ie,"fragment",(e,t,o,i)=>"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    #define PI 3.14159265359\n\n    uniform vec2 u_resolution;\n    uniform vec2 u_dimensions;\n    uniform float u_alpha;\n    uniform float u_radius;\n    uniform sampler2D u_texture;\n    uniform float u_pixelRatio;\n\n    ".concat(e,"\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n\n    ").concat(t,"\n\n    ").concat(o,"\n\n    void main() {\n      vec2 p = v_textureCoordinate.xy * u_dimensions - u_dimensions * 0.5;\n      vec2 d = abs(p) - (u_dimensions) * 0.5;\n      float lng_DefaultMask = min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n\n      vec4 shaderColor = vec4(0.0);\n      float shaderMask = lng_DefaultMask;\n\n      vec4 maskColor = texture2D(u_texture, v_textureCoordinate) * v_color;\n\n      shaderColor = mix(shaderColor, maskColor, clamp(-(lng_DefaultMask + 0.5), 0.0, 1.0));\n\n      ").concat(i,"\n\n      gl_FragColor = shaderColor * u_alpha;\n    }\n  "));let ot=Ie;class Nr extends st{constructor(r){super({renderer:r,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_radius",uniform:"uniform1f"}]})}static resolveDefaults(r){return{radius:r.radius||10,$dimensions:{width:0,height:0}}}bindTextures(r){const{glw:e}=this;e.activeTexture(0),e.bindTexture(r[0].ctxTexture)}bindProps(r){this.setUniform("u_radius",r.radius)}canBatchShaderProps(r,e){return r.radius===e.radius&&r.$dimensions.width===e.$dimensions.width&&r.$dimensions.height===e.$dimensions.height}}h(Nr,"z$__type__Props"),h(Nr,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform vec2 u_dimensions;\n      uniform float u_radius;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      float boxDist(vec2 p, vec2 size, float radius){\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n\n      float fillMask(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n\n      void main() {\n        vec4 color = texture2D(u_texture, v_textureCoordinate) * v_color;\n        vec2 halfDimensions = u_dimensions * 0.5;\n\n        float d = boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions + 0.5, u_radius);\n        gl_FragColor = mix(vec4(0.0), color, fillMask(d));\n      }\n    "});const Zi=new Float32Array([1,0,0,0,1,0,0,0,1]),lr=class lr extends st{constructor(r){super({renderer:r,attributes:["a_position","a_textureCoordinate"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_transform",uniform:"uniformMatrix3fv"},{name:"u_scrollY",uniform:"uniform1f"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_color",uniform:"uniform4fv"},{name:"u_size",uniform:"uniform1f"},{name:"u_distanceRange",uniform:"uniform1f"},{name:"u_debug",uniform:"uniform1i"}]})}bindTextures(r){const{glw:e}=this;e.activeTexture(0),e.bindTexture(r[0].ctxTexture)}bindProps(r){const e=lr.resolveDefaults(r);for(const t in e)if(t==="transform")this.setUniform("u_transform",!1,e[t]);else if(t==="scrollY")this.setUniform("u_scrollY",e[t]);else if(t==="color"){const o=Te(e.color);this.setUniform("u_color",o)}else t==="size"?this.setUniform("u_size",e[t]):t==="distanceRange"?this.setUniform("u_distanceRange",e[t]):t==="debug"&&this.setUniform("u_debug",e[t]?1:0)}static resolveDefaults(r={}){var e,t,o,i,s,a;return{transform:(e=r.transform)!=null?e:Zi,scrollY:(t=r.scrollY)!=null?t:0,color:(o=r.color)!=null?o:4294967295,size:(i=r.size)!=null?i:16,distanceRange:(s=r.distanceRange)!=null?s:1,debug:(a=r.debug)!=null?a:!1}}};h(lr,"shaderSources",{vertex:"\n      // an attribute is an input (in) to a vertex shader.\n      // It will receive data from a buffer\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n\n      uniform vec2 u_resolution;\n      uniform mat3 u_transform;\n      uniform float u_scrollY;\n      uniform float u_pixelRatio;\n      uniform float u_size;\n\n      varying vec2 v_texcoord;\n\n      void main() {\n        vec2 scrolledPosition = a_position * u_size - vec2(0, u_scrollY);\n        vec2 transformedPosition = (u_transform * vec3(scrolledPosition, 1)).xy;\n\n        // Calculate screen space with pixel ratio\n        vec2 screenSpace = (transformedPosition * u_pixelRatio / u_resolution * 2.0 - 1.0) * vec2(1, -1);\n\n        gl_Position = vec4(screenSpace, 0.0, 1.0);\n        v_texcoord = a_textureCoordinate;\n\n      }\n    ",fragment:"\n      precision highp float;\n\n      uniform vec4 u_color;\n      uniform sampler2D u_texture;\n      uniform float u_distanceRange;\n      uniform float u_pixelRatio;\n      uniform int u_debug;\n\n      varying vec2 v_texcoord;\n\n      float median(float r, float g, float b) {\n          return max(min(r, g), min(max(r, g), b));\n      }\n\n      void main() {\n          vec3 sample = texture2D(u_texture, v_texcoord).rgb;\n          if (u_debug == 1) {\n            gl_FragColor = vec4(sample.r, sample.g, sample.b, 1.0);\n            return;\n          }\n          float scaledDistRange = u_distanceRange * u_pixelRatio;\n          float sigDist = scaledDistRange * (median(sample.r, sample.g, sample.b) - 0.5);\n          float opacity = clamp(sigDist + 0.5, 0.0, 1.0) * u_color.a;\n\n          // Build the final color.\n          // IMPORTANT: We must premultiply the color by the alpha value before returning it.\n          gl_FragColor = vec4(u_color.r * opacity, u_color.g * opacity, u_color.b * opacity, opacity);\n      }\n    "});let Er=lr;class Ge extends te{constructor(){super(...arguments);h(this,"name","radius")}static getEffectKey(){return"radius"}static resolveDefaults(e){var t;return{radius:(t=e.radius)!=null?t:10}}}h(Ge,"z$__type__Props"),h(Ge,"uniforms",{radius:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{let t=e;return Array.isArray(t)?t.length===2?t=[t[0],t[1],t[0],t[1]]:t.length===3?t=[t[0],t[1],t[2],t[0]]:t.length!==4&&(t=[t[0],t[0],t[0],t[0]]):typeof t=="number"&&(t=[t,t,t,t]),t}}}),h(Ge,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",boxDist:"\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    "}),h(Ge,"onShaderMask","\n  vec2 halfDimensions = u_dimensions * 0.5;\n  float r = radius[0] * step(v_textureCoordinate.x, 0.5) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[1] * step(0.5, v_textureCoordinate.x) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[2] * step(0.5, v_textureCoordinate.x) * step(0.5, v_textureCoordinate.y);\n  r = r + radius[3] * step(v_textureCoordinate.x, 0.5) * step(0.5, v_textureCoordinate.y);\n  return $boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions, r);\n  "),h(Ge,"onEffectMask","\n  return mix(vec4(0.0), maskColor, $fillMask(shaderMask));\n  ");class gt extends te{constructor(){super(...arguments);h(this,"name","border")}static getEffectKey(){return"border"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}h(gt,"z$__type__Props"),h(gt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>Te(e),method:"uniform4fv",type:"vec4"}}),h(gt,"onEffectMask","\n  float mask = clamp(shaderMask + width, 0.0, 1.0) - clamp(shaderMask, 0.0, 1.0);\n  return mix(shaderColor, mix(shaderColor, maskColor, maskColor.a), mask);\n  "),h(gt,"onColorize","\n    return color;\n  ");const Pe=class Pe extends te{constructor(){super(...arguments);h(this,"name","linearGradient")}static getEffectKey(e){return"linearGradient".concat(e.colors.length)}static resolveDefaults(e){var i,s;const t=(i=e.colors)!=null?i:[4278190080,4294967295];let o=e.stops||[];if(o.length===0||o.length!==t.length){const a=t.length;let l=0;const d=o;for(;l<a;l++)o[l]?(d[l]=o[l],o[l-1]===void 0&&d[l-2]!==void 0&&(d[l-1]=d[l-2]+(o[l]-d[l-2])/2)):d[l]=l*(1/(t.length-1));o=d}return{colors:t,stops:o,angle:(s=e.angle)!=null?s:0}}};h(Pe,"z$__type__Props"),h(Pe,"uniforms",{angle:{value:0,method:"uniform1f",type:"float"},colors:{value:4294967295,validator:e=>e.map(o=>Te(o)).reduce((o,i)=>o.concat(i),[]),size:e=>e.colors.length,method:"uniform4fv",type:"vec4"},stops:{value:[],size:e=>e.colors.length,method:"uniform1fv",type:"float"}}),h(Pe,"methods",{fromLinear:"\n      vec4 function(vec4 linearRGB) {\n        vec4 higher = vec4(1.055)*pow(linearRGB, vec4(1.0/2.4)) - vec4(0.055);\n        vec4 lower = linearRGB * vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",toLinear:"\n      vec4 function(vec4 sRGB) {\n        vec4 higher = pow((sRGB + vec4(0.055))/vec4(1.055), vec4(2.4));\n        vec4 lower = sRGB/vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",calcPoint:"\n      vec2 function(float d, float angle) {\n        return d * vec2(cos(angle), sin(angle)) + (u_dimensions * 0.5);\n      }\n    "}),h(Pe,"ColorLoop",e=>{let t="";for(let o=2;o<e;o++)t+="colorOut = mix(colorOut, colors[".concat(o,"], clamp((dist - stops[").concat(o-1,"]) / (stops[").concat(o,"] - stops[").concat(o-1,"]), 0.0, 1.0));");return t}),h(Pe,"onColorize",e=>{const t=e.colors.length||1;return"\n      float a = angle - (PI / 180.0 * 90.0);\n      float lineDist = abs(u_dimensions.x * cos(a)) + abs(u_dimensions.y * sin(a));\n      vec2 f = $calcPoint(lineDist * 0.5, a);\n      vec2 t = $calcPoint(lineDist * 0.5, a + PI);\n      vec2 gradVec = t - f;\n      float dist = dot(v_textureCoordinate.xy * u_dimensions - f, gradVec) / dot(gradVec, gradVec);\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = $fromLinear(mix($toLinear(colors[0]), $toLinear(colors[1]), stopCalc));\n      ".concat(Pe.ColorLoop(t),"\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    ")});let Lr=Pe;class Fr extends te{constructor(){super(...arguments);h(this,"name","grayscale")}static getEffectKey(){return"grayscale"}static resolveDefaults(e){var t;return{amount:(t=e.amount)!=null?t:1}}}h(Fr,"uniforms",{amount:{value:1,method:"uniform1f",type:"float"}}),h(Fr,"onColorize","\n    float grayness = 0.2 * maskColor.r + 0.6 * maskColor.g + 0.2 * maskColor.b;\n    return vec4(amount * vec3(grayness) + (1.0 - amount) * maskColor.rgb, maskColor.a);\n  ");class qe extends te{constructor(){super(...arguments);h(this,"name","borderRight")}static getEffectKey(){return"borderRight"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}h(qe,"z$__type__Props"),h(qe,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>Te(e),method:"uniform4fv",type:"vec4"}}),h(qe,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),h(qe,"onEffectMask","\n  vec2 pos = vec2(u_dimensions.x - width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),h(qe,"onColorize","\n    return color;\n  ");class Ze extends te{constructor(){super(...arguments);h(this,"name","borderTop")}static getEffectKey(){return"borderTop"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}h(Ze,"z$__type__Props"),h(Ze,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>Te(e),method:"uniform4fv",type:"vec4"}}),h(Ze,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),h(Ze,"onEffectMask","\n  vec2 pos = vec2(0.0, width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),h(Ze,"onColorize","\n    return color;\n  ");class Je extends te{constructor(){super(...arguments);h(this,"name","borderBottom")}static getEffectKey(){return"borderBottom"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}h(Je,"z$__type__Props"),h(Je,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>Te(e),method:"uniform4fv",type:"vec4"}}),h(Je,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),h(Je,"onEffectMask","\n  vec2 pos = vec2(0.0, u_dimensions.y - width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),h(Je,"onColorize","\n    return color;\n  ");class et extends te{constructor(){super(...arguments);h(this,"name","borderLeft")}static getEffectKey(){return"borderLeft"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}h(et,"z$__type__Props"),h(et,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>Te(e),method:"uniform4fv",type:"vec4"}}),h(et,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),h(et,"onEffectMask","\n  vec2 pos = vec2(width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),h(et,"onColorize","\n    return color;\n  ");class pt extends te{constructor(){super(...arguments);h(this,"name","glitch")}static getEffectKey(e){return"glitch"}static resolveDefaults(e){var t,o,i,s,a;return{amplitude:(t=e.amplitude)!=null?t:.2,narrowness:(o=e.narrowness)!=null?o:4,blockiness:(i=e.blockiness)!=null?i:2,minimizer:(s=e.minimizer)!=null?s:8,time:(a=e.time)!=null?a:Date.now()}}}h(pt,"z$__type__Props"),h(pt,"uniforms",{amplitude:{value:0,method:"uniform1f",type:"float"},narrowness:{value:0,method:"uniform1f",type:"float"},blockiness:{value:0,method:"uniform1f",type:"float"},minimizer:{value:0,method:"uniform1f",type:"float"},time:{value:0,method:"uniform1f",validator:e=>(Date.now()-e)%1e3,type:"float"}}),h(pt,"methods",{rand:"\n      float function(vec2 p, float time) {\n        float t = floor(time * 20.) / 10.;\n        return fract(sin(dot(p, vec2(t * 12.9898, t * 78.233))) * 43758.5453);\n      }\n    ",noise:"\n      float function(vec2 uv, float blockiness, float time) {\n        vec2 lv = fract(uv);\n        vec2 id = floor(uv);\n\n        float n1 = rand(id, time);\n        float n2 = rand(id+vec2(1,0), time);\n        float n3 = rand(id+vec2(0,1), time);\n        float n4 = rand(id+vec2(1,1), time);\n        vec2 u = smoothstep(0.0, 1.0 + blockiness, lv);\n        return mix(mix(n1, n2, u.x), mix(n3, n4, u.x), u.y);\n      }\n    ",fbm:"\n      float function(vec2 uv, int count, float blockiness, float complexity, float time) {\n        float val = 0.0;\n        float amp = 0.5;\n        const int MAX_ITERATIONS = 10;\n\n        for(int i = 0; i < MAX_ITERATIONS; i++) {\n          if(i >= count) {break;}\n          val += amp * noise(uv, blockiness, time);\n          amp *= 0.5;\n          uv *= complexity;\n        }\n        return val;\n      }\n    "}),h(pt,"onColorize","\n    vec2 uv = v_textureCoordinate.xy;\n    float aspect = u_dimensions.x / u_dimensions.y;\n    vec2 a = vec2(uv.x * aspect , uv.y);\n    vec2 uv2 = vec2(a.x / u_dimensions.x, exp(a.y));\n\n    float shift = amplitude * pow($fbm(uv2, 4, blockiness, narrowness, time), minimizer);\n    float colR = texture2D(u_texture, vec2(uv.x + shift, uv.y)).r * (1. - shift);\n    float colG = texture2D(u_texture, vec2(uv.x - shift, uv.y)).g * (1. - shift);\n    float colB = texture2D(u_texture, vec2(uv.x - shift, uv.y)).b * (1. - shift);\n\n    vec3 f = vec3(colR, colG, colB);\n    return vec4(f, texture2D(u_texture, vec2(uv.x - shift, uv.y)).a);\n  ");class Kt extends te{constructor(){super(...arguments);h(this,"name","fadeOut")}static getEffectKey(){return"fadeOut"}static resolveDefaults(e){var t;return{fade:(t=e.fade)!=null?t:10}}}h(Kt,"z$__type__Props"),h(Kt,"uniforms",{fade:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{let t=e;return Array.isArray(t)?t.length===2?t=[t[0],t[1],t[0],t[1]]:t.length===3?t=[t[0],t[1],t[2],t[0]]:t.length!==4&&(t=[t[0],t[0],t[0],t[0]]):typeof t=="number"&&(t=[t,t,t,t]),t}}}),h(Kt,"onColorize","\n  vec2 point = v_textureCoordinate.xy * u_dimensions.xy;\n  vec2 pos1;\n  vec2 pos2;\n  vec2 d;\n  float c;\n  vec4 result = maskColor;\n\n\n  if(fade[0] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x, point.y + fade[0]);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[1] > 0.0) {\n    pos1 = vec2(point.x - u_dimensions.x - fade[1], v_textureCoordinate.y);\n    pos2 = vec2(point.x - u_dimensions.x, v_textureCoordinate.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[2] > 0.0) {\n    pos1 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y - fade[2]);\n    pos2 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[3] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x + fade[3], point.y);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  return result;\n  ");const He=class He extends te{constructor(){super(...arguments);h(this,"name","radialGradient")}static getEffectKey(e){return"radialGradient".concat(e.colors.length)}static resolveDefaults(e){var i,s,a,l,d;const t=(i=e.colors)!=null?i:[4278190080,4294967295];let o=e.stops||[];if(o.length===0||o.length!==t.length){const u=t.length;let f=0;const m=o;for(;f<u;f++)o[f]?(m[f]=o[f],o[f-1]===void 0&&m[f-2]!==void 0&&(m[f-1]=m[f-2]+(o[f]-m[f-2])/2)):m[f]=f*(1/(t.length-1));o=m}return{colors:t,stops:o,width:(s=e.width)!=null?s:0,height:(l=(a=e.height)!=null?a:e.width)!=null?l:0,pivot:(d=e.pivot)!=null?d:[.5,.5]}}};h(He,"z$__type__Props"),h(He,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},pivot:{value:[.5,.5],method:"uniform2fv",type:"vec2"},colors:{value:4294967295,validator:e=>e.map(o=>Te(o)).reduce((o,i)=>o.concat(i),[]),size:e=>e.colors.length,method:"uniform4fv",type:"vec4"},stops:{value:[],size:e=>e.colors.length,method:"uniform1fv",type:"float"}}),h(He,"ColorLoop",e=>{let t="";for(let o=2;o<e;o++)t+="colorOut = mix(colorOut, colors[".concat(o,"], clamp((dist - stops[").concat(o-1,"]) / (stops[").concat(o,"] - stops[").concat(o-1,"]), 0.0, 1.0));");return t}),h(He,"onColorize",e=>{const t=e.colors.length||1;return"\n      vec2 point = v_textureCoordinate.xy * u_dimensions;\n      vec2 projection = vec2(pivot.x * u_dimensions.x, pivot.y * u_dimensions.y);\n\n      float dist = length((point - projection) / vec2(width, height));\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = mix(colors[0], colors[1], stopCalc);\n      ".concat(He.ColorLoop(t),"\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    ")});let Mr=He;class tt extends te{constructor(){super(...arguments);h(this,"name","radialProgress")}static getEffectKey(){return"radialProgress"}static resolveDefaults(e){var t,o,i,s,a,l,d;return{width:(t=e.width)!=null?t:10,progress:(o=e.progress)!=null?o:.5,offset:(i=e.offset)!=null?i:0,range:(s=e.range)!=null?s:Math.PI*2,rounded:(a=e.rounded)!=null?a:!1,radius:(l=e.radius)!=null?l:1,color:(d=e.color)!=null?d:4294967295}}}h(tt,"z$__type__Props"),h(tt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},progress:{value:.5,method:"uniform1f",type:"float"},offset:{value:0,method:"uniform1f",type:"float"},range:{value:0,method:"uniform1f",type:"float"},rounded:{value:0,method:"uniform1f",type:"float",validator:e=>e?1:0},radius:{value:1,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>Te(e),method:"uniform4fv",type:"vec4"}}),h(tt,"methods",{rotateUV:"\n    vec2 function(vec2 uv, float d) {\n      float s = sin(d);\n      float c = cos(d);\n      mat2 rotMatrix = mat2(c, -s, s, c);\n      return uv * rotMatrix;\n    }\n    ",drawDot:"\n    float function(vec2 uv, vec2 p, float r) {\n      uv += p;\n      float circle = length(uv) - r;\n      return clamp(-circle, 0.0, 1.0);\n    }\n    "}),h(tt,"onEffectMask","\n    float outerRadius = radius * u_dimensions.y * 0.5;\n\n    float endAngle = range * progress - 0.0005;\n\n    vec2 uv = v_textureCoordinate.xy * u_dimensions.xy - u_dimensions * 0.5;\n\n    uv = $rotateUV(uv, -(offset));\n    float linewidth = width * u_pixelRatio;\n    float circle = length(uv) - (outerRadius - linewidth) ;\n    circle = abs(circle) - linewidth;\n    circle = clamp(-circle, 0.0, 1.0);\n\n    float angle = (atan(uv.x, -uv.y) / 3.14159265359 * 0.5);\n    float p = endAngle / (PI * 2.);\n\n    circle *= step(fract(angle), fract(p));\n\n    circle = rounded < 1. ? circle : max(circle, $drawDot(uv, vec2(0, outerRadius - linewidth), linewidth));\n    circle = rounded < 1. ? circle : max(circle, $drawDot($rotateUV(uv, -(endAngle)), vec2(0, outerRadius - linewidth), linewidth));\n\n    return mix(shaderColor, maskColor, circle);\n  "),h(tt,"onColorize","\n    return color;\n  ");class rt extends te{constructor(){super(...arguments);h(this,"name","holePunch")}static getEffectKey(){return"holePunch"}static resolveDefaults(e){var t;return{x:e.x||0,y:e.y||0,width:e.width||50,height:e.height||50,radius:(t=e.radius)!=null?t:0}}}h(rt,"z$__type__Props"),h(rt,"uniforms",{x:{value:0,method:"uniform1f",type:"float"},y:{value:0,method:"uniform1f",type:"float"},width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},radius:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{let t=e;return Array.isArray(t)?t.length===2?t=[t[0],t[1],t[0],t[1]]:t.length===3?t=[t[0],t[1],t[2],t[0]]:t.length!==4&&(t=[t[0],t[0],t[0],t[0]]):typeof t=="number"&&(t=[t,t,t,t]),t}}}),h(rt,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",boxDist:"\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    "}),h(rt,"onShaderMask","\n  vec2 halfDimensions = u_dimensions * 0.5;\n  vec2 size = vec2(width, height) * 0.5;\n  vec2 basePos = v_textureCoordinate.xy * u_dimensions.xy - vec2(x, y);\n  vec2 pos = basePos - size;\n  float r = radius[0] * step(pos.x, 0.5) * step(pos.y, 0.5);\n  r = r + radius[1] * step(0.5, pos.x) * step(pos.y, 0.5);\n  r = r + radius[2] * step(0.5, pos.x) * step(0.5, pos.y);\n  r = r + radius[3] * step(pos.x, 0.5) * step(0.5, pos.y);\n  return $boxDist(pos, size, r);\n  "),h(rt,"onEffectMask","\n  return mix(maskColor, vec4(0.0), $fillMask(shaderMask));\n  ");const wo="RoundedRectangle";class So extends Ai{constructor(e){super();h(this,"shType");this.shType=e,e!==wo&&console.warn("Unsupported shader:",e)}bindRenderOp(){}bindProps(){}attach(){}detach(){}}class Ji{constructor(){h(this,"shCache",new Map);h(this,"shConstructors",{});h(this,"attachedShader",null);h(this,"effectConstructors",{});h(this,"renderer");this.registerShaderType("DefaultShader",vo),this.registerShaderType("DefaultShaderBatched",bo),this.registerShaderType("RoundedRectangle",Nr),this.registerShaderType("DynamicShader",ot),this.registerShaderType("SdfShader",Er),this.registerEffectType("border",gt),this.registerEffectType("borderBottom",Je),this.registerEffectType("borderLeft",et),this.registerEffectType("borderRight",qe),this.registerEffectType("borderTop",Ze),this.registerEffectType("fadeOut",Kt),this.registerEffectType("linearGradient",Lr),this.registerEffectType("radialGradient",Mr),this.registerEffectType("grayscale",Fr),this.registerEffectType("glitch",pt),this.registerEffectType("radius",Ge),this.registerEffectType("radialProgress",tt),this.registerEffectType("holePunch",rt)}registerShaderType(r,e){this.shConstructors[r]=e}registerEffectType(r,e){this.effectConstructors[r]=e}getRegisteredEffects(){return this.effectConstructors}getRegisteredShaders(){return this.shConstructors}loadShader(r,e){if(!this.renderer)throw new Error("Renderer is not been defined");const t=this.shConstructors[r];if(!t)throw new Error('Shader type "'.concat(r,'" is not registered'));if(this.renderer.mode==="canvas"&&t.prototype instanceof st)return{shader:new So(r),props:e};if(r==="DynamicShader")return this.loadDynamicShader(e);const o=t.resolveDefaults(e),i=t.makeCacheKey(o)||t.name;if(i&&this.shCache.has(i))return{shader:this.shCache.get(i),props:o};const s=new t(this.renderer,e);return i&&this.shCache.set(i,s),{shader:s,props:o}}loadDynamicShader(r){if(!this.renderer)throw new Error("Renderer is not been defined");const e=ot.resolveDefaults(r,this.effectConstructors),t=ot.makeCacheKey(e,this.effectConstructors);if(t&&this.shCache.has(t))return{shader:this.shCache.get(t),props:e};const o=new ot(this.renderer,r,this.effectConstructors);return t&&this.shCache.set(t,o),{shader:o,props:e}}useShader(r){this.attachedShader!==r&&(this.attachedShader&&this.attachedShader.detach(),r.attach(),this.attachedShader=r)}}function es(n){return/\.(ktx|pvr)$/.test(n)}const ts=async n=>{const e=await(await fetch(n)).arrayBuffer();return n.indexOf(".ktx")!==-1?rs(e):ns(e)},rs=async n=>{const r=new DataView(n),e=r.getUint32(12)===16909060,t=[],o={glInternalFormat:r.getUint32(28,e),pixelWidth:r.getUint32(36,e),pixelHeight:r.getUint32(40,e),numberOfMipmapLevels:r.getUint32(56,e),bytesOfKeyValueData:r.getUint32(60,e)};let i=64;i+=o.bytesOfKeyValueData;for(let s=0;s<o.numberOfMipmapLevels;s++){const a=r.getUint32(i);i+=4,t.push(r.buffer.slice(i,a)),i+=a}return{data:{glInternalFormat:o.glInternalFormat,mipmaps:t,width:o.pixelWidth||0,height:o.pixelHeight||0,type:"ktx"},premultiplyAlpha:!1}},ns=async n=>{const a=n,l=new Int32Array(a,0,13),d=l[12]+52,u=new Uint8Array(a,d),f=[],m={pixelWidth:l[7],pixelHeight:l[6],numberOfMipmapLevels:l[11]||0};let b=0,v=m.pixelWidth||0,y=m.pixelHeight||0;for(let w=0;w<m.numberOfMipmapLevels;w++){const S=(v+3>>2)*(y+3>>2)*8,x=new Uint8Array(a,u.byteOffset+b,S);f.push(x),b+=S,v=v>>1,y=y>>1}return{data:{glInternalFormat:36196,mipmaps:f,width:m.pixelWidth||0,height:m.pixelHeight||0,type:"pvr"},premultiplyAlpha:!1}},St=class St extends co{constructor(e,t){super(e);h(this,"props");this.props=St.resolveDefaults(t)}hasAlphaChannel(e){return e.indexOf("image/png")!==-1}async getTextureData(){const{src:e,premultiplyAlpha:t}=this.props;if(!e)return{data:null};if(e instanceof ImageData)return{data:e,premultiplyAlpha:t};if(es(e))return ts(e);if(this.txManager.imageWorkerManager)return await this.txManager.imageWorkerManager.getImage(e,t);if(this.txManager.hasCreateImageBitmap){const i=await(await fetch(e)).blob(),s=t!=null?t:this.hasAlphaChannel(i.type);return{data:await createImageBitmap(i,{premultiplyAlpha:s?"premultiply":"none",colorSpaceConversion:"none",imageOrientation:"none"}),premultiplyAlpha:s}}else{const o=new Image;return e.substr(0,5)!=="data:"&&(o.crossOrigin="Anonymous"),o.src=e,await new Promise((i,s)=>{o.onload=()=>i(),o.onerror=()=>s(new Error("Failed to load image"))}).catch(i=>{console.error(i)}),{data:o,premultiplyAlpha:t!=null?t:!0}}}static makeCacheKey(e){const t=St.resolveDefaults(e);return t.src instanceof ImageData?!1:"ImageTexture,".concat(t.src,",").concat(t.premultiplyAlpha)}static resolveDefaults(e){var t,o;return{src:(t=e.src)!=null?t:"",premultiplyAlpha:(o=e.premultiplyAlpha)!=null?o:!0}}};h(St,"z$__type__Props");let Pr=St;const os=24;function is(n,r,e,t,o,i,s,a,l){const d=Math.min(Math.max(s.firstLineIdx,0),a.length),u=0,{metrics:f}=e;L(f,"Font metrics not loaded"),L(e.data,"Font data not loaded");const m=(f.ascender-f.descender)*n;let b=0;t==="middle"?b=(r-m)/2:t==="bottom"&&(b=r-m);const v=o/i,y=e.data.common.base,S=f.ascender*n-y,x=v+S+d*r+b;if(!(l&&x>=l/i))return{sdfX:u,sdfY:x,lineIndex:d}}class mt{constructor(r,e=0){h(this,"iterator");h(this,"peekBuffer",[]);h(this,"_lastIndex");this.iterator=r,this.iterator=r,this._lastIndex=e-1,this.peekBuffer=[]}next(){const r=this.peekBuffer.length>0?this.peekBuffer.pop():this.iterator.next();return r.done?this._lastIndex=-1:this._lastIndex++,r}peek(){if(this.peekBuffer.length>0)return this.peekBuffer[0];const r=this.iterator.next();return this.peekBuffer.push(r),r}get lastIndex(){return this._lastIndex}}function*xt(n,r=0){let e=r;for(;e<n.length;){const t=n.codePointAt(e);if(t===void 0)throw new Error("Invalid Unicode code point");yield t,e+=t<=65535?1:2}}function ss(n,r,e){const t=e.shapeText(r,new mt(xt(n,0),0));let o=0;for(const i of t)i.mapped&&(o+=i.xAdvance);return o}function as(n,r,e,t,o,i,s,a,l,d,u,f,m,b,v,y,w,S,x){L(v,"Font face must be loaded"),L(v.loaded,"Font face must be loaded"),L(v.data,"Font face must be loaded"),L(v.shaper,"Font face must be loaded");const p=a/v.data.info.size,g=l/p,A=i/p,T=d/p,R=m[n],I=(R==null?void 0:R.codepointIndex)||0,C=(R==null?void 0:R.maxX)||0,E=(R==null?void 0:R.maxY)||0;let B=C,N=E,M=r,P=e,F=0;const D={codepointIndex:-1,bufferOffset:-1,xStart:-1},O=v.shaper,q={letterSpacing:T};let K=O.shapeText(q,new mt(xt(t,I),I)),re,ue=-1;const he=[],_t=s/p,Rt=ss(S,q,O);let Oe=!0;for(;Oe;){const me=(x===0||n+1<x)&&(f!=="both"||w||P+g+v.maxCharHeight<=_t),fe=me?A:A-Rt;let J=0;const Ee=P+v.maxCharHeight>=b.y1,Le=P<=b.y2,ge=Ee&&Le;for(;(re=K.next())&&!re.done;){const j=re.value;if(n===m.length)m.push({codepointIndex:j.cluster,maxY:N,maxX:B});else if(n>m.length)throw new Error("Unexpected lineCache length");if(j.codepoint===32||j.codepoint===10?D.codepointIndex!==-1&&(D.codepointIndex=-1,J=M):D.codepointIndex===-1&&(D.codepointIndex=j.cluster,D.bufferOffset=F,D.xStart=J),j.mapped){const It=M+j.xOffset+j.width;if(f!=="none"&&It>=fe&&D.codepointIndex!==-1&&D.xStart>0)if(me){K=O.shapeText(q,new mt(xt(t,D.codepointIndex),D.codepointIndex)),F=D.bufferOffset;break}else K=O.shapeText(q,new mt(xt(S,0),0)),M=D.xStart,F=D.bufferOffset,f="none";else{const Fe=M+j.xOffset,Me=P+j.yOffset;if(ge){ue===-1&&(ue=F);const Ue=v.getAtlasEntry(j.glyphId),We=Ue.x/v.data.common.scaleW,Ye=Ue.y/v.data.common.scaleH,lt=Ue.width/v.data.common.scaleW,ct=Ue.height/v.data.common.scaleH;u[F++]=Fe,u[F++]=Me,u[F++]=We,u[F++]=Ye,u[F++]=Fe+j.width,u[F++]=Me,u[F++]=We+lt,u[F++]=Ye,u[F++]=Fe,u[F++]=Me+j.height,u[F++]=We,u[F++]=Ye+ct,u[F++]=Fe+j.width,u[F++]=Me+j.height,u[F++]=We+lt,u[F++]=Ye+ct}N=Math.max(N,Me+j.height),B=Math.max(B,Fe+j.width),M+=j.xAdvance}}else if(j.codepoint===10){if(me)break;K=O.shapeText(q,new mt(xt(S,0),0)),f="none"}}ue!==-1&&(he.push({bufferStart:ue,bufferEnd:F}),ue=-1),M=0,P+=g,n++,D.codepointIndex=-1,J=0,!y&&f==="both"&&P>b.y2||re&&re.done?Oe=!1:me||(Oe=!1)}if(o==="center"){const me=f==="none"?B:A;for(let fe=0;fe<he.length;fe++){const J=he[fe],Ee=u[J.bufferEnd-4]-u[J.bufferStart],Le=(me-Ee)/2;for(let ge=J.bufferStart;ge<J.bufferEnd;ge+=4)u[ge]+=Le}}else if(o==="right"){const me=f==="none"?B:A;for(let fe=0;fe<he.length;fe++){const J=he[fe],Ee=J.bufferEnd===J.bufferStart?0:u[J.bufferEnd-4]-u[J.bufferStart],Le=me-Ee;for(let ge=J.bufferStart;ge<J.bufferEnd;ge+=4)u[ge]+=Le}}return L(re),{bufferNumFloats:F,bufferNumQuads:F/16,layoutNumCharacters:re.done?t.length-I:re.value.cluster-I+1,fullyProcessed:!!re.done,maxX:B,maxY:N,numLines:m.length}}function ls(n,r){return Math.ceil(n/r)*r}function cs(n,r){return Math.floor(n/r)*r}function ds(n,r,e,t,o,i,s,a){const{screen:l,sdf:d}=n;if(!Ci(s))l.x1=0,l.y1=0,l.x2=0,l.y2=0,d.x1=0,d.y1=0,d.x2=0,d.y2=0,n.numLines=0,n.firstLineIdx=0;else{const u=s.x1-r,f=u+(s.x2-s.x1),m=s.y1-e+t,b=cs(m-i,o||1),v=ls(m+(s.y2-s.y1)+i,o||1);l.x1=u,l.y1=b,l.x2=f,l.y2=v,d.x1=u/a,d.y1=b/a,d.x2=f/a,d.y2=v/a,n.numLines=Math.ceil((v-b)/o),n.firstLineIdx=o?Math.floor(b/o):0}n.valid=!0}const us={x:0,y:0,width:0,height:0};class hs extends mo{constructor(e){super(e);h(this,"ssdfFontFamilies",{});h(this,"msdfFontFamilies",{});h(this,"fontFamilyArray",[this.ssdfFontFamilies,this.msdfFontFamilies]);h(this,"sdfShader");h(this,"rendererBounds");this.sdfShader=this.stage.shManager.loadShader("SdfShader").shader,this.rendererBounds={x1:0,y1:0,x2:this.stage.options.appWidth,y2:this.stage.options.appHeight}}getPropertySetters(){return{fontFamily:(e,t)=>{e.props.fontFamily=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontWeight:(e,t)=>{e.props.fontWeight=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontStyle:(e,t)=>{e.props.fontStyle=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontStretch:(e,t)=>{e.props.fontStretch=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontSize:(e,t)=>{e.props.fontSize=t,this.invalidateLayoutCache(e)},text:(e,t)=>{e.props.text=t,this.invalidateLayoutCache(e)},textAlign:(e,t)=>{e.props.textAlign=t,this.invalidateLayoutCache(e)},color:(e,t)=>{e.props.color=t},x:(e,t)=>{e.props.x=t,e.elementBounds.valid&&(this.setElementBoundsX(e),!e.renderWindow.valid&&xr(e.elementBounds,this.rendererBounds)&&this.scheduleUpdateState(e))},y:(e,t)=>{e.props.y=t,e.elementBounds.valid&&(this.setElementBoundsY(e),!e.renderWindow.valid&&xr(e.elementBounds,this.rendererBounds)&&this.scheduleUpdateState(e))},contain:(e,t)=>{e.props.contain=t,this.invalidateLayoutCache(e)},width:(e,t)=>{e.props.width=t,e.props.contain!=="none"&&this.invalidateLayoutCache(e)},height:(e,t)=>{e.props.height=t,e.props.contain==="both"&&this.invalidateLayoutCache(e)},offsetY:(e,t)=>{e.props.offsetY=t,this.invalidateLayoutCache(e)},scrollable:(e,t)=>{e.props.scrollable=t,this.invalidateLayoutCache(e)},scrollY:(e,t)=>{e.props.scrollY=t,this.scheduleUpdateState(e)},letterSpacing:(e,t)=>{e.props.letterSpacing=t,this.invalidateLayoutCache(e)},lineHeight:(e,t)=>{e.props.lineHeight=t,e.resLineHeight=void 0,this.invalidateLayoutCache(e)},maxLines:(e,t)=>{e.props.maxLines=t,this.invalidateLayoutCache(e)},textBaseline:(e,t)=>{e.props.textBaseline=t,this.invalidateLayoutCache(e)},verticalAlign:(e,t)=>{e.props.verticalAlign=t,this.invalidateLayoutCache(e)},overflowSuffix:(e,t)=>{e.props.overflowSuffix=t,this.invalidateLayoutCache(e)},debug:(e,t)=>{e.props.debug=t}}}canRenderFont(e){const{fontFamily:t}=e;return t in this.ssdfFontFamilies||t in this.msdfFontFamilies||t==="$$SDF_FAILURE_TEST$$"}isFontFaceSupported(e){return e instanceof yn}addFontFace(e){L(e instanceof yn);const t=e.fontFamily,o=e.type==="ssdf"?this.ssdfFontFamilies:e.type==="msdf"?this.msdfFontFamilies:void 0;if(!o){console.warn("Invalid font face type: ".concat(e.type));return}let i=o[t];i||(i=new Set,o[t]=i),i.add(e)}createState(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new Xe,lineCache:[],forceFullLayoutCalc:!1,renderWindow:{screen:{x1:0,y1:0,x2:0,y2:0},sdf:{x1:0,y1:0,x2:0,y2:0},firstLineIdx:0,numLines:0,valid:!1},elementBounds:{x1:0,y1:0,x2:0,y2:0,valid:!1},clippingRect:{x:0,y:0,width:0,height:0,valid:!1},bufferNumFloats:0,bufferNumQuads:0,vertexBuffer:void 0,webGlBuffers:null,bufferUploaded:!1,textH:void 0,textW:void 0,distanceRange:0,trFontFace:void 0,isRenderable:!1,resLineHeight:void 0,debugData:{updateCount:0,layoutCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,drawCount:0,bufferSize:0}}}updateState(e){let{trFontFace:t}=e;const{textH:o,lineCache:i,debugData:s,forceFullLayoutCalc:a}=e;if(s.updateCount++,e.status==="initialState"&&this.setStatus(e,"loading"),!t){if(t=this.resolveFontFace(e.props),e.trFontFace=t,!t){const O="SdfTextRenderer: Could not resolve font face for family: '".concat(e.props.fontFamily,"'");console.error(O),this.setStatus(e,"failed",new Error(O));return}t.texture.setRenderableOwner(e,e.isRenderable)}if(!t.loaded){t.once("loaded",()=>{this.scheduleUpdateState(e)});return}L(t.data,"Font face data should be loaded"),L(t.metrics,"Font face metrics should be loaded");const{text:l,fontSize:d,x:u,y:f,contain:m,width:b,height:v,verticalAlign:y,scrollable:w,overflowSuffix:S,maxLines:x}=e.props,p=m==="both"&&w?e.props.scrollY:0,{renderWindow:g}=e,A=t.data.info.size,T=d/A;let R=e.resLineHeight;if(R===void 0){const O=e.props.lineHeight;O===void 0?R=yo(t.metrics,d):R=O,e.resLineHeight=R}const I=R/T;e.distanceRange=T*t.data.distanceField.distanceRange;const C=l.length*os;let E=e.vertexBuffer;(!E||E.length<C)&&(E=new Float32Array(C*2));const B=e.elementBounds;if(B.valid||(this.setElementBoundsX(e),this.setElementBoundsY(e),B.valid=!0),!a&&g.valid){const O=g.screen;if(u+O.x1<=B.x1&&u+O.x2>=B.x2&&f-p+O.y1<=B.y1&&f-p+O.y2>=B.y2){this.setStatus(e,"loaded");return}g.valid=!1,this.setStatus(e,"loading")}const{offsetY:N,textAlign:M}=e.props;if(!g.valid){if(!xr(B,this.rendererBounds))return;ds(g,u,f,p,R,m==="both"?B.y2-B.y1:0,B,T)}const P=is(A,I,t,y,N,T,g,i,o);if(!P){this.setStatus(e,"loaded");return}const{letterSpacing:F}=e.props,D=as(P.lineIndex,P.sdfX,P.sdfY,l,M,b,v,d,R,F,E,m,i,g.sdf,t,a,w,S,x);e.bufferUploaded=!1,e.bufferNumFloats=D.bufferNumFloats,e.bufferNumQuads=D.bufferNumQuads,e.vertexBuffer=E,e.renderWindow=g,s.lastLayoutNumCharacters=D.layoutNumCharacters,s.bufferSize=E.byteLength,D.fullyProcessed&&(e.textW=D.maxX*T,e.textH=D.numLines*I*T),this.setStatus(e,"loaded")}renderQuads(e,t,o,i,s,a){var B,N,M;if(!e.vertexBuffer)return;const l=this.stage.renderer;L(l instanceof uo);const{fontSize:d,color:u,contain:f,scrollable:m,zIndex:b,debug:v}=e.props,y=f==="both"&&m?e.props.scrollY:0,{textW:w=0,textH:S=0,distanceRange:x,vertexBuffer:p,bufferUploaded:g,trFontFace:A,elementBounds:T}=e;let{webGlBuffers:R}=e;if(!R){const P=l.glw,F=4*Float32Array.BYTES_PER_ELEMENT,D=P.createBuffer();L(D),e.webGlBuffers=new Ti([{buffer:D,attributes:{a_position:{name:"a_position",size:2,type:P.FLOAT,normalized:!1,stride:F,offset:0},a_textureCoordinate:{name:"a_textureCoordinate",size:2,type:P.FLOAT,normalized:!1,stride:F,offset:2*Float32Array.BYTES_PER_ELEMENT}}}]),e.bufferUploaded=!1,L(e.webGlBuffers),R=e.webGlBuffers}if(!g){const P=l.glw,F=(B=R==null?void 0:R.getBuffer("a_textureCoordinate"))!=null?B:null;P.arrayBufferData(F,p,P.STATIC_DRAW),e.bufferUploaded=!0}if(L(A),m&&f==="both"){L(T.valid);const P=_i(T,us);o.valid?(e.clippingRect.valid=!0,o=qr(o,P,e.clippingRect)):(e.clippingRect.valid=!0,o=ho(P,e.clippingRect))}const I=new Ri(l.glw,l.options,R,this.sdfShader,{transform:t.getFloatArr(),color:Ii(u,i),size:d/(((N=A.data)==null?void 0:N.info.size)||0),scrollY:y,distanceRange:x,debug:v.sdfShaderDebug},i,o,{height:S,width:w},0,b,!1,s,a),C=(M=e.trFontFace)==null?void 0:M.texture;L(C);const E=this.stage.txManager.getCtxTexture(C);I.addTexture(E),I.length=e.bufferNumFloats,I.numQuads=e.bufferNumQuads,l.addRenderOp(I)}setIsRenderable(e,t){var o;super.setIsRenderable(e,t),(o=e.trFontFace)==null||o.texture.setRenderableOwner(e,t)}destroyState(e){var t;super.destroyState(e),(t=e.trFontFace)==null||t.texture.setRenderableOwner(e,!1)}resolveFontFace(e){return Zr.resolveFontFace(this.fontFamilyArray,e)}releaseFontFace(e){e.resLineHeight=void 0,e.trFontFace&&(e.trFontFace.texture.setRenderableOwner(e,!1),e.trFontFace=void 0)}invalidateLayoutCache(e){e.renderWindow.valid=!1,e.elementBounds.valid=!1,e.textH=void 0,e.textW=void 0,e.lineCache=[],this.setStatus(e,"loading"),this.scheduleUpdateState(e)}setElementBoundsX(e){const{x:t,contain:o,width:i}=e.props,{elementBounds:s}=e;s.x1=t,s.x2=o!=="none"?t+i:1/0}setElementBoundsY(e){const{y:t,contain:o,height:i}=e.props,{elementBounds:s}=e;s.y1=t,s.y2=o==="both"?t+i:1/0}}function fs(n){return n.prototype instanceof ki}async function gs(n,r){let e;try{console.log("Loading core extension",n),e=await import(n)}catch(o){console.error("The core extension module at '".concat(n,"' could not be loaded.")),console.error(o);return}if(!e.default){console.error("The core extension module at '".concat(n,"' does not have a default export."));return}const t=e.default;if(fs(t)){const o=new t;try{await o.run(r)}catch(i){console.error("The core extension at '".concat(n,"' threw an error.")),console.error(i)}}else console.error("The core extension at '".concat(n,"' does not extend CoreExtension."))}function Ao(n){const r={boolean:!0,string:!0,number:!0,undefined:!0},e=Object.keys(n);for(let t=0;t<e.length;t++){const o=e[t];if(!o)continue;const i=n[o],s=typeof i;s==="string"&&i.length>2048&&(console.warn("Custom Data value for ".concat(o," is too long, it will be truncated to 2048 characters")),n[o]=i.substring(0,2048)),r[s]||(console.warn("Custom Data value for ".concat(o," is not a boolean, string, or number, it will be ignored")),delete n[o])}return n}class ps extends Xe{constructor(e,t,o){var S,x,p,g,A;super();h(this,"root",null);h(this,"driver");h(this,"canvas");h(this,"settings");h(this,"inspector",null);h(this,"nodes",new Map);h(this,"nextTextureId",1);h(this,"textureTracker");const i={appWidth:e.appWidth||1920,appHeight:e.appHeight||1080,txMemByteThreshold:e.txMemByteThreshold||124e6,boundsMargin:e.boundsMargin||0,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio||1,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio||window.devicePixelRatio,clearColor:(S=e.clearColor)!=null?S:0,coreExtensionModule:e.coreExtensionModule||null,experimental_FinalizationRegistryTextureUsageTracker:(x=e.experimental_FinalizationRegistryTextureUsageTracker)!=null?x:!1,textureCleanupOptions:e.textureCleanupOptions||{},fpsUpdateInterval:e.fpsUpdateInterval||0,numImageWorkers:e.numImageWorkers!==void 0?e.numImageWorkers:2,enableContextSpy:(p=e.enableContextSpy)!=null?p:!1,enableInspector:(g=e.enableInspector)!=null?g:!1,renderMode:(A=e.renderMode)!=null?A:"webgl"};this.settings=i;const{appWidth:s,appHeight:a,deviceLogicalPixelRatio:l,devicePhysicalPixelRatio:d,enableInspector:u}=i,f=T=>{this.driver.releaseTexture(T)},m=i.experimental_FinalizationRegistryTextureUsageTracker&&typeof FinalizationRegistry=="function";this.textureTracker=m?new Ui(f):new Oi(f,this.settings.textureCleanupOptions);const b=s*l,v=a*l;this.driver=o;const y=document.createElement("canvas");this.canvas=y,y.width=b*d,y.height=v*d,y.style.width="".concat(b,"px"),y.style.height="".concat(v,"px");let w;if(typeof t=="string"?w=document.getElementById(t):w=t,!w)throw new Error("Could not find target element");o.onCreateNode=T=>{this.nodes.set(T.id,T)},o.onBeforeDestroyNode=T=>{this.nodes.delete(T.id)},o.onFpsUpdate=T=>{this.emit("fpsUpdate",T)},o.onFrameTick=T=>{this.emit("frameTick",T)},o.onIdle=()=>{this.emit("idle")},w.appendChild(y),u&&!lo()&&(this.inspector=new Yi(y,i))}async init(){await this.driver.init(this,this.settings,this.canvas),this.root=this.driver.getRootNode()}createNode(e){return this.inspector?this.inspector.createNode(this.driver,this.resolveNodeDefaults(e)):this.driver.createNode(this.resolveNodeDefaults(e))}createTextNode(e){var i,s,a,l,d,u,f,m,b,v,y,w,S,x,p,g,A,T;const t=(i=e.fontSize)!=null?i:16,o={...this.resolveNodeDefaults(e),text:(s=e.text)!=null?s:"",textRendererOverride:(a=e.textRendererOverride)!=null?a:null,fontSize:t,fontFamily:(l=e.fontFamily)!=null?l:"sans-serif",fontStyle:(d=e.fontStyle)!=null?d:"normal",fontWeight:(u=e.fontWeight)!=null?u:"normal",fontStretch:(f=e.fontStretch)!=null?f:"normal",textAlign:(m=e.textAlign)!=null?m:"left",contain:(b=e.contain)!=null?b:"none",scrollable:(v=e.scrollable)!=null?v:!1,scrollY:(y=e.scrollY)!=null?y:0,offsetY:(w=e.offsetY)!=null?w:0,letterSpacing:(S=e.letterSpacing)!=null?S:0,lineHeight:e.lineHeight,maxLines:(x=e.maxLines)!=null?x:0,textBaseline:(p=e.textBaseline)!=null?p:"alphabetic",verticalAlign:(g=e.verticalAlign)!=null?g:"middle",overflowSuffix:(A=e.overflowSuffix)!=null?A:"...",debug:(T=e.debug)!=null?T:{}};return this.inspector?this.inspector.createTextNode(this.driver,o):this.driver.createTextNode(o)}resolveNodeDefaults(e){var d,u,f,m,b,v,y,w,S,x,p,g,A,T,R,I,C,E,B,N,M,P,F,D,O,q,K,re,ue,he,_t,Rt,Oe,me,fe,J,Ee,Le,ge,j,It,Fe,Me,Ue,We,Ye,lt,ct;const t=(d=e.color)!=null?d:4294967295,o=(m=(f=(u=e.colorTl)!=null?u:e.colorTop)!=null?f:e.colorLeft)!=null?m:t,i=(y=(v=(b=e.colorTr)!=null?b:e.colorTop)!=null?v:e.colorRight)!=null?y:t,s=(x=(S=(w=e.colorBl)!=null?w:e.colorBottom)!=null?S:e.colorLeft)!=null?x:t,a=(A=(g=(p=e.colorBr)!=null?p:e.colorBottom)!=null?g:e.colorRight)!=null?A:t,l=Ao((T=e.data)!=null?T:{});return{x:(R=e.x)!=null?R:0,y:(I=e.y)!=null?I:0,width:(C=e.width)!=null?C:0,height:(E=e.height)!=null?E:0,alpha:(B=e.alpha)!=null?B:1,autosize:(N=e.autosize)!=null?N:!1,clipping:(M=e.clipping)!=null?M:!1,color:t,colorTop:(P=e.colorTop)!=null?P:t,colorBottom:(F=e.colorBottom)!=null?F:t,colorLeft:(D=e.colorLeft)!=null?D:t,colorRight:(O=e.colorRight)!=null?O:t,colorBl:s,colorBr:a,colorTl:o,colorTr:i,zIndex:(q=e.zIndex)!=null?q:0,zIndexLocked:(K=e.zIndexLocked)!=null?K:0,parent:(re=e.parent)!=null?re:null,texture:(ue=e.texture)!=null?ue:null,shader:(he=e.shader)!=null?he:null,src:(_t=e.src)!=null?_t:"",scale:(Rt=e.scale)!=null?Rt:null,scaleX:(me=(Oe=e.scaleX)!=null?Oe:e.scale)!=null?me:1,scaleY:(J=(fe=e.scaleY)!=null?fe:e.scale)!=null?J:1,mount:(Ee=e.mount)!=null?Ee:0,mountX:(ge=(Le=e.mountX)!=null?Le:e.mount)!=null?ge:0,mountY:(It=(j=e.mountY)!=null?j:e.mount)!=null?It:0,pivot:(Fe=e.pivot)!=null?Fe:.5,pivotX:(Ue=(Me=e.pivotX)!=null?Me:e.pivot)!=null?Ue:.5,pivotY:(Ye=(We=e.pivotY)!=null?We:e.pivot)!=null?Ye:.5,rotation:(lt=e.rotation)!=null?lt:0,rtt:(ct=e.rtt)!=null?ct:!1,data:l}}destroyNode(e){return this.inspector&&this.inspector.destroyNode(e),this.driver.destroyNode(e)}createTexture(e,t,o){const i=this.nextTextureId++,s={descType:"texture",txType:e,props:t,options:{...o,id:i}};return this.textureTracker.registerTexture(s),s}createShader(e,t){return{descType:"shader",shType:e,props:t}}getNodeById(e){return this.nodes.get(e)||null}toggleFreeze(){throw new Error("Not implemented")}advanceFrame(){throw new Error("Not implemented")}rerender(){throw new Error("Not implemented")}}class ms extends Xe{constructor(e,t,o){super();h(this,"node");h(this,"props");h(this,"settings");h(this,"propStartValues",{});h(this,"restoreValues",{});h(this,"progress",0);h(this,"delayFor",0);h(this,"timingFunction");h(this,"propsList");this.node=e,this.props=t,this.settings=o,this.propStartValues={},this.propsList=Object.keys(t),this.propsList.forEach(i=>{this.propStartValues[i]=e[i]}),this.timingFunction=i=>i,o.easing&&typeof o.easing=="string"&&(this.timingFunction=Bi(o.easing)),this.delayFor=o.delay||0}reset(){this.progress=0,this.delayFor=this.settings.delay||0,this.update(0)}restore(){this.reset(),Object.keys(this.props).forEach(e=>{this.node[e]=this.propStartValues[e]})}reverse(){this.progress=0,Object.keys(this.props).forEach(e=>{const t=this.props[e],o=this.propStartValues[e];this.props[e]=o,this.propStartValues[e]=t}),this.settings.loop||(this.settings.stopMethod=!1)}applyEasing(e,t,o){return(this.timingFunction(e)||e)*(o-t)+t}update(e){const{duration:t,loop:o,easing:i,stopMethod:s}=this.settings;if(!t){this.emit("finished",{});return}if(this.delayFor>0){this.delayFor-=e;return}if(this.delayFor<=0&&this.progress===0&&this.emit("start",{}),this.progress+=e/t,this.progress>1&&(this.progress=o?0:1,s)){this.emit("finished",{});return}for(let a=0;a<this.propsList.length;a++){const l=this.propsList[a],d=this.props[l],u=this.propStartValues[l],f=d;if(l.indexOf("color")!==-1){if(u===f){this.node[l]=u;continue}if(i){const m=this.timingFunction(this.progress)||this.progress,b=vn(u,f,m);this.node[l]=b;continue}this.node[l]=vn(u,f,this.progress);continue}if(i){this.node[l]=this.applyEasing(this.progress,u,f);continue}this.node[l]=u+(f-u)*this.progress}this.progress===1&&this.emit("finished",{})}}class xs{constructor(r,e){h(this,"manager");h(this,"animation");h(this,"startedPromise",null);h(this,"startedResolve",null);h(this,"stoppedPromise",null);h(this,"stoppedResolve",null);h(this,"state");this.manager=r,this.animation=e,this.state="stopped"}start(){return this.makeStartedPromise(),this.animation.once("start",this.started.bind(this)),this.makeStoppedPromise(),this.animation.once("finished",this.finished.bind(this)),this.manager.activeAnimations.has(this.animation)||this.manager.registerAnimation(this.animation),this.state="running",this}stop(){return this.manager.unregisterAnimation(this.animation),this.stoppedResolve!==null&&(this.stoppedResolve(),this.stoppedResolve=null),this.animation.reset(),this.state="stopped",this}pause(){return this.manager.unregisterAnimation(this.animation),this.state="paused",this}restore(){return this.stoppedResolve=null,this.animation.restore(),this}waitUntilStarted(){this.makeStartedPromise();const r=this.startedPromise;return L(r),r}waitUntilStopped(){this.makeStoppedPromise();const r=this.stoppedPromise;return L(r),r}makeStartedPromise(){this.startedResolve===null&&(this.startedPromise=new Promise(r=>{this.startedResolve=r}))}makeStoppedPromise(){this.stoppedResolve===null&&(this.stoppedPromise=new Promise(r=>{this.stoppedResolve=r}))}started(){L(this.startedResolve),this.startedResolve(this),this.startedResolve=null}finished(){L(this.stoppedResolve);const{loop:r,stopMethod:e}=this.animation.settings;if(e==="reverse"){this.animation.reverse(),this.start();return}this.stoppedResolve(),this.stoppedResolve=null,!r&&this.manager.unregisterAnimation(this.animation)}}class ae{constructor(){h(this,"ta");h(this,"tb");h(this,"tx");h(this,"tc");h(this,"td");h(this,"ty");h(this,"_floatArr",null);h(this,"mutation");this.ta=0,this.tb=0,this.tx=0,this.tc=0,this.td=0,this.ty=0,this.mutation=!0}static get temp(){return ys}static multiply(r,e,t){const o=r.ta*e.ta+r.tb*e.tc,i=r.ta*e.tb+r.tb*e.td,s=r.ta*e.tx+r.tb*e.ty+r.tx,a=r.tc*e.ta+r.td*e.tc,l=r.tc*e.tb+r.td*e.td,d=r.tc*e.tx+r.td*e.ty+r.ty;return t||(t=new ae),t.ta=o,t.tb=i,t.tx=s,t.tc=a,t.td=l,t.ty=d,t.mutation=!0,t}static identity(r){return r||(r=new ae),r.ta=1,r.tb=0,r.tx=0,r.tc=0,r.td=1,r.ty=0,r.mutation=!0,r}static translate(r,e,t){return t||(t=new ae),t.ta=1,t.tb=0,t.tx=r,t.tc=0,t.td=1,t.ty=e,t.mutation=!0,t}static scale(r,e,t){return t||(t=new ae),t.ta=r,t.tb=0,t.tx=0,t.tc=0,t.td=e,t.ty=0,t.mutation=!0,t}static rotate(r,e){const t=Math.cos(r),o=Math.sin(r);return e||(e=new ae),e.ta=t,e.tb=-o,e.tx=0,e.tc=o,e.td=t,e.ty=0,e.mutation=!0,e}static copy(r,e){return e||(e=new ae),e.ta=r.ta,e.tc=r.tc,e.tb=r.tb,e.td=r.td,e.tx=r.tx,e.ty=r.ty,e.mutation=!0,e}translate(r,e){return this.tx=this.ta*r+this.tb*e+this.tx,this.ty=this.tc*r+this.td*e+this.ty,this.mutation=!0,this}scale(r,e){return this.ta=this.ta*r,this.tb=this.tb*e,this.tc=this.tc*r,this.td=this.td*e,this.mutation=!0,this}rotate(r){if(r===0||!(r%Math.PI*2))return this;const e=Math.cos(r),t=Math.sin(r),o=this.ta*e+this.tb*t,i=this.tb*e-this.ta*t,s=this.tc*e+this.td*t,a=this.td*e-this.tc*t;return this.ta=o,this.tb=i,this.tc=s,this.td=a,this.mutation=!0,this}multiply(r){return ae.multiply(this,r,this)}getFloatArr(){return this._floatArr||(this._floatArr=new Float32Array(9)),this.mutation&&(this._floatArr[0]=this.ta,this._floatArr[1]=this.tc,this._floatArr[2]=0,this._floatArr[3]=this.tb,this._floatArr[4]=this.td,this._floatArr[5]=0,this._floatArr[6]=this.tx,this._floatArr[7]=this.ty,this._floatArr[8]=1,this.mutation=!1),this._floatArr}}const ys=new ae,kt=0,Bt=2,Nt=4,Et=6,Lt=1,Ft=3,Mt=5,Pt=7;class jt{constructor(r){h(this,"data");this.data=new Float32Array(8),r&&(this.data[kt]=r[kt],this.data[Bt]=r[Bt],this.data[Nt]=r[Nt],this.data[Et]=r[Et],this.data[Lt]=r[Lt],this.data[Ft]=r[Ft],this.data[Mt]=r[Mt],this.data[Pt]=r[Pt])}static translate(r,e,t,o,i,s,a,l,d){return d||(d=new jt),d.data[kt]=r,d.data[Bt]=t,d.data[Nt]=i,d.data[Et]=a,d.data[Lt]=e,d.data[Ft]=o,d.data[Mt]=s,d.data[Pt]=l,d}get x1(){return this.data[kt]}get x2(){return this.data[Bt]}get x3(){return this.data[Nt]}get x4(){return this.data[Et]}get y1(){return this.data[Lt]}get y2(){return this.data[Ft]}get y3(){return this.data[Mt]}get y4(){return this.data[Pt]}}var V;(function(n){n[n.Init=0]="Init",n[n.OutOfBounds=2]="OutOfBounds",n[n.InBounds=4]="InBounds",n[n.InViewport=8]="InViewport"})(V||(V={}));const Qe=new Map;Qe.set(V.Init,"init");Qe.set(V.OutOfBounds,"outOfBounds");Qe.set(V.InBounds,"inBounds");Qe.set(V.InViewport,"inViewport");var k;(function(n){n[n.Children=1]="Children",n[n.ScaleRotate=2]="ScaleRotate",n[n.Local=4]="Local",n[n.Global=8]="Global",n[n.Clipping=16]="Clipping",n[n.CalculatedZIndex=32]="CalculatedZIndex",n[n.ZIndexSortedChildren=64]="ZIndexSortedChildren",n[n.PremultipliedColors=128]="PremultipliedColors",n[n.WorldAlpha=256]="WorldAlpha",n[n.RenderState=512]="RenderState",n[n.IsRenderable=1024]="IsRenderable",n[n.RenderTexture=2048]="RenderTexture",n[n.ParentRenderTexture=4096]="ParentRenderTexture",n[n.None=0]="None",n[n.All=8191]="All"})(k||(k={}));class Jr extends Xe{constructor(e,t){super();h(this,"stage");h(this,"children",[]);h(this,"props");h(this,"updateType",k.All);h(this,"globalTransform");h(this,"scaleRotateTransform");h(this,"localTransform");h(this,"renderCoords");h(this,"renderBound");h(this,"strictBound");h(this,"preloadBound");h(this,"clippingRect",{x:0,y:0,width:0,height:0,valid:!1});h(this,"isRenderable",!1);h(this,"renderState",V.Init);h(this,"worldAlpha",1);h(this,"premultipliedColorTl",0);h(this,"premultipliedColorTr",0);h(this,"premultipliedColorBl",0);h(this,"premultipliedColorBr",0);h(this,"calcZIndex",0);h(this,"hasRTTupdates",!1);h(this,"parentHasRenderTexture",!1);h(this,"onTextureLoaded",(e,t)=>{this.autosizeNode(t),this.stage.requestRender(),this.parentHasRenderTexture&&this.setRTTUpdates(1),this.emit("loaded",{type:"texture",dimensions:t})});h(this,"onTextureFailed",(e,t)=>{this.emit("failed",{type:"texture",error:t})});h(this,"onTextureFreed",e=>{this.emit("freed",{type:"texture"})});this.stage=e,this.props={...t,parent:null},this.parent=t.parent,this.rtt=t.rtt,this.updateScaleRotateTransform()}loadTexture(e,t,o=null){this.props.texture&&this.unloadTexture();const{txManager:i}=this.stage,s=i.loadTexture(e,t,o);this.props.texture=s,this.props.textureOptions=o,this.setUpdateType(k.IsRenderable),queueMicrotask(()=>{s.state==="loaded"?this.onTextureLoaded(s,s.dimensions):s.state==="failed"?this.onTextureFailed(s,s.error):s.state==="freed"&&this.onTextureFreed(s),s.on("loaded",this.onTextureLoaded),s.on("failed",this.onTextureFailed),s.on("freed",this.onTextureFreed)})}unloadTexture(){if(this.props.texture){const{texture:e}=this.props;e.off("loaded",this.onTextureLoaded),e.off("failed",this.onTextureFailed),e.off("freed",this.onTextureFreed),e.setRenderableOwner(this,!1)}this.props.texture=null,this.props.textureOptions=null,this.setUpdateType(k.IsRenderable)}autosizeNode(e){this.autosize&&(this.width=e.width,this.height=e.height)}loadShader(e,t){const o=this.stage.renderer.getShaderManager();L(o);const{shader:i,props:s}=o.loadShader(e,t);this.props.shader=i,this.props.shaderProps=s,this.setUpdateType(k.IsRenderable)}setUpdateType(e){this.updateType|=e;const t=this.props.parent;t&&!(t.updateType&k.Children)&&t.setUpdateType(k.Children),this.parentHasRenderTexture&&this.setRTTUpdates(e)}sortChildren(){this.children.sort((e,t)=>e.calcZIndex-t.calcZIndex)}updateScaleRotateTransform(){this.scaleRotateTransform=ae.rotate(this.props.rotation,this.scaleRotateTransform).scale(this.props.scaleX,this.props.scaleY)}updateLocalTransform(){L(this.scaleRotateTransform);const e=this.props.pivotX*this.props.width,t=this.props.pivotY*this.props.height,o=this.props.mountX*this.props.width,i=this.props.mountY*this.props.height;this.localTransform=ae.translate(e-o+this.props.x,t-i+this.props.y,this.localTransform).multiply(this.scaleRotateTransform).translate(-e,-t),this.setUpdateType(k.Global)}update(e,t){var s;this.updateType&k.ScaleRotate&&(this.updateScaleRotateTransform(),this.setUpdateType(k.Local)),this.updateType&k.Local&&(this.updateLocalTransform(),this.setUpdateType(k.Global));const o=this.props.parent;let i=k.None;if(this.updateType&k.ParentRenderTexture){let a=this.parent;for(;a;)a.rtt&&(this.parentHasRenderTexture=!0),a=a.parent}this.updateType^k.All&&this.updateType&k.RenderTexture&&this.children.forEach(a=>{a.setUpdateType(k.All)}),this.updateType&k.Global&&(L(this.localTransform),this.globalTransform=ae.copy((o==null?void 0:o.globalTransform)||this.localTransform,this.globalTransform),this.parentHasRenderTexture&&((s=this.props.parent)!=null&&s.rtt)&&(this.globalTransform=ae.identity()),o&&this.globalTransform.multiply(this.localTransform),this.calculateRenderCoords(),this.updateBoundingRect(),this.setUpdateType(k.Clipping|k.RenderState|k.Children),i|=k.Global),this.updateType&k.Clipping&&(this.calculateClippingRect(t),this.setUpdateType(k.Children),i|=k.Clipping),this.updateType&k.WorldAlpha&&(o?this.worldAlpha=o.worldAlpha*this.props.alpha:this.worldAlpha=this.props.alpha,this.setUpdateType(k.Children|k.PremultipliedColors|k.IsRenderable),i|=k.WorldAlpha),this.updateType&k.PremultipliedColors&&(this.premultipliedColorTl=ft(this.props.colorTl,this.worldAlpha,!0),this.props.colorTl===this.props.colorTr&&this.props.colorBl===this.props.colorBr&&this.props.colorTl===this.props.colorBl?this.premultipliedColorTr=this.premultipliedColorBl=this.premultipliedColorBr=this.premultipliedColorTl:(this.premultipliedColorTr=ft(this.props.colorTr,this.worldAlpha,!0),this.premultipliedColorBl=ft(this.props.colorBl,this.worldAlpha,!0),this.premultipliedColorBr=ft(this.props.colorBr,this.worldAlpha,!0))),this.updateType&k.RenderState&&(this.updateRenderState(t),this.setUpdateType(k.IsRenderable)),this.updateType&k.IsRenderable&&this.updateIsRenderable(),o&&this.updateType&k.CalculatedZIndex&&(this.calculateZIndex(),o.setUpdateType(k.ZIndexSortedChildren)),this.updateType&k.Children&&this.children.length&&!this.rtt&&this.children.forEach(a=>{a.setUpdateType(i),a.updateType!==0&&a.update(e,this.clippingRect)}),this.updateType&k.ZIndexSortedChildren&&this.sortChildren(),this.updateType=0}checkRenderProps(){return this.props.texture?!0:!this.props.width||!this.props.height?!1:!!(this.props.shader||this.props.clipping||this.props.color!==0||this.props.colorTop!==0||this.props.colorBottom!==0||this.props.colorLeft!==0||this.props.colorRight!==0||this.props.colorTl!==0||this.props.colorTr!==0||this.props.colorBl!==0||this.props.colorBr!==0)}checkRenderBounds(e){L(this.renderBound);const t=e.width||this.stage.root.width,o=e.height||this.stage.root.height;this.strictBound=nt(e.x,e.y,e.x+t,e.y+o,this.strictBound);const i=this.stage.boundsMargin;return this.preloadBound=nt(e.x-i[3],e.y-i[0],e.x+t+i[1],e.y+o+i[2],this.preloadBound),bn(this.renderBound,this.strictBound)?V.InViewport:bn(this.renderBound,this.preloadBound)?V.InBounds:V.OutOfBounds}updateRenderState(e){const t=this.checkRenderBounds(e);if(t!==this.renderState){let o=this.renderState;this.renderState=t,o===V.InViewport&&this.emit("outOfViewport",{previous:o,current:t}),o<V.InBounds&&t===V.InViewport?(this.emit(Qe.get(V.InBounds),{previous:o,current:t}),o=V.InBounds):o>V.InBounds&&t===V.OutOfBounds&&(this.emit(Qe.get(V.InBounds),{previous:o,current:t}),o=V.InBounds);const i=Qe.get(t);L(i),this.emit(i,{previous:o,current:t})}}setRenderState(e){e!==this.renderState&&(this.renderState=e,this.emit(V[e]))}updateIsRenderable(){let e;this.worldAlpha===0||!this.checkRenderProps()?e=!1:e=this.renderState>V.OutOfBounds,this.isRenderable!==e&&(this.isRenderable=e,this.onChangeIsRenderable(e))}onChangeIsRenderable(e){var t;(t=this.props.texture)==null||t.setRenderableOwner(this,e)}calculateRenderCoords(){const{width:e,height:t,globalTransform:o}=this;L(o);const{tx:i,ty:s,ta:a,tb:l,tc:d,td:u}=o;if(l===0&&d===0){const f=i,m=i+e*a,b=s,v=s+t*u;this.renderCoords=jt.translate(f,b,m,b,m,v,f,v,this.renderCoords)}else this.renderCoords=jt.translate(i,s,i+e*a,s+e*d,i+e*a+t*l,s+e*d+t*u,i+t*l,s+t*u,this.renderCoords)}updateBoundingRect(){const{renderCoords:e,globalTransform:t}=this;L(t),L(e);const{tb:o,tc:i}=t,{x1:s,y1:a,x3:l,y3:d}=e;if(o===0||i===0)this.renderBound=nt(s,a,l,d,this.renderBound);else{const{x2:u,x4:f,y2:m,y4:b}=e;this.renderBound=nt(Math.min(s,u,l,f),Math.min(a,m,d,b),Math.max(s,u,l,f),Math.max(a,m,d,b),this.renderBound)}}calculateClippingRect(e){L(this.globalTransform);const{clippingRect:t,props:o,globalTransform:i}=this,{clipping:s}=o,a=i.tb!==0||i.tc!==0;s&&!a?(t.x=i.tx,t.y=i.ty,t.width=this.width*i.ta,t.height=this.height*i.td,t.valid=!0):t.valid=!1,e.valid&&t.valid?qr(e,t,t):e.valid&&(ho(e,t),t.valid=!0)}calculateZIndex(){var s,a;const e=this.props,t=e.zIndex||0,o=((s=e.parent)==null?void 0:s.zIndex)||0;let i=t;(a=e.parent)!=null&&a.zIndexLocked&&(i=t<o?t:o),this.calcZIndex=i}destroy(){this.unloadTexture(),this.clippingRect.valid=!1,this.isRenderable=!1,delete this.renderCoords,delete this.renderBound,delete this.strictBound,delete this.preloadBound,delete this.globalTransform,delete this.scaleRotateTransform,delete this.localTransform,this.props.texture=null,this.props.shader=null,this.rtt&&this.stage.renderer.removeRTTNode(this),this.removeAllListeners(),this.parent=null}renderQuads(e){const{width:t,height:o,texture:i,textureOptions:s,shader:a,shaderProps:l,rtt:d}=this.props;if(this.parentHasRenderTexture&&(!e.renderToTextureActive||this.parentRenderTexture!==e.activeRttNode))return;const{premultipliedColorTl:u,premultipliedColorTr:f,premultipliedColorBl:m,premultipliedColorBr:b}=this,{zIndex:v,worldAlpha:y,globalTransform:w,clippingRect:S}=this;L(w),e.addQuad({width:t,height:o,colorTl:u,colorTr:f,colorBl:m,colorBr:b,texture:i,textureOptions:s,zIndex:v,shader:a,shaderProps:l,alpha:y,clippingRect:S,tx:w.tx,ty:w.ty,ta:w.ta,tb:w.tb,tc:w.tc,td:w.td,rtt:d,parentHasRenderTexture:this.parentHasRenderTexture,framebufferDimensions:this.framebufferDimensions})}get id(){return this.props.id}get x(){return this.props.x}set x(e){this.props.x!==e&&(this.props.x=e,this.setUpdateType(k.Local))}get absX(){var e,t,o;return this.props.x+(((e=this.props.parent)==null?void 0:e.absX)||((o=(t=this.props.parent)==null?void 0:t.globalTransform)==null?void 0:o.tx)||0)}get absY(){var e,t;return this.props.y+((t=(e=this.props.parent)==null?void 0:e.absY)!=null?t:0)}get y(){return this.props.y}set y(e){this.props.y!==e&&(this.props.y=e,this.setUpdateType(k.Local))}get width(){return this.props.width}set width(e){this.props.width!==e&&(this.props.width=e,this.setUpdateType(k.Local),this.props.rtt&&this.setUpdateType(k.RenderTexture))}get height(){return this.props.height}set height(e){this.props.height!==e&&(this.props.height=e,this.setUpdateType(k.Local),this.props.rtt&&this.setUpdateType(k.RenderTexture))}get scale(){return this.scaleX}set scale(e){this.scaleX=e,this.scaleY=e}get scaleX(){return this.props.scaleX}set scaleX(e){this.props.scaleX!==e&&(this.props.scaleX=e,this.setUpdateType(k.ScaleRotate))}get scaleY(){return this.props.scaleY}set scaleY(e){this.props.scaleY!==e&&(this.props.scaleY=e,this.setUpdateType(k.ScaleRotate))}get mount(){return this.props.mount}set mount(e){(this.props.mountX!==e||this.props.mountY!==e)&&(this.props.mountX=e,this.props.mountY=e,this.props.mount=e,this.setUpdateType(k.Local))}get mountX(){return this.props.mountX}set mountX(e){this.props.mountX!==e&&(this.props.mountX=e,this.setUpdateType(k.Local))}get mountY(){return this.props.mountY}set mountY(e){this.props.mountY!==e&&(this.props.mountY=e,this.setUpdateType(k.Local))}get pivot(){return this.props.pivot}set pivot(e){(this.props.pivotX!==e||this.props.pivotY!==e)&&(this.props.pivotX=e,this.props.pivotY=e,this.props.pivot=e,this.setUpdateType(k.Local))}get pivotX(){return this.props.pivotX}set pivotX(e){this.props.pivotX!==e&&(this.props.pivotX=e,this.setUpdateType(k.Local))}get pivotY(){return this.props.pivotY}set pivotY(e){this.props.pivotY!==e&&(this.props.pivotY=e,this.setUpdateType(k.Local))}get rotation(){return this.props.rotation}set rotation(e){this.props.rotation!==e&&(this.props.rotation=e,this.setUpdateType(k.ScaleRotate))}get alpha(){return this.props.alpha}set alpha(e){this.props.alpha=e,this.setUpdateType(k.PremultipliedColors|k.WorldAlpha)}get autosize(){return this.props.autosize}set autosize(e){this.props.autosize=e}get clipping(){return this.props.clipping}set clipping(e){this.props.clipping=e,this.setUpdateType(k.Clipping)}get color(){return this.props.color}set color(e){(this.props.colorTl!==e||this.props.colorTr!==e||this.props.colorBl!==e||this.props.colorBr!==e)&&(this.colorTl=e,this.colorTr=e,this.colorBl=e,this.colorBr=e),this.props.color=e,this.setUpdateType(k.PremultipliedColors)}get colorTop(){return this.props.colorTop}set colorTop(e){(this.props.colorTl!==e||this.props.colorTr!==e)&&(this.colorTl=e,this.colorTr=e),this.props.colorTop=e,this.setUpdateType(k.PremultipliedColors)}get colorBottom(){return this.props.colorBottom}set colorBottom(e){(this.props.colorBl!==e||this.props.colorBr!==e)&&(this.colorBl=e,this.colorBr=e),this.props.colorBottom=e,this.setUpdateType(k.PremultipliedColors)}get colorLeft(){return this.props.colorLeft}set colorLeft(e){(this.props.colorTl!==e||this.props.colorBl!==e)&&(this.colorTl=e,this.colorBl=e),this.props.colorLeft=e,this.setUpdateType(k.PremultipliedColors)}get colorRight(){return this.props.colorRight}set colorRight(e){(this.props.colorTr!==e||this.props.colorBr!==e)&&(this.colorTr=e,this.colorBr=e),this.props.colorRight=e,this.setUpdateType(k.PremultipliedColors)}get colorTl(){return this.props.colorTl}set colorTl(e){this.props.colorTl=e,this.setUpdateType(k.PremultipliedColors)}get colorTr(){return this.props.colorTr}set colorTr(e){this.props.colorTr=e,this.setUpdateType(k.PremultipliedColors)}get colorBl(){return this.props.colorBl}set colorBl(e){this.props.colorBl=e,this.setUpdateType(k.PremultipliedColors)}get colorBr(){return this.props.colorBr}set colorBr(e){this.props.colorBr=e,this.setUpdateType(k.PremultipliedColors)}get zIndexLocked(){return this.props.zIndexLocked||0}set zIndexLocked(e){this.props.zIndexLocked=e,this.setUpdateType(k.CalculatedZIndex|k.Children),this.children.forEach(t=>{t.setUpdateType(k.CalculatedZIndex)})}get zIndex(){return this.props.zIndex}set zIndex(e){this.props.zIndex=e,this.setUpdateType(k.CalculatedZIndex|k.Children),this.children.forEach(t=>{t.setUpdateType(k.CalculatedZIndex)})}get parent(){return this.props.parent}set parent(e){const t=this.props.parent;if(t!==e){if(this.props.parent=e,t){const o=t.children.indexOf(this);L(o!==-1,"CoreNode.parent: Node not found in old parent's children!"),t.children.splice(o,1),t.setUpdateType(k.Children|k.ZIndexSortedChildren)}e&&(e.children.push(this),this.setUpdateType(k.All),e.setUpdateType(k.Children|k.ZIndexSortedChildren),(e.rtt||e.parentHasRenderTexture)&&this.setRTTUpdates(k.All)),this.updateScaleRotateTransform()}}get rtt(){return this.props.rtt}set rtt(e){var t,o;if(!e){this.props.rtt&&(this.props.rtt=!1,this.unloadTexture(),this.setUpdateType(k.All),this.children.forEach(i=>{i.parentHasRenderTexture=!1}),(t=this.stage.renderer)==null||t.removeRTTNode(this));return}this.props.rtt=!0,this.hasRTTupdates=!0,this.setUpdateType(k.All),this.children.forEach(i=>{i.setUpdateType(k.All)}),(o=this.stage.renderer)==null||o.renderToTexture(this)}get framebufferDimensions(){return this.parentHasRenderTexture&&!this.rtt&&this.parent?this.parent.framebufferDimensions:{width:this.width,height:this.height}}get parentRenderTexture(){let e=this.parent;for(;e;){if(e.rtt)return e;e=e.parent}return null}get texture(){return this.props.texture}setRTTUpdates(e){var t;this.hasRTTupdates=!0,(t=this.parent)==null||t.setRTTUpdates(e)}}let vs=1;function en(){return vs++}class Dr extends Xe{constructor(e,t,o,i){var s;super();h(this,"rendererMain");h(this,"stage");h(this,"id");h(this,"coreNode");h(this,"_children",[]);h(this,"_src","");h(this,"_parent",null);h(this,"_texture",null);h(this,"_shader",null);h(this,"_data",{});h(this,"onTextureLoaded",(e,t)=>{this.emit("loaded",t)});h(this,"onTextureFailed",(e,t)=>{this.emit("failed",t)});h(this,"onTextureFreed",(e,t)=>{this.emit("freed",t)});h(this,"onOutOfBounds",(e,t)=>{this.emit("outOfBounds",t)});h(this,"onInBounds",(e,t)=>{this.emit("inBounds",t)});h(this,"onOutOfViewport",(e,t)=>{this.emit("outOfViewport",t)});h(this,"onInViewport",(e,t)=>{this.emit("inViewport",t)});this.rendererMain=t,this.stage=o,this.id=(s=i==null?void 0:i.id)!=null?s:en(),this.coreNode=i||new Jr(this.stage,{id:this.id,x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,autosize:e.autosize,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scaleX:e.scaleX,scaleY:e.scaleY,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,parent:null,shader:null,shaderProps:null,texture:null,textureOptions:null,rtt:e.rtt}),this.coreNode.on("loaded",this.onTextureLoaded),this.coreNode.on("failed",this.onTextureFailed),this.coreNode.on("freed",this.onTextureFreed),this.coreNode.on("outOfBounds",this.onOutOfBounds),this.coreNode.on("inBounds",this.onInBounds),this.coreNode.on("outOfViewport",this.onOutOfViewport),this.coreNode.on("inViewport",this.onInViewport),this.parent=e.parent,this.shader=e.shader,this.texture=e.texture,this.src=e.src,this.rtt=e.rtt,this._data=e.data}get x(){return this.coreNode.x}set x(e){this.coreNode.x=e}get y(){return this.coreNode.y}set y(e){this.coreNode.y=e}get width(){return this.coreNode.width}set width(e){e!==this.coreNode.width&&this.coreNode.rtt&&(this.texture=this.rendererMain.createTexture("RenderTexture",{width:this.width,height:this.height},{preload:!0,flipY:!0})),this.coreNode.width=e}get height(){return this.coreNode.height}set height(e){e!==this.coreNode.height&&this.coreNode.rtt&&(this.texture=this.rendererMain.createTexture("RenderTexture",{width:this.width,height:this.height},{preload:!0,flipY:!0})),this.coreNode.height=e}get alpha(){return this.coreNode.alpha}set alpha(e){this.coreNode.alpha=e}get autosize(){return this.coreNode.autosize}set autosize(e){this.coreNode.autosize=e}get clipping(){return this.coreNode.clipping}set clipping(e){this.coreNode.clipping=e}get color(){return this.coreNode.color}set color(e){this.coreNode.color=e}get colorTop(){return this.coreNode.colorTop}set colorTop(e){this.coreNode.colorTop=e}get colorBottom(){return this.coreNode.colorBottom}set colorBottom(e){this.coreNode.colorBottom=e}get colorLeft(){return this.coreNode.colorLeft}set colorLeft(e){this.coreNode.colorLeft=e}get colorRight(){return this.coreNode.colorRight}set colorRight(e){this.coreNode.colorRight=e}get colorTl(){return this.coreNode.colorTl}set colorTl(e){this.coreNode.colorTl=e}get colorTr(){return this.coreNode.colorTr}set colorTr(e){this.coreNode.colorTr=e}get colorBl(){return this.coreNode.colorBl}set colorBl(e){this.coreNode.colorBl=e}get colorBr(){return this.coreNode.colorBr}set colorBr(e){this.coreNode.colorBr=e}get scale(){return this.scaleX!==this.scaleY?null:this.coreNode.scaleX}set scale(e){e!==null&&(this.coreNode.scaleX=e,this.coreNode.scaleY=e)}get scaleX(){return this.coreNode.scaleX}set scaleX(e){this.coreNode.scaleX=e}get scaleY(){return this.coreNode.scaleY}set scaleY(e){this.coreNode.scaleY=e}get mount(){return this.coreNode.mount}set mount(e){this.coreNode.mount=e}get mountX(){return this.coreNode.mountX}set mountX(e){this.coreNode.mountX=e}get mountY(){return this.coreNode.mountY}set mountY(e){this.coreNode.mountY=e}get pivot(){return this.coreNode.pivot}set pivot(e){this.coreNode.pivot=e}get pivotX(){return this.coreNode.pivotX}set pivotX(e){this.coreNode.pivotX=e}get pivotY(){return this.coreNode.pivotY}set pivotY(e){this.coreNode.pivotY=e}get rotation(){return this.coreNode.rotation}set rotation(e){this.coreNode.rotation=e}get parent(){return this._parent}set parent(e){var o;const t=this._parent;if(this._parent=e,this.coreNode.parent=(o=e==null?void 0:e.coreNode)!=null?o:null,t){const i=t.children.indexOf(this);L(i!==-1,"MainOnlyNode.parent: Node not found in old parent's children!"),t.children.splice(i,1)}e&&e.children.push(this)}get children(){return this._children}get zIndex(){return this.coreNode.zIndex}set zIndex(e){this.coreNode.zIndex=e}get zIndexLocked(){return this.coreNode.zIndexLocked}set zIndexLocked(e){this.coreNode.zIndexLocked=e}get src(){return this._src}set src(e){if(this._src!==e){if(this._src=e,!e){this.texture=null;return}this.texture=this.rendererMain.createTexture("ImageTexture",{src:e})}}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),e&&this.rendererMain.textureTracker.incrementTextureRefCount(e),this._texture=e,e?this.coreNode.loadTexture(e.txType,e.props,e.options):this.coreNode.unloadTexture())}get rtt(){return this.coreNode.rtt}set rtt(e){e&&(this.texture=this.rendererMain.createTexture("RenderTexture",{width:this.width,height:this.height},{preload:!0,flipY:!0})),this.coreNode.rtt=e}get parentHasRenderTexture(){return this.coreNode.parentHasRenderTexture}get shader(){return this._shader}set shader(e){this._shader!==e&&(this._shader=e,e&&this.coreNode.loadShader(e.shType,e.props))}get data(){return this._data}set data(e){this._data=Ao(e)}destroy(){this.emit("beforeDestroy",{});let e=this.children[0];for(;e;)e.destroy(),e=this.children[0];this.coreNode.destroy(),this.parent=null,this.texture=null,this.emit("afterDestroy",{}),this.removeAllListeners()}flush(){}animate(e,t){const o=new ms(this.coreNode,e,t);return new xs(this.stage.animationManager,o)}}const bs=n=>{let r=!1;const e=()=>{if(n.updateAnimations(),!n.hasSceneUpdates()){n.calculateFps(),setTimeout(e,16.666666666666668),r||(n.emit("idle"),r=!0);return}r=!1,n.drawFrame(),requestAnimationFrame(e)};requestAnimationFrame(e)},ws=()=>performance?performance.now():Date.now();class Ss{constructor(){h(this,"activeAnimations",new Set)}registerAnimation(r){this.activeAnimations.add(r)}unregisterAnimation(r){this.activeAnimations.delete(r)}update(r){this.activeAnimations.forEach(e=>{e.update(r)})}}class As{constructor(r){h(this,"imageWorkersEnabled",!0);h(this,"messageManager",{});h(this,"workers",[]);h(this,"workerIndex",0);h(this,"nextId",0);this.workers=this.createWorkers(r),this.workers.forEach(e=>{e.onmessage=this.handleMessage.bind(this)})}handleMessage(r){const{id:e,data:t,error:o}=r.data,i=this.messageManager[e];if(i){const[s,a]=i;delete this.messageManager[e],o?a(new Error(o)):s(t)}}createWorkers(r=1){const e="\n      function hasAlphaChannel(mimeType) {\n          return (mimeType.indexOf(\"image/png\") !== -1);\n      }\n\n      function getImage(src, premultiplyAlpha) {\n        return new Promise(function(resolve, reject) {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', src, true);\n          xhr.responseType = 'blob';\n\n          xhr.onload = function() {\n            if (xhr.status === 200) {\n              var blob = xhr.response;\n              var hasAlphaChannel = premultiplyAlpha !== undefined ? premultiplyAlpha : hasAlphaChannel(blob.type);\n\n              createImageBitmap(blob, {\n                premultiplyAlpha: hasAlphaChannel ? 'premultiply' : 'none',\n                colorSpaceConversion: 'none',\n                imageOrientation: 'none'\n              }).then(function(data) {\n                resolve({ data: data, premultiplyAlpha: premultiplyAlpha });\n              }).catch(function(error) {\n                reject(error);\n              });\n            } else {\n              reject(new Error('Failed to load image: ' + xhr.statusText));\n            }\n          };\n\n          xhr.onerror = function() {\n            reject(new Error('Network error occurred while trying to fetch the image.'));\n          };\n\n          xhr.send();\n        });\n      }\n\n      self.onmessage = (event) => {\n        var id = event.data.id;\n        var src = event.data.src;\n        var premultiplyAlpha = event.data.premultiplyAlpha;\n\n        getImage(src, premultiplyAlpha)\n          .then(function(data) {\n              self.postMessage({ id: id, data: data }, [data.data]);\n          })\n          .catch(function(error) {\n              self.postMessage({ id: id, error: error.message });\n          });\n      };\n    ",t=new Blob([e.replace('"use strict";',"")],{type:"application/javascript"}),o=(self.URL?URL:webkitURL).createObjectURL(t),i=[];for(let s=0;s<r;s++)i.push(new Worker(o));return i}getNextWorker(){const r=this.workers[this.workerIndex];return this.workerIndex=(this.workerIndex+1)%this.workers.length,r}convertUrlToAbsolute(r){return new URL(r,self.location.href).href}getImage(r,e){return new Promise((t,o)=>{try{if(this.workers){const i=this.convertUrlToAbsolute(r),s=this.nextId++;this.messageManager[s]=[t,o],this.getNextWorker().postMessage({id:s,src:i,premultiplyAlpha:e})}}catch(i){o(i)}})}}const At=class At extends co{constructor(e,t){super(e);h(this,"props");this.props=At.resolveDefaults(t)}async getTextureData(){const{width:e,height:t}=this.props,o=e*t*4,i=new Uint8ClampedArray(o);for(let s=0;s<o;s+=4){const a=Math.floor(Math.random()*256);i[s]=a,i[s+1]=a,i[s+2]=a,i[s+3]=255}return{data:new ImageData(i,e,t)}}static makeCacheKey(e){const t=At.resolveDefaults(e);return"NoiseTexture,".concat(t.width,",").concat(t.height,",").concat(t.cacheId)}static resolveDefaults(e){var t,o,i;return{width:(t=e.width)!=null?t:128,height:(o=e.height)!=null?o:128,cacheId:(i=e.cacheId)!=null?i:0}}};h(At,"z$__type__Props");let zr=At;class Cs{constructor(r){h(this,"usedMemory",0);h(this,"txConstructors",{});h(this,"textureKeyCache",new Map);h(this,"textureIdCache",new Map);h(this,"ctxTextureCache",new WeakMap);h(this,"textureRefCountMap",new WeakMap);h(this,"imageWorkerManager",null);h(this,"hasCreateImageBitmap",!!self.createImageBitmap);h(this,"hasWorker",!!self.Worker);h(this,"renderer");this.hasCreateImageBitmap&&this.hasWorker&&(this.imageWorkerManager=new As(r)),this.hasCreateImageBitmap||console.warn("[Lightning] createImageBitmap is not supported on this browser. ImageTexture will be slower."),this.registerTextureType("ImageTexture",Pr),this.registerTextureType("ColorTexture",Ni),this.registerTextureType("NoiseTexture",zr),this.registerTextureType("SubTexture",fo),this.registerTextureType("RenderTexture",Ei)}registerTextureType(r,e){this.txConstructors[r]=e}loadTexture(r,e,t=null){var s;const o=this.txConstructors[r];if(!o)throw new Error('Texture type "'.concat(r,'" is not registered'));let i;if((t==null?void 0:t.id)!==void 0&&this.textureIdCache.has(t.id)&&(i=this.textureIdCache.get(t.id)),!i){const a=t==null?void 0:t.id,l=(s=t==null?void 0:t.cacheKey)!=null?s:o.makeCacheKey(e);l&&this.textureKeyCache.has(l)?i=this.textureKeyCache.get(l):i=new o(this,e),a&&this.addTextureIdToCache(a,l,i)}return t!=null&&t.preload&&this.getCtxTexture(i).load(),i}addTextureIdToCache(r,e,t){const{textureIdCache:o,textureRefCountMap:i}=this;o.set(r,t),i.has(t)?i.get(t).count++:(i.set(t,{cacheKey:e,count:1}),e&&this.textureKeyCache.set(e,t))}removeTextureIdFromCache(r){var i;const{textureIdCache:e,textureRefCountMap:t}=this,o=e.get(r);if(o){if(e.delete(r),t.has(o)){const s=t.get(o);L(s),s.count--,s.count===0&&(t.delete(o),s.cacheKey&&this.textureKeyCache.delete(s.cacheKey))}(i=this.ctxTextureCache.get(o))==null||i.free()}}getDebugInfo(){return{keyCacheSize:this.textureKeyCache.size,idCacheSize:this.textureIdCache.size}}getCtxTexture(r){if(this.ctxTextureCache.has(r))return this.ctxTextureCache.get(r);const e=this.renderer.createCtxTexture(r);return this.ctxTextureCache.set(r,e),e}}class Ts{constructor(){h(this,"data",{})}reset(){this.data={}}increment(r){this.data[r]||(this.data[r]=0),this.data[r]++}getData(){return{...this.data}}}class _s{constructor(r){h(this,"memUsed",0);h(this,"textures",new Map);h(this,"threshold");h(this,"gcRequested",!1);this.threshold=r,r===0&&(this.setTextureMemUse=()=>{})}setTextureMemUse(r,e){if(this.textures.has(r)&&(this.memUsed-=this.textures.get(r)),e===0){this.textures.delete(r);return}else this.memUsed+=e,this.textures.set(r,e);this.memUsed>this.threshold&&(this.gcRequested=!0)}gc(){this.gcRequested=!1,this.textures.forEach((r,e)=>{e.renderable||e.free()})}}const Rs={isWhite:!0,a:1,r:255,g:255,b:255};function br(n){if(n===4294967295)return Rs;const r=(n>>>24&255)/255,e=n>>>16&255&255,t=n>>>8&255&255,o=n&255&255;return{isWhite:!1,a:r,r:o,g:t,b:e}}function Qt({a:n,r,g:e,b:t}){return"rgba(".concat(r,",").concat(e,",").concat(t,",").concat(n,")")}class Is extends Li{constructor(){super(...arguments);h(this,"image");h(this,"tintCache")}load(){this.textureSource.state==="freed"&&(this.textureSource.setState("loading"),this.onLoadRequest().then(e=>{this.textureSource.setState("loaded",e),this.updateMemSize()}).catch(e=>{this.textureSource.setState("failed",e)}))}free(){this.image=void 0,this.tintCache=void 0,this.textureSource.setState("freed"),this.memManager.setTextureMemUse(this,0)}updateMemSize(){const e=this.tintCache?8:4;if(this.textureSource.dimensions){const{width:t,height:o}=this.textureSource.dimensions;this.memManager.setTextureMemUse(this,t*o*e)}}hasImage(){return this.image!==void 0}getImage(e){var s;const t=this.image;if(L(t,"Attempt to get unloaded image texture"),e.isWhite)return this.tintCache&&(this.tintCache=void 0,this.updateMemSize()),t;const o=Qt(e);if(((s=this.tintCache)==null?void 0:s.key)===o)return this.tintCache.image;const i=this.tintTexture(t,o);return this.tintCache={key:o,image:i},this.updateMemSize(),i}tintTexture(e,t){const{width:o,height:i}=e,s=document.createElement("canvas");s.width=o,s.height=i;const a=s.getContext("2d");return a&&(a.fillStyle=t,a.globalCompositeOperation="copy",a.fillRect(0,0,o,i),a.globalCompositeOperation="multiply",a.drawImage(e,0,0,o,i,0,0,o,i),a.globalCompositeOperation="destination-in",a.drawImage(e,0,0,o,i,0,0,o,i)),s}get renderable(){return this.textureSource.renderable}async onLoadRequest(){const{data:e}=await this.textureSource.getTextureData();if(e instanceof ImageData){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const o=t.getContext("2d");return o&&o.putImageData(e,0,0),this.image=t,{width:e.width,height:e.height}}else if(e instanceof ImageBitmap)return this.image=e,{width:e.width,height:e.height};return{width:0,height:0}}}function ks(n){var r,e;return n.shader instanceof So&&n.shader.shType===wo&&(e=(r=n.shaderProps)==null?void 0:r.radius)!=null?e:0}class Bs extends Fi{constructor(e){super(e);h(this,"context");h(this,"canvas");h(this,"pixelRatio");h(this,"clearColor");h(this,"renderToTextureActive",!1);h(this,"activeRttNode",null);this.mode="canvas",this.shManager.renderer=this;const{canvas:t,pixelRatio:o,clearColor:i}=e;this.canvas=t,this.context=t.getContext("2d"),this.pixelRatio=o,this.clearColor=i?Mi(i):void 0}reset(){this.canvas.width=this.canvas.width;const e=this.context;if(this.clearColor){const[t,o,i,s]=this.clearColor;e.fillStyle="rgba(".concat(t,", ").concat(o,", ").concat(i,", ").concat(s/255,")"),e.fillRect(0,0,this.canvas.width,this.canvas.height)}e.scale(this.pixelRatio,this.pixelRatio)}render(){}addQuad(e){const t=this.context,{tx:o,ty:i,width:s,height:a,alpha:l,colorTl:d,colorTr:u,colorBr:f,ta:m,tb:b,tc:v,td:y,clippingRect:w}=e;let S=e.texture,x,p;if(S){if(S instanceof fo&&(p=S.props,S=S.parentTexture),x=this.txManager.getCtxTexture(S),S.state==="freed"){x.load();return}if(S.state!=="loaded"||!x.hasImage())return}const g=br(d),A=m!==1,T=w.width!==0&&w.height!==0,R=d!==u||d!==f,I=e.shader?ks(e):0;if((A||T||I)&&t.save(),T){const C=new Path2D,{x:E,y:B,width:N,height:M}=w;C.rect(E,B,N,M),t.clip(C)}if(A){const C=this.pixelRatio;t.setTransform(m,v,b,y,o*C,i*C),t.scale(C,C),t.translate(-o,-i)}if(I){const C=new Path2D;C.roundRect(o,i,s,a,I),t.clip(C)}if(x){const C=x.getImage(g);t.globalAlpha=l,p?t.drawImage(C,p.x,p.y,p.width,p.height,o,i,s,a):t.drawImage(C,o,i,s,a),t.globalAlpha=1}else if(R){let C=o,E=i,B;d===u?(C=o,E=i+a,B=br(f)):(C=o+s,E=i,B=br(u));const N=t.createLinearGradient(o,i,C,E);N.addColorStop(0,Qt(g)),N.addColorStop(1,Qt(B)),t.fillStyle=N,t.fillRect(o,i,s,a)}else t.fillStyle=Qt(g),t.fillRect(o,i,s,a);(A||T||I)&&t.restore()}createCtxTexture(e){return new Is(this.txMemManager,e)}getShaderManager(){return this.shManager}renderRTTNodes(){}removeRTTNode(e){}renderToTexture(e){}}const Ns=2e6;class Es extends Xe{constructor(e){super();h(this,"options");h(this,"animationManager");h(this,"txManager");h(this,"txMemManager");h(this,"fontManager");h(this,"textRenderers");h(this,"shManager");h(this,"renderer");h(this,"root");h(this,"boundsMargin");h(this,"deltaTime",0);h(this,"lastFrameTime",0);h(this,"currentFrameTime",0);h(this,"fpsNumFrames",0);h(this,"fpsElapsedTime",0);h(this,"renderRequested",!1);h(this,"contextSpy",null);this.options=e;const{canvas:t,clearColor:o,rootId:i,debug:s,appWidth:a,appHeight:l,boundsMargin:d,enableContextSpy:u,numImageWorkers:f,txMemByteThreshold:m,renderMode:b}=e;this.txManager=new Cs(f),this.txMemManager=new _s(m),this.shManager=new Ji,this.animationManager=new Ss,this.contextSpy=u?new Ts:null;let v=[0,0,0,0];d&&(v=Array.isArray(d)?d:[d,d,d,d]),this.boundsMargin=v,s!=null&&s.monitorTextureCache&&setInterval(()=>{L(this.txManager);const S=this.txManager.getDebugInfo();console.log("Texture ID Cache Size: ",S.idCacheSize),console.log("Texture Key Cache Size: ",S.keyCacheSize)},1e3);const y={stage:this,canvas:t,pixelRatio:e.devicePhysicalPixelRatio*e.deviceLogicalPixelRatio,clearColor:o!=null?o:4278190080,bufferMemory:Ns,txManager:this.txManager,txMemManager:this.txMemManager,shManager:this.shManager,contextSpy:this.contextSpy};b==="canvas"?this.renderer=new Bs(y):this.renderer=new uo(y),Pi(b),this.txManager.renderer=this.renderer,this.textRenderers=b==="webgl"?{canvas:new Rn(this),sdf:new hs(this)}:{canvas:new Rn(this)},this.fontManager=new Zr(this.textRenderers);const w=new Jr(this,{id:i,x:0,y:0,width:a,height:l,alpha:1,autosize:!1,clipping:!1,color:0,colorTop:0,colorBottom:0,colorLeft:0,colorRight:0,colorTl:0,colorTr:0,colorBl:0,colorBr:0,zIndex:0,zIndexLocked:0,scaleX:1,scaleY:1,mountX:0,mountY:0,mount:0,pivot:.5,pivotX:.5,pivotY:.5,rotation:0,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null,rtt:!1});this.root=w,bs(this)}updateAnimations(){const{animationManager:e}=this;this.root&&(this.lastFrameTime=this.currentFrameTime,this.currentFrameTime=ws(),this.deltaTime=this.lastFrameTime?this.currentFrameTime-this.lastFrameTime:100/6,this.emit("frameTick",{time:this.currentFrameTime,delta:this.deltaTime}),e.update(this.deltaTime))}hasSceneUpdates(){return!!this.root.updateType||this.renderRequested}drawFrame(){const{renderer:e,renderRequested:t}=this;L(e),this.root.updateType!==0&&this.root.update(this.deltaTime,this.root.clippingRect),e.reset(),e.txMemManager.gcRequested&&e.txMemManager.gc(),e.rttNodes.length>0&&e.renderRTTNodes(),this.addQuads(this.root),e==null||e.render(),this.calculateFps(),t&&(this.renderRequested=!1)}calculateFps(){var t,o,i;const{fpsUpdateInterval:e}=this.options;if(e&&(this.fpsNumFrames++,this.fpsElapsedTime+=this.deltaTime,this.fpsElapsedTime>=e)){const s=Math.round(this.fpsNumFrames*1e3/this.fpsElapsedTime);this.fpsNumFrames=0,this.fpsElapsedTime=0,this.emit("fpsUpdate",{fps:s,contextSpyData:(o=(t=this.contextSpy)==null?void 0:t.getData())!=null?o:null}),(i=this.contextSpy)==null||i.reset()}}addQuads(e){L(this.renderer&&e.globalTransform),e.isRenderable&&e.renderQuads(this.renderer);for(let t=0;t<e.children.length;t++){const o=e.children[t];o&&(o==null?void 0:o.worldAlpha)!==0&&this.addQuads(o)}}requestRender(){this.renderRequested=!0}resolveTextRenderer(e,t=null){let o=t,i=!1;if(o){const a=this.textRenderers[o];a?a.canRenderFont(e)||(console.warn("Cannot use override text renderer '".concat(o,"' for font"),e),o=null,i=!0):(console.warn("Text renderer override '".concat(o,"' not found.")),o=null,i=!0)}if(!o){for(const[a,l]of Object.entries(this.textRenderers))if(a!=="canvas"&&l.canRenderFont(e)){o=a;break}o||(o="canvas")}i&&console.warn("Falling back to text renderer ".concat(String(o)));const s=this.textRenderers[o];return L(s,"resolvedTextRenderer undefined"),s}}class Ls extends Jr{constructor(e,t){super(e,t);h(this,"textRenderer");h(this,"trState");h(this,"_textRendererOverride",null);h(this,"onTextLoaded",()=>{const{contain:e}=this,t=this.trState.props.width,o=this.trState.props.height,i=this.trState.textW||0,s=this.trState.textH||0;e==="both"?(this.props.width=t,this.props.height=o):e==="width"?(this.props.width=t,this.props.height=s):e==="none"&&(this.props.width=i,this.props.height=s),this.updateLocalTransform(),this.stage.requestRender(),this.emit("loaded",{type:"text",dimensions:{width:this.trState.textW||0,height:this.trState.textH||0}})});h(this,"onTextFailed",(e,t)=>{this.emit("failed",{type:"text",error:t})});this._textRendererOverride=t.textRendererOverride;const{resolvedTextRenderer:o,textRendererState:i}=this.resolveTextRendererAndState({x:this.absX,y:this.absY,width:t.width,height:t.height,textAlign:t.textAlign,color:t.color,zIndex:t.zIndex,contain:t.contain,scrollable:t.scrollable,scrollY:t.scrollY,offsetY:t.offsetY,letterSpacing:t.letterSpacing,debug:t.debug,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStretch:t.fontStretch,fontStyle:t.fontStyle,fontWeight:t.fontWeight,text:t.text,lineHeight:t.lineHeight,maxLines:t.maxLines,textBaseline:t.textBaseline,verticalAlign:t.verticalAlign,overflowSuffix:t.overflowSuffix});this.textRenderer=o,this.trState=i}get width(){return this.props.width}set width(e){this.props.width=e,this.textRenderer.set.width(this.trState,e),this.contain==="none"&&this.setUpdateType(k.Local)}get height(){return this.props.height}set height(e){this.props.height=e,this.textRenderer.set.height(this.trState,e),this.contain!=="both"&&this.setUpdateType(k.Local)}get color(){return this.trState.props.color}set color(e){this.textRenderer.set.color(this.trState,e)}get text(){return this.trState.props.text}set text(e){this.textRenderer.set.text(this.trState,e)}get textRendererOverride(){return this._textRendererOverride}set textRendererOverride(e){this._textRendererOverride=e,this.textRenderer.destroyState(this.trState);const{resolvedTextRenderer:t,textRendererState:o}=this.resolveTextRendererAndState(this.trState.props);this.textRenderer=t,this.trState=o}get fontSize(){return this.trState.props.fontSize}set fontSize(e){this.textRenderer.set.fontSize(this.trState,e)}get fontFamily(){return this.trState.props.fontFamily}set fontFamily(e){this.textRenderer.set.fontFamily(this.trState,e)}get fontStretch(){return this.trState.props.fontStretch}set fontStretch(e){this.textRenderer.set.fontStretch(this.trState,e)}get fontStyle(){return this.trState.props.fontStyle}set fontStyle(e){this.textRenderer.set.fontStyle(this.trState,e)}get fontWeight(){return this.trState.props.fontWeight}set fontWeight(e){this.textRenderer.set.fontWeight(this.trState,e)}get textAlign(){return this.trState.props.textAlign}set textAlign(e){this.textRenderer.set.textAlign(this.trState,e)}get contain(){return this.trState.props.contain}set contain(e){this.textRenderer.set.contain(this.trState,e)}get scrollable(){return this.trState.props.scrollable}set scrollable(e){this.textRenderer.set.scrollable(this.trState,e)}get scrollY(){return this.trState.props.scrollY}set scrollY(e){this.textRenderer.set.scrollY(this.trState,e)}get offsetY(){return this.trState.props.offsetY}set offsetY(e){this.textRenderer.set.offsetY(this.trState,e)}get letterSpacing(){return this.trState.props.letterSpacing}set letterSpacing(e){this.textRenderer.set.letterSpacing(this.trState,e)}get lineHeight(){return this.trState.props.lineHeight}set lineHeight(e){this.textRenderer.set.lineHeight&&this.textRenderer.set.lineHeight(this.trState,e)}get maxLines(){return this.trState.props.maxLines}set maxLines(e){this.textRenderer.set.maxLines&&this.textRenderer.set.maxLines(this.trState,e)}get textBaseline(){return this.trState.props.textBaseline}set textBaseline(e){this.textRenderer.set.textBaseline&&this.textRenderer.set.textBaseline(this.trState,e)}get verticalAlign(){return this.trState.props.verticalAlign}set verticalAlign(e){this.textRenderer.set.verticalAlign&&this.textRenderer.set.verticalAlign(this.trState,e)}get overflowSuffix(){return this.trState.props.overflowSuffix}set overflowSuffix(e){this.textRenderer.set.overflowSuffix&&this.textRenderer.set.overflowSuffix(this.trState,e)}get debug(){return this.trState.props.debug}set debug(e){this.textRenderer.set.debug(this.trState,e)}update(e,t){super.update(e,t),L(this.globalTransform),this.textRenderer.set.x(this.trState,this.globalTransform.tx),this.textRenderer.set.y(this.trState,this.globalTransform.ty)}checkRenderProps(){return this.trState.props.text!==""?!0:super.checkRenderProps()}onChangeIsRenderable(e){super.onChangeIsRenderable(e),this.textRenderer.setIsRenderable(this.trState,e)}renderQuads(e){var t;L(this.globalTransform),!(this.parentHasRenderTexture&&(!e.renderToTextureActive||this.parentRenderTexture!==e.activeRttNode))&&(this.parentHasRenderTexture&&((t=this.props.parent)!=null&&t.rtt)&&(this.globalTransform=ae.identity(),this.localTransform&&this.globalTransform.multiply(this.localTransform)),L(this.globalTransform),this.textRenderer.renderQuads(this.trState,this.globalTransform,this.clippingRect,this.worldAlpha,this.parentHasRenderTexture,this.framebufferDimensions))}destroy(){super.destroy(),this.textRenderer.destroyState(this.trState)}resolveTextRendererAndState(e){const t=this.stage.resolveTextRenderer(e,this._textRendererOverride),o=t.createState(e);return o.emitter.on("loaded",this.onTextLoaded),o.emitter.on("failed",this.onTextFailed),t.scheduleUpdateState(o),{resolvedTextRenderer:t,textRendererState:o}}}class Fs extends Dr{constructor(r,e,t){super(r,e,t,new Ls(t,{id:en(),x:r.x,y:r.y,width:r.width,height:r.height,alpha:r.alpha,autosize:r.autosize,clipping:r.clipping,color:r.color,colorTop:r.colorTop,colorBottom:r.colorBottom,colorLeft:r.colorLeft,colorRight:r.colorRight,colorTl:r.colorTl,colorTr:r.colorTr,colorBl:r.colorBl,colorBr:r.colorBr,zIndex:r.zIndex,zIndexLocked:r.zIndexLocked,scaleX:r.scaleX,scaleY:r.scaleY,mountX:r.mountX,mountY:r.mountY,mount:r.mount,pivot:r.pivot,pivotX:r.pivotX,pivotY:r.pivotY,rotation:r.rotation,text:r.text,fontSize:r.fontSize,fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontStretch:r.fontStretch,fontStyle:r.fontStyle,contain:r.contain,scrollable:r.scrollable,letterSpacing:r.letterSpacing,textAlign:r.textAlign,scrollY:r.scrollY,offsetY:r.offsetY,textRendererOverride:r.textRendererOverride,lineHeight:r.lineHeight,maxLines:r.maxLines,textBaseline:r.textBaseline,verticalAlign:r.verticalAlign,overflowSuffix:r.overflowSuffix,debug:r.debug,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null,rtt:!1}))}get text(){return this.coreNode.text}set text(r){this.coreNode.text=r}get textRendererOverride(){return this.coreNode.textRendererOverride}set textRendererOverride(r){this.coreNode.textRendererOverride=r}get fontSize(){return this.coreNode.fontSize}set fontSize(r){this.coreNode.fontSize=r}get fontFamily(){return this.coreNode.fontFamily}set fontFamily(r){this.coreNode.fontFamily=r}get fontWeight(){return this.coreNode.fontWeight}set fontWeight(r){this.coreNode.fontWeight=r}get fontStretch(){return this.coreNode.fontStretch}set fontStretch(r){this.coreNode.fontStretch=r}get fontStyle(){return this.coreNode.fontStyle}set fontStyle(r){this.coreNode.fontStyle=r}get textAlign(){return this.coreNode.textAlign}set textAlign(r){this.coreNode.textAlign=r}get contain(){return this.coreNode.contain}set contain(r){this.coreNode.contain=r}get scrollable(){return this.coreNode.scrollable}set scrollable(r){this.coreNode.scrollable=r}get scrollY(){return this.coreNode.scrollY}set scrollY(r){this.coreNode.scrollY=r}get offsetY(){return this.coreNode.offsetY}set offsetY(r){this.coreNode.offsetY=r}get letterSpacing(){return this.coreNode.letterSpacing}set letterSpacing(r){this.coreNode.letterSpacing=r}get lineHeight(){return this.coreNode.lineHeight}set lineHeight(r){this.coreNode.lineHeight=r}get maxLines(){return this.coreNode.maxLines}set maxLines(r){r&&(this.coreNode.maxLines=r)}get textBaseline(){return this.coreNode.textBaseline}set textBaseline(r){r&&(this.coreNode.textBaseline=r)}get verticalAlign(){return this.coreNode.verticalAlign}set verticalAlign(r){r&&(this.coreNode.verticalAlign=r)}get overflowSuffix(){return this.coreNode.overflowSuffix}set overflowSuffix(r){r&&(this.coreNode.overflowSuffix=r)}get debug(){return this.coreNode.debug}set debug(r){this.coreNode.debug=r}}class Ms{constructor(){h(this,"root",null);h(this,"stage",null);h(this,"rendererMain",null)}async init(r,e,t){this.stage=new Es({rootId:en(),appWidth:e.appWidth,appHeight:e.appHeight,txMemByteThreshold:e.txMemByteThreshold,boundsMargin:e.boundsMargin,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio,clearColor:e.clearColor,canvas:t,fpsUpdateInterval:e.fpsUpdateInterval,enableContextSpy:e.enableContextSpy,numImageWorkers:e.numImageWorkers,renderMode:e.renderMode,debug:{monitorTextureCache:!1}}),this.rendererMain=r,L(this.stage.root);const o=new Dr(r.resolveNodeDefaults({}),this.rendererMain,this.stage,this.stage.root);this.root=o,o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.onCreateNode(o),e.coreExtensionModule&&await gs(e.coreExtensionModule,this.stage),this.stage.on("fpsUpdate",(i,s)=>{this.onFpsUpdate(s)}),this.stage.on("frameTick",(i,s)=>{this.onFrameTick(s)}),this.stage.on("idle",()=>{this.onIdle()})}createNode(r){L(this.rendererMain),L(this.stage);const e=new Dr(r,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}createTextNode(r){L(this.rendererMain),L(this.stage);const e=new Fs(r,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}destroyNode(r){r.destroy()}releaseTexture(r){const{stage:e}=this;L(e),e.txManager.removeTextureIdFromCache(r)}getRootNode(){return L(this.root),this.root}onCreateNode(r){throw new Error("Method not implemented.")}onBeforeDestroyNode(r){throw new Error("Method not implemented.")}onFpsUpdate(r){throw new Error("Method not implemented.")}onFrameTick(r){throw new Error("Method not implemented.")}onIdle(){throw new Error("Method not implemented.")}}let ke,tn;function Ps(n={},r="app"){const e=new Ms;return ke=new ps(n,r,e),tn=ke.createShader.bind(ke),ke}class Ds extends Array{constructor(r){super(),this._parent=r}get selected(){return this[this._parent.selected||0]}get firstChild(){return this[0]}insert(r,e){if(e){const t=this.indexOf(e);this.splice(t,0,r)}else this.push(r);r.parent=this._parent}remove(r){const e=this.indexOf(r);e>=0&&this.splice(e,1)}}function zs(){return!0&&!1}const Os=zs()||!1,oe={debug:!1,animationsEnabled:!0,animationSettings:{duration:250,easing:"ease-in-out"},fontSettings:{fontFamily:"Ubuntu",fontSize:100},setActiveElement:()=>{}};function In(n){return Us(n)&&n.debug}function $e(n,r,...e){Os&&(oe.debug||In(r)||In(e[0]))&&console.log(n,r,...e)}const De=n=>n instanceof Function;function Us(n){return typeof n=="object"}function Ct(n){return Array.isArray(n)}function Ws(n){return typeof n=="string"}function Ys(n){return typeof n=="number"}function Hs(n){return Number.isInteger(n)}function $s(n,r){for(const e of r)if(e in n)return!0;return!1}function Co(n,r={}){if(Ct(n))n.forEach(e=>{Co(e,r)});else if(n)for(const e in n)r[e]===void 0&&(r[e]=n[e]);return r}class kn extends Array{constructor(r,e={}){return Ct(e)?super(...e):Ws(e)?super(e):super(...Object.entries(e).filter(([t,o])=>o).map(([t])=>t)),this.onChange=r,this}has(r){return this.indexOf(r)>=0}is(r){return this.indexOf(r)>=0}add(r){this.push(r),this.onChange()}toggle(r){this.has(r)?this.remove(r):this.add(r)}remove(r){const e=this.indexOf(r);e>=0&&(this.splice(e,1),this.onChange())}}const Ke={Element:"element",TextNode:"textNode",Text:"text"};function Ks(n){const r=[];let e=!1;for(let p=0;p<n.children.length;p++){const g=n.children[p];if(g.type!==Ke.Text&&g.flexItem!==!1){if(g.type===Ke.TextNode&&g.text&&!(g.width||g.height))return!1;g.flexOrder!==void 0&&(e=!0),r.push(g)}}e&&r.sort((p,g)=>(p.flexOrder||0)-(g.flexOrder||0));const t=r.length,i=(n.flexDirection||"row")==="row",s=i?"width":"height",a=i?"height":"width",l=i?"marginLeft":"marginTop",d=i?"marginRight":"marginBottom",u=i?"x":"y",f=i?"y":"x",m=n[s]||0,b=n[a]||0,v=n.gap||0,y=n.justifyContent||"flexStart",w=n.alignItems;let S=0;["center","spaceBetween","spaceEvenly"].includes(y)&&(S=r.reduce((p,g)=>p+(g[s]||0),0));const x=b&&w?p=>{w==="flexStart"?p[f]=0:w==="center"?p[f]=(b-(p[a]||0))/2:w==="flexEnd"&&(p[f]=b-(p[a]||0))}:p=>p;if(y==="flexStart"){let p=0;for(let g=0;g<r.length;g++){const A=r[g];A[u]=p+(A[l]||0),p+=(A[s]||0)+v+(A[l]||0)+(A[d]||0),x(A)}if(n.flexBoundary!=="fixed"){const g=p-v;if(g!==n[s])return n[s]=g,!0}}else if(y==="flexEnd"){let p=m;for(let g=t-1;g>=0;g--){const A=r[g];L(A),A[u]=p-(A[s]||0)-(A[d]||0),p-=(A[s]||0)+v+(A[l]||0)+(A[d]||0),x(A)}}else if(y==="center"){let p=(m-(S+v*(t-1)))/2;for(let g=0;g<r.length;g++){const A=r[g];A[u]=p,p+=(A[s]||0)+v,x(A)}}else if(y==="spaceBetween"){const p=(m-S)/(t-1);let g=0;for(let A=0;A<r.length;A++){const T=r[A];T[u]=g,g+=(T[s]||0)+p,x(T)}}else if(y==="spaceEvenly"){const p=(m-S)/(t+1);let g=p;for(let A=0;A<r.length;A++){const T=r[A];T[u]=g,g+=(T[s]||0)+p,x(T)}}return!1}const Dt=new Set;let wr=!0;function Bn(n){const r=[];for(const[e,t]of Object.entries(n))r.push({type:e,props:t});return tn("DynamicShader",{effects:r})}function ut(n=""){return{set(r){Ys(r)&&(r={width:r,color:255}),this.effects=this.effects?{...this.effects||{},["border".concat(n)]:r}:{["border".concat(n)]:r}},get(){var r;return(r=this.effects)==null?void 0:r["border".concat(n)]}}}const Qs=["alpha","color","colorTop","colorRight","colorLeft","colorBottom","colorTl","colorTr","colorBl","colorBr","height","fontSize","lineHeight","mount","mountX","mountY","pivot","pivotX","pivotY","rotation","scale","width","worldX","worldY","x","y","zIndex","zIndexLocked"],Xs=["absX","absY","autosize","clipping","contain","fontFamily","fontStretch","fontStyle","fontWeight","letterSpacing","maxLines","offsetY","overflowSuffix","rtt","scrollable","scrollY","src","text","textAlign","textBaseline","textOverflow","texture","verticalAlign","wordWrap"];class ye extends Object{constructor(r){super(),this.type=r==="text"?Ke.TextNode:Ke.Element,this.rendered=!1,this.lng={},this.children=new Ds(this)}get effects(){return this._effects}set effects(r){this._effects=r,this.rendered&&(this.shader=Bn(r))}get parent(){return this._parent}set parent(r){var e;this._parent=r,this.rendered&&(this.lng.parent=(e=r==null?void 0:r.lng)!=null?e:null)}set shader(r){Ct(r)&&(r=tn(...r)),this.lng.shader=r}_sendToLightningAnimatable(r,e){if(this.transition&&this.rendered&&oe.animationsEnabled&&(this.transition===!0||this.transition[r])){const t=this.transition===!0||this.transition[r]===!0?void 0:this.transition[r];return this.animate({[r]:e},t).start()}this.lng[r]=e}animate(r,e){return L(this.rendered,"Node must be rendered before animating"),this.lng.animate(r,e||this.animationSettings)}chain(r,e){return this._animationRunning&&(this._animationQueue=[],this._animationRunning=!1),e?this._animationQueueSettings=e:this._animationQueueSettings||(this._animationQueueSettings=e||this.animationSettings),e=e||this._animationQueueSettings,this._animationQueue=this._animationQueue||[],this._animationQueue.push({props:r,animationSettings:e}),this}async start(){let r=this._animationQueue.shift();for(;r;)this._animationRunning=!0,await this.animate(r.props,r.animationSettings).start().waitUntilStopped(),r=this._animationQueue.shift();this._animationRunning=!1,this._animationQueueSettings=void 0}setFocus(){if(this.rendered){if(this.forwardFocus!==void 0)if(De(this.forwardFocus)){if(this.forwardFocus.call(this,this)!==!1)return}else{const r=typeof this.forwardFocus=="number"?this.forwardFocus:null;if(r!==null&&r<this.children.length){const e=this.children[r];e instanceof ye&&e.setFocus();return}}queueMicrotask(()=>oe.setActiveElement(this))}else this.autofocus=!0}isTextNode(){return this.type===Ke.TextNode}_layoutOnLoad(){this.lng.on("loaded",(r,e)=>{const{dimensions:t}=e;this.parent.updateLayout(this,t)})}getText(){let r="";for(let e=0;e<this.children.length;e++)r+=this.children[e].text;return r}destroy(){this._queueDelete&&this.lng.destroy()}set onEvents(r){this._events=r}get onEvents(){return this._events}set style(r){Ct(r)?this._style=Co(r):this._style=r;for(const e in this._style)this[e]===void 0&&(this[e]=this._style[e])}get style(){return this._style}get hasChildren(){return this.children.length>0}getChildById(r){return this.children.find(e=>e.id===r)}searchChildrenById(r){for(let e=0;e<this.children.length;e++){const t=this.children[e];if(t instanceof ye){if(t.id===r)return t;const o=t.searchChildrenById(r);if(o)return o}}}set states(r){this._states=new kn(this._stateChanged.bind(this),r),this.rendered&&this._stateChanged()}get states(){return this._states=this._states||new kn(this._stateChanged.bind(this)),this._states}get animationSettings(){return this._animationSettings||oe.animationSettings}set animationSettings(r){this._animationSettings=r}requiresLayout(){return this.display==="flex"||this.onBeforeLayout}updateLayout(r,e){var t,o;if(this.hasChildren){$e("Layout: ",this);let i=!1;De(this.onBeforeLayout)&&(i=this.onBeforeLayout.call(this,this,r,e)||!1),this.display==="flex"?(Ks(this)||i)&&((t=this.parent)==null||t.updateLayout()):i&&((o=this.parent)==null||o.updateLayout()),De(this.onLayout)&&this.onLayout.call(this,this,r,e)}}_stateChanged(){if($e("State Changed: ",this,this.states),this.forwardStates){const e=this.states.slice();this.children.forEach(t=>t.states=e)}const r=this.states;if(this._undoStyles||this.style&&$s(this.style,r)){this._undoStyles=this._undoStyles||[];const e={};this._undoStyles.forEach(o=>{e[o]=this.style[o]});const t=r.reduce((o,i)=>{const s=this.style[i];return s&&(o={...o,...s}),o},{});this._undoStyles=Object.keys(t),t.transition!==void 0&&(this.transition=t.transition),Object.assign(this,e,t)}}render(){var o;const r=this,e=this.parent;if(!e){console.warn("Parent not set - no node created for: ",this);return}if(!e.rendered){console.warn("Parent not rendered yet: ",this);return}if(this.rendered){console.warn("Node already rendered: ",this);return}e.requiresLayout()&&!Dt.has(e)&&(Dt.add(e),wr&&(wr=!1,queueMicrotask(()=>{wr=!0;const i=[...Dt];Dt.clear();for(let s=i.length-1;s>=0;s--)i[s].updateLayout()}))),this._states&&this._stateChanged();const t=r.lng;if(t.x=t.x||0,t.y=t.y||0,e.rendered&&(t.parent=e.lng),r._effects&&(t.shader=Bn(r._effects)),r.isTextNode()){const i=t;if(oe.fontSettings)for(const s in oe.fontSettings)i[s]===void 0&&(i[s]=oe.fontSettings[s]);i.text=r.getText(),i.textAlign&&!i.contain&&console.warn("Text align requires contain: ",r.getText()),i.contain&&(i.width||(i.width=(e.width||0)-i.x-(i.marginRight||0)),i.contain==="both"&&!i.height&&!i.maxLines?i.height=(e.height||0)-i.y-(i.marginBottom||0):i.maxLines===1&&(i.height=i.height||i.lineHeight||i.fontSize)),$e("Rendering: ",this,t),r.lng=ke.createTextNode(t),e.requiresLayout()&&(!t.width||!t.height)&&r._layoutOnLoad()}else t.texture||(isNaN(t.width)&&(t.width=(e.width||0)-t.x),isNaN(t.height)&&(t.height=(e.height||0)-t.y),t.rtt&&!t.color&&(t.color=4294967295),!t.color&&!t.src&&(t.color=0)),$e("Rendering: ",this,t),r.lng=ke.createNode(t);if(r.rendered=!0,r.autosize&&e.requiresLayout()&&r._layoutOnLoad(),r.onFail&&r.lng.on("failed",r.onFail),r.onLoad&&r.lng.on("loaded",r.onLoad),De(this.onCreate)&&this.onCreate.call(this,r),r.onEvents&&r.onEvents.forEach(([i,s])=>{r.lng.on(i,(a,l)=>s(r,l))}),(o=r.lng)!=null&&o.div&&(r.lng.div.element=r),r.type===Ke.Element)for(let i=0;i<r.children.length;i++){const s=r.children[i];L(s,"Child is undefined"),"render"in s?s.render():s.text&&console.warn("TextNode outside of <Text>: ",s)}r.autofocus&&r.setFocus()}}for(const n of Qs)Object.defineProperty(ye.prototype,n,{get(){return this.lng[n]},set(r){this._sendToLightningAnimatable(n,r)}});for(const n of Xs)Object.defineProperty(ye.prototype,n,{get(){return this.lng[n]},set(r){this.lng[n]=r}});Object.defineProperties(ye.prototype,{borderRadius:{set(n){this.effects=this.effects?{...this.effects,radius:{radius:n}}:{radius:{radius:n}}},get(){var n,r;return(r=(n=this.effects)==null?void 0:n.radius)==null?void 0:r.radius}},border:ut(),borderLeft:ut("Left"),borderRight:ut("Right"),borderTop:ut("Top"),borderBottom:ut("Bottom")});Object.defineProperties(ye.prototype,{linearGradient:{set(n={}){this.effects=this.effects?{...this.effects,linearGradient:n}:{linearGradient:n}},get(){var n;return(n=this.effects)==null?void 0:n.linearGradient}}});const $={context:void 0,registry:void 0};function yt(n){$.context=n}const To=(n,r)=>n===r,Vt=Symbol("solid-proxy"),_o=Symbol("solid-track"),Gt={equals:To};let Ro=Do;const ve=1,qt=2,Io={owned:null,cleanups:null,context:null,owner:null},Sr={};var U=null;let Ar=null,js=null,Y=null,ie=null,Ae=null,cr=0;function Be(n,r){const e=Y,t=U,o=n.length===0,i=r===void 0?t:r,s=o?Io:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=o?n:()=>n(()=>G(()=>dr(s)));U=s,Y=null;try{return Ce(a,!0)}finally{Y=e,U=t}}function W(n,r){r=r?Object.assign({},Gt,r):Gt;const e={value:n,observers:null,observerSlots:null,comparator:r.equals||void 0},t=o=>(typeof o=="function"&&(o=o(e.value)),Po(e,o));return[Mo.bind(e),t]}function Or(n,r,e){const t=Tt(n,r,!0,ve);Ve(t)}function Se(n,r,e){const t=Tt(n,r,!1,ve);Ve(t)}function Ne(n,r,e){Ro=ta;const t=Tt(n,r,!1,ve);t.user=!0,Ae?Ae.push(t):Ve(t)}function X(n,r,e){e=e?Object.assign({},Gt,e):Gt;const t=Tt(n,r,!0,0);return t.observers=null,t.observerSlots=null,t.comparator=e.equals||void 0,Ve(t),Mo.bind(t)}function Vs(n){return n&&typeof n=="object"&&"then"in n}function ko(n,r,e){let t,o,i;arguments.length===2&&typeof r=="object"||arguments.length===1?(t=!0,o=n,i=r||{}):(t=n,o=r,i={});let s=null,a=Sr,l=null,d=!1,u="initialValue"in i,f=typeof t=="function"&&X(t);const m=new Set,[b,v]=(i.storage||W)(i.initialValue),[y,w]=W(void 0),[S,x]=W(void 0,{equals:!1}),[p,g]=W(u?"ready":"unresolved");if($.context){l="".concat($.context.id).concat($.context.count++);let C;i.ssrLoadFrom==="initial"?a=i.initialValue:$.load&&(C=$.load(l))&&(a=C)}function A(C,E,B,N){return s===C&&(s=null,N!==void 0&&(u=!0),(C===a||E===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(N,{value:E})),a=Sr,T(E,B)),E}function T(C,E){Ce(()=>{E===void 0&&v(()=>C),g(E!==void 0?"errored":u?"ready":"unresolved"),w(E);for(const B of m.keys())B.decrement();m.clear()},!1)}function R(){const C=Zs,E=b(),B=y();if(B!==void 0&&!s)throw B;return Y&&!Y.user&&C&&Or(()=>{S(),s&&(C.resolved||m.has(C)||(C.increment(),m.add(C)))}),E}function I(C=!0){if(C!==!1&&d)return;d=!1;const E=f?f():t;if(E==null||E===!1){A(s,G(b));return}const B=a!==Sr?a:G(()=>o(E,{value:b(),refetching:C}));return Vs(B)?(s=B,"value"in B?(B.status==="success"?A(s,B.value,void 0,E):A(s,void 0,void 0,E),B):(d=!0,queueMicrotask(()=>d=!1),Ce(()=>{g(u?"refreshing":"pending"),x()},!1),B.then(N=>A(B,N,void 0,E),N=>A(B,void 0,Oo(N),E)))):(A(s,B,void 0,E),B)}return Object.defineProperties(R,{state:{get:()=>p()},error:{get:()=>y()},loading:{get(){const C=p();return C==="pending"||C==="refreshing"}},latest:{get(){if(!u)return R();const C=y();if(C&&!s)throw C;return b()}}}),f?Or(()=>I(!1)):I(!1),[R,{refetch:I,mutate:v}]}function Gs(n,r=To,e){const t=new Map,o=Tt(i=>{const s=n();for(const[a,l]of t.entries())if(r(a,s)!==r(a,i))for(const d of l.values())d.state=ve,d.pure?ie.push(d):Ae.push(d);return s},void 0,!0,ve);return Ve(o),i=>{const s=Y;if(s){let a;(a=t.get(i))?a.add(s):t.set(i,a=new Set([s])),pe(()=>{a.delete(s),!a.size&&t.delete(i)})}return r(i,o.value)}}function Bo(n){return Ce(n,!1)}function G(n){if(Y===null)return n();const r=Y;Y=null;try{return n()}finally{Y=r}}function at(n,r,e){const t=Array.isArray(n);let o,i=e&&e.defer;return s=>{let a;if(t){a=Array(n.length);for(let d=0;d<n.length;d++)a[d]=n[d]()}else a=n();if(i)return i=!1,s;const l=G(()=>r(a,o,s));return o=a,l}}function Xd(n){Ne(()=>G(n))}function pe(n){return U===null||(U.cleanups===null?U.cleanups=[n]:U.cleanups.push(n)),n}function No(){return Y}function je(){return U}function Eo(n,r){const e=U,t=Y;U=n,Y=null;try{return Ce(r,!0)}catch(o){nn(o)}finally{U=e,Y=t}}function qs(n){const r=Y,e=U;return Promise.resolve().then(()=>{Y=r,U=e;let t;return Ce(n,!1),Y=U=null,t?t.done:void 0})}function Lo(n,r){const e=Symbol("context");return{id:e,Provider:ra(e),defaultValue:n}}function Fo(n){return U&&U.context&&U.context[n.id]!==void 0?U.context[n.id]:n.defaultValue}function rn(n){const r=X(n),e=X(()=>Ur(r()));return e.toArray=()=>{const t=e();return Array.isArray(t)?t:t!=null?[t]:[]},e}let Zs;function Mo(){if(this.sources&&this.state)if(this.state===ve)Ve(this);else{const n=ie;ie=null,Ce(()=>Jt(this),!1),ie=n}if(Y){const n=this.observers?this.observers.length:0;Y.sources?(Y.sources.push(this),Y.sourceSlots.push(n)):(Y.sources=[this],Y.sourceSlots=[n]),this.observers?(this.observers.push(Y),this.observerSlots.push(Y.sources.length-1)):(this.observers=[Y],this.observerSlots=[Y.sources.length-1])}return this.value}function Po(n,r,e){let t=n.value;return(!n.comparator||!n.comparator(t,r))&&(n.value=r,n.observers&&n.observers.length&&Ce(()=>{for(let o=0;o<n.observers.length;o+=1){const i=n.observers[o],s=Ar&&Ar.running;s&&Ar.disposed.has(i),(s?!i.tState:!i.state)&&(i.pure?ie.push(i):Ae.push(i),i.observers&&zo(i)),s||(i.state=ve)}if(ie.length>1e6)throw ie=[],new Error},!1)),r}function Ve(n){if(!n.fn)return;dr(n);const r=cr;Js(n,n.value,r)}function Js(n,r,e){let t;const o=U,i=Y;Y=U=n;try{t=n.fn(r)}catch(s){return n.pure&&(n.state=ve,n.owned&&n.owned.forEach(dr),n.owned=null),n.updatedAt=e+1,nn(s)}finally{Y=i,U=o}(!n.updatedAt||n.updatedAt<=e)&&(n.updatedAt!=null&&"observers"in n?Po(n,t):n.value=t,n.updatedAt=e)}function Tt(n,r,e,t=ve,o){const i={fn:n,state:t,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:U,context:U?U.context:null,pure:e};return U===null||U!==Io&&(U.owned?U.owned.push(i):U.owned=[i]),i}function Zt(n){if(n.state===0)return;if(n.state===qt)return Jt(n);if(n.suspense&&G(n.suspense.inFallback))return n.suspense.effects.push(n);const r=[n];for(;(n=n.owner)&&(!n.updatedAt||n.updatedAt<cr);)n.state&&r.push(n);for(let e=r.length-1;e>=0;e--)if(n=r[e],n.state===ve)Ve(n);else if(n.state===qt){const t=ie;ie=null,Ce(()=>Jt(n,r[0]),!1),ie=t}}function Ce(n,r){if(ie)return n();let e=!1;r||(ie=[]),Ae?e=!0:Ae=[],cr++;try{const t=n();return ea(e),t}catch(t){e||(Ae=null),ie=null,nn(t)}}function ea(n){if(ie&&(Do(ie),ie=null),n)return;const r=Ae;Ae=null,r.length&&Ce(()=>Ro(r),!1)}function Do(n){for(let r=0;r<n.length;r++)Zt(n[r])}function ta(n){let r,e=0;for(r=0;r<n.length;r++){const t=n[r];t.user?n[e++]=t:Zt(t)}if($.context){if($.count){$.effects||($.effects=[]),$.effects.push(...n.slice(0,e));return}else $.effects&&(n=[...$.effects,...n],e+=$.effects.length,delete $.effects);yt()}for(r=0;r<e;r++)Zt(n[r])}function Jt(n,r){n.state=0;for(let e=0;e<n.sources.length;e+=1){const t=n.sources[e];if(t.sources){const o=t.state;o===ve?t!==r&&(!t.updatedAt||t.updatedAt<cr)&&Zt(t):o===qt&&Jt(t,r)}}}function zo(n){for(let r=0;r<n.observers.length;r+=1){const e=n.observers[r];e.state||(e.state=qt,e.pure?ie.push(e):Ae.push(e),e.observers&&zo(e))}}function dr(n){let r;if(n.sources)for(;n.sources.length;){const e=n.sources.pop(),t=n.sourceSlots.pop(),o=e.observers;if(o&&o.length){const i=o.pop(),s=e.observerSlots.pop();t<o.length&&(i.sourceSlots[s]=t,o[t]=i,e.observerSlots[t]=s)}}if(n.owned){for(r=n.owned.length-1;r>=0;r--)dr(n.owned[r]);n.owned=null}if(n.cleanups){for(r=n.cleanups.length-1;r>=0;r--)n.cleanups[r]();n.cleanups=null}n.state=0}function Oo(n){return n instanceof Error?n:new Error(typeof n=="string"?n:"Unknown error",{cause:n})}function nn(n,r=U){throw Oo(n)}function Ur(n){if(typeof n=="function"&&!n.length)return Ur(n());if(Array.isArray(n)){const r=[];for(let e=0;e<n.length;e++){const t=Ur(n[e]);Array.isArray(t)?r.push.apply(r,t):r.push(t)}return r}return n}function ra(n,r){return function(t){let o;return Se(()=>o=G(()=>(U.context={...U.context,[n]:t.value},rn(()=>t.children))),void 0),o}}const Wr=Symbol("fallback");function er(n){for(let r=0;r<n.length;r++)n[r]()}function na(n,r,e={}){let t=[],o=[],i=[],s=0,a=r.length>1?[]:null;return pe(()=>er(i)),()=>{let l=n()||[],d,u;return l[_o],G(()=>{let m=l.length,b,v,y,w,S,x,p,g,A;if(m===0)s!==0&&(er(i),i=[],t=[],o=[],s=0,a&&(a=[])),e.fallback&&(t=[Wr],o[0]=Be(T=>(i[0]=T,e.fallback())),s=1);else if(s===0){for(o=new Array(m),u=0;u<m;u++)t[u]=l[u],o[u]=Be(f);s=m}else{for(y=new Array(m),w=new Array(m),a&&(S=new Array(m)),x=0,p=Math.min(s,m);x<p&&t[x]===l[x];x++);for(p=s-1,g=m-1;p>=x&&g>=x&&t[p]===l[g];p--,g--)y[g]=o[p],w[g]=i[p],a&&(S[g]=a[p]);for(b=new Map,v=new Array(g+1),u=g;u>=x;u--)A=l[u],d=b.get(A),v[u]=d===void 0?-1:d,b.set(A,u);for(d=x;d<=p;d++)A=t[d],u=b.get(A),u!==void 0&&u!==-1?(y[u]=o[d],w[u]=i[d],a&&(S[u]=a[d]),u=v[u],b.set(A,u)):i[d]();for(u=x;u<m;u++)u in y?(o[u]=y[u],i[u]=w[u],a&&(a[u]=S[u],a[u](u))):o[u]=Be(f);o=o.slice(0,s=m),t=l.slice(0)}return o});function f(m){if(i[u]=m,a){const[b,v]=W(u);return a[u]=v,r(l[u],b)}return r(l[u])}}}function oa(n,r,e={}){let t=[],o=[],i=[],s=[],a=0,l;return pe(()=>er(i)),()=>{const d=n()||[];return d[_o],G(()=>{if(d.length===0)return a!==0&&(er(i),i=[],t=[],o=[],a=0,s=[]),e.fallback&&(t=[Wr],o[0]=Be(f=>(i[0]=f,e.fallback())),a=1),o;for(t[0]===Wr&&(i[0](),i=[],t=[],o=[],a=0),l=0;l<d.length;l++)l<t.length&&t[l]!==d[l]?s[l](()=>d[l]):l>=t.length&&(o[l]=Be(u));for(;l<t.length;l++)i[l]();return a=s.length=i.length=d.length,t=d.slice(0),o=o.slice(0,a)});function u(f){i[l]=f;const[m,b]=W(d[l]);return s[l]=b,r(m,l)}}}function Uo(n,r){return G(()=>n(r||{}))}function zt(){return!0}const Yr={get(n,r,e){return r===Vt?e:n.get(r)},has(n,r){return r===Vt?!0:n.has(r)},set:zt,deleteProperty:zt,getOwnPropertyDescriptor(n,r){return{configurable:!0,enumerable:!0,get(){return n.get(r)},set:zt,deleteProperty:zt}},ownKeys(n){return n.keys()}};function Cr(n){return(n=typeof n=="function"?n():n)?n:{}}function ia(){for(let n=0,r=this.length;n<r;++n){const e=this[n]();if(e!==void 0)return e}}function on(...n){let r=!1;for(let s=0;s<n.length;s++){const a=n[s];r=r||!!a&&Vt in a,n[s]=typeof a=="function"?(r=!0,X(a)):a}if(r)return new Proxy({get(s){for(let a=n.length-1;a>=0;a--){const l=Cr(n[a])[s];if(l!==void 0)return l}},has(s){for(let a=n.length-1;a>=0;a--)if(s in Cr(n[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<n.length;a++)s.push(...Object.keys(Cr(n[a])));return[...new Set(s)]}},Yr);const e={},t=Object.create(null);for(let s=n.length-1;s>=0;s--){const a=n[s];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let d=l.length-1;d>=0;d--){const u=l[d];if(u==="__proto__"||u==="constructor")continue;const f=Object.getOwnPropertyDescriptor(a,u);if(!t[u])t[u]=f.get?{enumerable:!0,configurable:!0,get:ia.bind(e[u]=[f.get.bind(a)])}:f.value!==void 0?f:void 0;else{const m=e[u];m&&(f.get?m.push(f.get.bind(a)):f.value!==void 0&&m.push(()=>f.value))}}}const o={},i=Object.keys(t);for(let s=i.length-1;s>=0;s--){const a=i[s],l=t[a];l&&l.get?Object.defineProperty(o,a,l):o[a]=l?l.value:void 0}return o}function sa(n,...r){if(Vt in n){const o=new Set(r.length>1?r.flat():r[0]),i=r.map(s=>new Proxy({get(a){return s.includes(a)?n[a]:void 0},has(a){return s.includes(a)&&a in n},keys(){return s.filter(a=>a in n)}},Yr));return i.push(new Proxy({get(s){return o.has(s)?void 0:n[s]},has(s){return o.has(s)?!1:s in n},keys(){return Object.keys(n).filter(s=>!o.has(s))}},Yr)),i}const e={},t=r.map(()=>({}));for(const o of Object.getOwnPropertyNames(n)){const i=Object.getOwnPropertyDescriptor(n,o),s=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let a=!1,l=0;for(const d of r)d.includes(o)&&(a=!0,s?t[l][o]=i.value:Object.defineProperty(t[l],o,i)),++l;a||(s?e[o]=i.value:Object.defineProperty(e,o,i))}return[...t,e]}function ce(n){let r,e;const t=o=>{const i=$.context;if(i){const[a,l]=W();$.count||($.count=0),$.count++,(e||(e=n())).then(d=>{yt(i),$.count--,l(()=>d.default),yt()}),r=a}else if(!r){const[a]=ko(()=>(e||(e=n())).then(l=>l.default));r=a}let s;return X(()=>(s=r())&&G(()=>{if(!i)return s(o);const a=$.context;yt(i);const l=s(o);return yt(a),l}))};return t.preload=()=>e||((e=n()).then(o=>r=()=>o.default),e),t}const aa=n=>"Stale read from <".concat(n,">.");function sn(n){const r="fallback"in n&&{fallback:()=>n.fallback};return X(na(()=>n.each,n.children,r||void 0))}function jd(n){const r="fallback"in n&&{fallback:()=>n.fallback};return X(oa(()=>n.each,n.children,r||void 0))}function ur(n){const r=n.keyed,e=X(()=>n.when,void 0,{equals:(t,o)=>r?t===o:!t==!o});return X(()=>{const t=e();if(t){const o=n.children;return typeof o=="function"&&o.length>0?G(()=>o(r?t:()=>{if(!G(e))throw aa("Show");return n.when})):o}return n.fallback},void 0,void 0)}const la=void 0,[hr,Wo]=W(void 0);oe.setActiveElement=Wo;function Z(n=""){return Hs(n)?n:typeof n=="string"?n.startsWith("#")?+(n.replace("#","0x")+(n.length===7?"ff":"")):n.startsWith("0x")?Number(n):+("0x"+(n.length===6?n+"ff":n)):0}function ca({createElement:n,createTextNode:r,isTextNode:e,replaceText:t,insertNode:o,removeNode:i,setProperty:s,getParentNode:a,getFirstChild:l,getNextSibling:d}){function u(x,p,g,A){if(g!==void 0&&!A&&(A=[]),typeof p!="function")return f(x,p,A,g);Se(T=>f(x,p(),T,g),A)}function f(x,p,g,A,T){for(;typeof g=="function";)g=g();if(p===g)return g;const R=typeof p,I=A!==void 0;if(R==="string"||R==="number")if(R==="number"&&(p=p.toString()),I){let C=g[0];C&&e(C)?t(C,p):C=r(p),g=v(x,g,A,C)}else g!==""&&typeof g=="string"?t(l(x),g=p):(v(x,g,A,r(p)),g=p);else if(p==null||R==="boolean")g=v(x,g,A);else{if(R==="function")return Se(()=>{let C=p();for(;typeof C=="function";)C=C();g=f(x,C,g,A)}),()=>g;if(Array.isArray(p)){const C=[];if(m(C,p,T))return Se(()=>g=f(x,C,g,A,!0)),()=>g;if(C.length===0){const E=v(x,g,A);if(I)return g=E}else Array.isArray(g)?g.length===0?y(x,C,A):b(x,g,C):g==null||g===""?y(x,C):b(x,I&&g||[l(x)],C);g=C}else{if(Array.isArray(g)){if(I)return g=v(x,g,A,p);v(x,g,null,p)}else g==null||g===""||!l(x)?o(x,p):w(x,p,l(x));g=p}}return g}function m(x,p,g){let A=!1;for(let T=0,R=p.length;T<R;T++){let I=p[T],C;if(!(I==null||I===!0||I===!1))if(Array.isArray(I))A=m(x,I)||A;else if((C=typeof I)=="string"||C==="number")x.push(r(I));else if(C==="function")if(g){for(;typeof I=="function";)I=I();A=m(x,Array.isArray(I)?I:[I])||A}else x.push(I),A=!0;else x.push(I)}return A}function b(x,p,g){let A=g.length,T=p.length,R=A,I=0,C=0,E=d(p[T-1]),B=null;for(;I<T||C<R;){if(p[I]===g[C]){I++,C++;continue}for(;p[T-1]===g[R-1];)T--,R--;if(T===I){const N=R<A?C?d(g[C-1]):g[R-C]:E;for(;C<R;)o(x,g[C++],N)}else if(R===C)for(;I<T;)(!B||!B.has(p[I]))&&i(x,p[I]),I++;else if(p[I]===g[R-1]&&g[C]===p[T-1]){const N=d(p[--T]);o(x,g[C++],d(p[I++])),o(x,g[--R],N),p[T]=g[R]}else{if(!B){B=new Map;let M=C;for(;M<R;)B.set(g[M],M++)}const N=B.get(p[I]);if(N!=null)if(C<N&&N<R){let M=I,P=1,F;for(;++M<T&&M<R&&!((F=B.get(p[M]))==null||F!==N+P);)P++;if(P>N-C){const D=p[I];for(;C<N;)o(x,g[C++],D)}else w(x,g[C++],p[I++])}else I++;else i(x,p[I++])}}}function v(x,p,g,A){if(g===void 0){let R;for(;R=l(x);)i(x,R);return A&&o(x,A),""}const T=A||r("");if(p.length){let R=!1;for(let I=p.length-1;I>=0;I--){const C=p[I];if(T!==C){const E=a(C)===x;!R&&!I?E?w(x,T,C):o(x,T,g):E&&i(x,C)}else R=!0}}else o(x,T,g);return[T]}function y(x,p,g){for(let A=0,T=p.length;A<T;A++)o(x,p[A],g)}function w(x,p,g){o(x,p,g),i(x,g)}function S(x,p,g={},A){return p||(p={}),A||Se(()=>g.children=f(x,p.children,g.children)),Se(()=>p.ref&&p.ref(x)),Se(()=>{for(const T in p){if(T==="children"||T==="ref")continue;const R=p[T];R!==g[T]&&(s(x,T,R,g[T]),g[T]=R)}}),g}return{render(x,p){let g;return Be(A=>{g=A,u(p,x())}),g},insert:u,spread(x,p,g){typeof p=="function"?Se(A=>S(x,p(),A,g)):S(x,p,void 0,g)},createElement:n,createTextNode:r,insertNode:o,setProp(x,p,g,A){return s(x,p,g,A),g},mergeProps:on,effect:Se,memo:X,createComponent:Uo,use(x,p,g){return G(()=>x(p,g))}}}function da(n){const r=ca(n);return r.mergeProps=on,r}const Yo={createElement(n){return new ye(n)},createTextNode(n){return{type:Ke.Text,text:n,parent:void 0}},replaceText(n,r){$e("Replace Text: ",n,r),n.text=r;const e=n.parent;L(e),e.text=e.getText()},setProperty(n,r,e=!0){n[r]=e},insertNode(n,r,e){$e("INSERT: ",n,r,e),n.children.insert(r,e),r._queueDelete=!1,r instanceof ye?n.rendered&&r.render():n.isTextNode()&&(n.text=n.getText())},isTextNode(n){return n.isTextNode()},removeNode(n,r){$e("REMOVE: ",n,r),n.children.remove(r),r._queueDelete=!0,r instanceof ye&&queueMicrotask(()=>r.destroy())},getParentNode(n){return n.parent},getFirstChild(n){return n.children[0]},getNextSibling(n){const r=n.parent.children||[],e=r.indexOf(n)+1;if(e<r.length)return r[e]}},Ho=da(Yo);let tr;const vt=Yo.createElement("App");async function ua(n,r){return tr=Ps(oe.rendererOptions,"app"),await tr.init()}const ha=async function(n,r){return await ua(),vt.lng=tr.root,vt.rendered=!0,{dispose:Ho.render(n,vt),rootNode:vt,renderer:tr}},{effect:Vd,memo:an,createComponent:_,createElement:fr,createTextNode:Gd,insertNode:qd,insert:fa,spread:ln,setProp:ga,mergeProps:de,use:pa}=Ho,H=n=>{const r=fr("node");return ln(r,n,!1),r},Q=n=>{const r=fr("text");return ln(r,n,!1),r},Nn="_$DX_DELEGATE";function ma(n,r=window.document){const e=r[Nn]||(r[Nn]=new Set);for(let t=0,o=n.length;t<o;t++){const i=n[t];e.has(i)||(e.add(i),r.addEventListener(i,xa))}}function xa(n){const r="$$".concat(n.type);let e=n.composedPath&&n.composedPath()[0]||n.target;for(n.target!==e&&Object.defineProperty(n,"target",{configurable:!0,value:e}),Object.defineProperty(n,"currentTarget",{configurable:!0,get(){return e||document}}),$.registry&&!$.done&&($.done=_$HY.done=!0);e;){const t=e[r];if(t&&!e.disabled){const o=e["".concat(r,"Data")];if(o!==void 0?t.call(e,o,n):t.call(e,n),n.cancelBubble)return}e=e._$host||e.parentNode||e.host}}const ya=!1;function $o(){let n=new Set;function r(o){return n.add(o),()=>n.delete(o)}let e=!1;function t(o,i){if(e)return!(e=!1);const s={to:o,options:i,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const a of n)a.listener({...s,from:a.location,retry:l=>{l&&(e=!0),a.navigate(o,{...i,resolve:!1})}});return!s.defaultPrevented}return{subscribe:r,confirm:t}}let Hr;function cn(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Hr=window.history.state._depth}cn();function va(n){return{...n,_depth:window.history.state&&window.history.state._depth}}function ba(n,r){let e=!1;return()=>{const t=Hr;cn();const o=t==null?null:Hr-t;if(e){e=!1;return}o&&r(o)?(e=!0,window.history.go(-o)):n()}}const wa=/^(?:[a-z0-9]+:)?\/\//i,Sa=/^\/+|(\/)\/+$/g,Ko="http://sr";function bt(n,r=!1){const e=n.replace(Sa,"$1");return e?r||/^[?#]/.test(e)?e:"/"+e:""}function Xt(n,r,e){if(wa.test(r))return;const t=bt(n),o=e&&bt(e);let i="";return!o||r.startsWith("/")?i=t:o.toLowerCase().indexOf(t.toLowerCase())!==0?i=t+o:i=o,(i||"/")+bt(r,!i)}function Aa(n,r){if(n==null)throw new Error(r);return n}function Ca(n,r){return bt(n).replace(/\/*(\*.*)?$/g,"")+bt(r)}function Qo(n){const r={};return n.searchParams.forEach((e,t)=>{r[t]=e}),r}function Xo(n,r,e){const[t,o]=n.split("/*",2),i=t.split("/").filter(Boolean),s=i.length;return a=>{const l=a.split("/").filter(Boolean),d=l.length-s;if(d<0||d>0&&o===void 0&&!r)return null;const u={path:s?"":"/",params:{}},f=m=>e===void 0?void 0:e[m];for(let m=0;m<s;m++){const b=i[m],v=l[m],y=b[0]===":",w=y?b.slice(1):b;if(y&&Tr(v,f(w)))u.params[w]=v;else if(y||!Tr(v,b))return null;u.path+="/".concat(v)}if(o){const m=d?l.slice(-d).join("/"):"";if(Tr(m,f(o)))u.params[o]=m;else return null}return u}}function Tr(n,r){const e=t=>t.localeCompare(n,void 0,{sensitivity:"base"})===0;return r===void 0?!0:typeof r=="string"?e(r):typeof r=="function"?r(n):Array.isArray(r)?r.some(e):r instanceof RegExp?r.test(n):!1}function Ta(n){const[r,e]=n.pattern.split("/*",2),t=r.split("/").filter(Boolean);return t.reduce((o,i)=>o+(i.startsWith(":")?2:3),t.length-(e===void 0?0:1))}function jo(n){const r=new Map,e=je();return new Proxy({},{get(t,o){return r.has(o)||Eo(e,()=>r.set(o,X(()=>n()[o]))),r.get(o)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(n())}})}function dn(n){let r=/(\/?\:[^\/]+)\?/.exec(n);if(!r)return[n];let e=n.slice(0,r.index),t=n.slice(r.index+r[0].length);const o=[e,e+=r[1]];for(;r=/^(\/\:[^\/]+)\?/.exec(t);)o.push(e+=r[1]),t=t.slice(r[0].length);return dn(t).reduce((i,s)=>[...i,...o.map(a=>a+s)],[])}const _a=100,Vo=Lo(),Go=Lo(),un=()=>Aa(Fo(Vo),"<A> and 'use' router primitives can be only used inside a Route."),hn=()=>un().navigatorFactory(),qo=()=>un().location,Ra=(n,r)=>{const e=qo(),t=X(()=>dn(n()).map(o=>Xo(o,void 0,r)));return X(()=>{for(const o of t()){const i=o(e.pathname);if(i)return i}})},Ia=()=>un().params;function ka(n,r=""){const{component:e,load:t,children:o,info:i}=n,s=!o||Array.isArray(o)&&!o.length,a={key:n,component:e,load:t,info:i};return Zo(n.path).reduce((l,d)=>{for(const u of dn(d)){const f=Ca(r,u);let m=s?f:f.split("/*",1)[0];m=m.split("/").map(b=>b.startsWith(":")||b.startsWith("*")?b:encodeURIComponent(b)).join("/"),l.push({...a,originalPath:d,pattern:m,matcher:Xo(m,!s,n.matchFilters)})}return l},[])}function Ba(n,r=0){return{routes:n,score:Ta(n[n.length-1])*1e4-r,matcher(e){const t=[];for(let o=n.length-1;o>=0;o--){const i=n[o],s=i.matcher(e);if(!s)return null;t.unshift({...s,route:i})}return t}}}function Zo(n){return Array.isArray(n)?n:[n]}function Jo(n,r="",e=[],t=[]){const o=Zo(n);for(let i=0,s=o.length;i<s;i++){const a=o[i];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=ka(a,r);for(const d of l){e.push(d);const u=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!u)Jo(a.children,d.pattern,e,t);else{const f=Ba([...e],t.length);t.push(f)}e.pop()}}}return e.length?t:t.sort((i,s)=>s.score-i.score)}function _r(n,r){for(let e=0,t=n.length;e<t;e++){const o=n[e].matcher(r);if(o)return o}return[]}function Na(n,r){const e=new URL(Ko),t=X(l=>{const d=n();try{return new URL(d,e)}catch(u){return console.error("Invalid path ".concat(d)),l}},e,{equals:(l,d)=>l.href===d.href}),o=X(()=>t().pathname),i=X(()=>t().search,!0),s=X(()=>t().hash),a=()=>"";return{get pathname(){return o()},get search(){return i()},get hash(){return s()},get state(){return r()},get key(){return a()},query:jo(at(i,()=>Qo(t())))}}let Re;function Ea(){return Re}function La(n,r,e,t={}){const{signal:[o,i],utils:s={}}=n,a=s.parsePath||(N=>N),l=s.renderPath||(N=>N),d=s.beforeLeave||$o(),u=Xt("",t.base||"");if(u===void 0)throw new Error("".concat(u," is not a valid base path"));u&&!o().value&&i({value:u,replace:!0,scroll:!1});const[f,m]=W(!1),b=async N=>{m(!0);try{await qs(N)}finally{m(!1)}},[v,y]=W(o().value),[w,S]=W(o().state),x=Na(v,w),p=[],g=W([]),A=X(()=>typeof t.transformUrl=="function"?_r(r(),t.transformUrl(x.pathname)):_r(r(),x.pathname)),T=jo(()=>{const N=A(),M={};for(let P=0;P<N.length;P++)Object.assign(M,N[P].params);return M}),R={pattern:u,path:()=>u,outlet:()=>null,resolvePath(N){return Xt(u,N)}};return Se(()=>{const{value:N,state:M}=o();G(()=>{b(()=>{Re="native",N!==v()&&y(N),S(M),g[1]([])}).then(()=>{Re=void 0})})}),{base:R,location:x,params:T,isRouting:f,renderPath:l,parsePath:a,navigatorFactory:C,matches:A,beforeLeave:d,preloadRoute:B,singleFlight:t.singleFlight===void 0?!0:t.singleFlight,submissions:g};function I(N,M,P){G(()=>{if(typeof M=="number"){M&&(s.go?s.go(M):console.warn("Router integration does not support relative routing"));return}const{replace:F,resolve:D,scroll:O,state:q}={replace:!1,resolve:!0,scroll:!0,...P},K=D?N.resolvePath(M):Xt("",M);if(K===void 0)throw new Error("Path '".concat(M,"' is not a routable path"));if(p.length>=_a)throw new Error("Too many redirects");const re=v();if((K!==re||q!==w())&&!ya){if(d.confirm(K,P)){const ue=p.push({value:re,replace:F,scroll:O,state:w()});b(()=>{Re="navigate",y(K),S(q),g[1]([])}).then(()=>{p.length===ue&&(Re=void 0,E({value:K,state:q}))})}}})}function C(N){return N=N||Fo(Go)||R,(M,P)=>I(N,M,P)}function E(N){const M=p[0];M&&((N.value!==M.value||N.state!==M.state)&&i({...N,replace:M.replace,scroll:M.scroll}),p.length=0)}function B(N,M){const P=_r(r(),N.pathname),F=Re;Re="preload";for(let D in P){const{route:O,params:q}=P[D];O.component&&O.component.preload&&O.component.preload();const{load:K}=O;M&&K&&Eo(e(),()=>K({params:q,location:{pathname:N.pathname,search:N.search,hash:N.hash,query:Qo(N),state:null,key:""},intent:"preload"}))}Re=F}}function Fa(n,r,e,t){const{base:o,location:i,params:s}=n,{pattern:a,component:l,load:d}=t().route,u=X(()=>t().path);l&&l.preload&&l.preload();const f=d?d({params:s,location:i,intent:Re||"initial"}):void 0;return{parent:r,pattern:a,path:u,outlet:()=>l?Uo(l,{params:s,location:i,data:f,get children(){return e()}}):e(),resolvePath(b){return Xt(o.path(),b,u())}}}const Ma=n=>r=>{const{base:e}=r,t=rn(()=>r.children),o=X(()=>Jo(t(),r.base||""));let i;const s=La(n,o,()=>i,{base:e,singleFlight:r.singleFlight,transformUrl:r.transformUrl});return n.create&&n.create(s),_(Vo.Provider,{value:s,get children(){return _(Pa,{routerState:s,get root(){return r.root},get load(){return r.rootLoad},get children(){return[an(()=>(i=je())&&null),_(Da,{routerState:s,get branches(){return o()}})]}})}})};function Pa(n){const r=n.routerState.location,e=n.routerState.params,t=X(()=>n.load&&G(()=>{n.load({params:e,location:r,intent:Ea()||"initial"})}));return _(ur,{get when(){return n.root},keyed:!0,get fallback(){return n.children},children:o=>_(o,{params:e,location:r,get data(){return t()},get children(){return n.children}})})}function Da(n){const r=[];let e;const t=X(at(n.routerState.matches,(o,i,s)=>{let a=i&&o.length===i.length;const l=[];for(let d=0,u=o.length;d<u;d++){const f=i&&i[d],m=o[d];s&&f&&m.route.key===f.route.key?l[d]=s[d]:(a=!1,r[d]&&r[d](),Be(b=>{r[d]=b,l[d]=Fa(n.routerState,l[d-1]||n.routerState.base,En(()=>t()[d+1]),()=>n.routerState.matches()[d])}))}return r.splice(o.length).forEach(d=>d()),s&&a?s:(e=l[0],l)}));return En(()=>t()&&e)()}const En=n=>()=>_(ur,{get when(){return n()},keyed:!0,children:r=>_(Go.Provider,{value:r,get children(){return r.outlet()}})}),ne=n=>{const r=rn(()=>n.children);return on(n,{get children(){return r()}})};function za([n,r],e,t){return[n,t?o=>r(t(o)):r]}function Oa(n){if(n==="#")return null;try{return document.querySelector(n)}catch(r){return null}}function Ua(n){let r=!1;const e=o=>typeof o=="string"?{value:o}:o,t=za(W(e(n.get()),{equals:(o,i)=>o.value===i.value&&o.state===i.state}),void 0,o=>(!r&&n.set(o),o));return n.init&&pe(n.init((o=n.get())=>{r=!0,t[1](e(o)),r=!1})),Ma({signal:t,create:n.create,utils:n.utils})}function Wa(n,r,e){return n.addEventListener(r,e),()=>n.removeEventListener(r,e)}function Ya(n,r){const e=Oa("#".concat(n));e?e.scrollIntoView():r&&window.scrollTo(0,0)}const Ha=new Map;function $a(n=!0,r=!1,e="/_server",t){return o=>{const i=o.base.path(),s=o.navigatorFactory(o.base);let a={};function l(y){return y.namespaceURI==="http://www.w3.org/2000/svg"}function d(y){if(y.defaultPrevented||y.button!==0||y.metaKey||y.altKey||y.ctrlKey||y.shiftKey)return;const w=y.composedPath().find(T=>T instanceof Node&&T.nodeName.toUpperCase()==="A");if(!w||r&&!w.hasAttribute("link"))return;const S=l(w),x=S?w.href.baseVal:w.href;if((S?w.target.baseVal:w.target)||!x&&!w.hasAttribute("state"))return;const g=(w.getAttribute("rel")||"").split(/\s+/);if(w.hasAttribute("download")||g&&g.includes("external"))return;const A=S?new URL(x,document.baseURI):new URL(x);if(!(A.origin!==window.location.origin||i&&A.pathname&&!A.pathname.toLowerCase().startsWith(i.toLowerCase())))return[w,A]}function u(y){const w=d(y);if(!w)return;const[S,x]=w,p=o.parsePath(x.pathname+x.search+x.hash),g=S.getAttribute("state");y.preventDefault(),s(p,{resolve:!1,replace:S.hasAttribute("replace"),scroll:!S.hasAttribute("noscroll"),state:g&&JSON.parse(g)})}function f(y){const w=d(y);if(!w)return;const[S,x]=w;a[x.pathname]||o.preloadRoute(x,S.getAttribute("preload")!=="false")}function m(y){const w=d(y);if(!w)return;const[S,x]=w;a[x.pathname]||(a[x.pathname]=setTimeout(()=>{o.preloadRoute(x,S.getAttribute("preload")!=="false"),delete a[x.pathname]},200))}function b(y){const w=d(y);if(!w)return;const[,S]=w;a[S.pathname]&&(clearTimeout(a[S.pathname]),delete a[S.pathname])}function v(y){if(y.defaultPrevented)return;let w=y.submitter&&y.submitter.hasAttribute("formaction")?y.submitter.getAttribute("formaction"):y.target.getAttribute("action");if(!w)return;if(!w.startsWith("https://action/")){const x=new URL(w,Ko);if(w=o.parsePath(x.pathname+x.search),!w.startsWith(e))return}if(y.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const S=Ha.get(w);if(S){y.preventDefault();const x=new FormData(y.target);y.submitter&&y.submitter.name&&x.append(y.submitter.name,y.submitter.value),S.call({r:o,f:y.target},x)}}ma(["click","submit"]),document.addEventListener("click",u),n&&(document.addEventListener("mouseover",m),document.addEventListener("mouseout",b),document.addEventListener("focusin",f),document.addEventListener("touchstart",f)),document.addEventListener("submit",v),pe(()=>{document.removeEventListener("click",u),n&&(document.removeEventListener("mouseover",m),document.removeEventListener("mouseout",b),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",v)})}}function Ka(n){const r=n.replace(/^.*?#/,"");if(!r.startsWith("/")){const[,e="/"]=window.location.hash.split("#",2);return"".concat(e,"#").concat(r)}return r}function Qa(n){const r=()=>window.location.hash.slice(1),e=$o();return Ua({get:r,set({value:t,replace:o,scroll:i,state:s}){o?window.history.replaceState(va(s),"","#"+t):window.history.pushState(s,"","#"+t);const a=t.indexOf("#"),l=a>=0?t.slice(a+1):"";Ya(l,i),cn()},init:t=>Wa(window,"hashchange",ba(t,o=>!e.confirm(o&&o<0?o:r()))),create:$a(n.preload,n.explicitLinks,n.actionBase),utils:{go:t=>window.history.go(t),renderPath:t=>"#".concat(t),parsePath:Ka,beforeLeave:e}})(n)}var Xa=!!la;function ja(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Ln(n,...r){return typeof n=="function"?n(...r):n}var Va=Xa?n=>je()?pe(n):n:pe,Ga=()=>{let n=[];const r=()=>n=[];return{push:(...e)=>n.push(...e),execute(e,t,o,i){n.forEach(s=>s(e,t,o,i)),r()},clear:r}};function rr(n,r,e,t){return n.addEventListener(r,e,t),Va(n.removeEventListener.bind(n,r,e,t))}function ei(n,r){const{push:e,execute:t}=Ga();return[(o,i,s)=>{const a=rr(n,o,i,s!=null?s:r);return e(a),a},pe(t)]}function ti(n,r=je()){let e=0,t,o;return()=>(e++,pe(()=>{e--,queueMicrotask(()=>{!e&&o&&(o(),o=t=void 0)})}),o||Be(i=>t=n(o=i),r),t)}function qa(n){const r=je(),e=ti(n,r);return()=>$.context?Be(n,r):e()}var Za=ti(()=>{const[n,r]=W(null);return rr(window,"keydown",e=>{r(e),setTimeout(()=>r(null))}),n});const Ot={ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"Enter",l:"Last"," ":"Space",Backspace:"Back",Escape:"Escape"},[nr,Ja]=W([]),el=n=>{const r=Za();if(n)for(const[e,t]of Object.entries(n))Ct(t)?t.forEach(o=>{Ot[o]=e}):Ot[t]=e;return Ne(at(hr,(e,t,o=[])=>{let i=e;const s=[];for(;i;)i.states.has("focus")||(i.states.add("focus"),De(i.onFocus)&&i.onFocus.call(i,e,t)),s.push(i),i=i.parent;return o.forEach(a=>{s.includes(a)||(a.states.remove("focus"),De(a.onBlur)&&a.onBlur.call(a,e,t))}),Ja(s),s},{defer:!0})),Ne(()=>{const e=r();if(e){const t=Ot[e.key]||Ot[e.keyCode];G(()=>{const o=nr();let i;for(const s of o){if(i=i||s,t){const a=s["on".concat(t)];if(De(a)&&a.call(s,e,s,i)===!0)break}else console.log("Unhandled key event: ".concat(e.key||e.keyCode));if(De(s.onKeyPress)&&s.onKeyPress.call(s,e,t,s,i)===!0)break}return!1})}}),nr};function tl(n,r){const e=r();let t,o,i,s;Array.isArray(e)?e.length===2?(t=s=e[0],o=i=e[1]):e.length===3?(t=e[0],o=i=e[1],s=e[2]):[t,i,s,o]=e:t=i=s=o=e,n.onBeforeLayout=(a,l)=>{if(l){n.width=n.children.reduce((f,m)=>f+(m.width||0),0)+o+i;const d=n.children[0];d&&(d.x=o,d.marginLeft=o);let u=0;return n.children.forEach(f=>{const m=f;m.y=t,m.marginTop=t,u=Math.max(u,m.height||0)}),n.height=u+t+s,!0}}}function rl(n=[]){const r=[];let e;for(e=0;e<n.length;e++){const t=n[e];if(typeof t=="string"&&!t.includes("PAUSE-"))r.push(n[e]);else break}return[r.join(",\b ")].concat(n.slice(e))}function Fn(n){return new Promise(r=>{setTimeout(r,n)})}function nl(n,r,e="en-US"){const t=window.speechSynthesis;return new Promise((o,i)=>{const s=new SpeechSynthesisUtterance(n);s.lang=e,s.onend=()=>{o()},s.onerror=a=>{i(a)},r.push(s),t.speak(s)})}function $r(n,r,e=!0){const t=window.speechSynthesis,o=rl(Array.isArray(n)?n:[n]),i=[],s=[];let a=!0;return{series:(async()=>{try{for(;a&&o.length;){const d=await Promise.resolve(o.shift());if(a){if(typeof d=="string"&&d.includes("PAUSE-")){let u=Number(d.split("PAUSE-")[1])*1e3;isNaN(u)&&(u=0),await Fn(u)}else if(typeof d=="string"&&d.length){let f=3;for(;a&&f>0;)try{await nl(d,s,r),f=0}catch(m){if(m instanceof SpeechSynthesisErrorEvent)if(m.error==="network")f--,console.warn("Speech synthesis network error. Retries left: ".concat(f)),await Fn(500*(3-f));else if(m.error==="canceled"||m.error==="interrupted")f=0;else throw new Error("SpeechSynthesisErrorEvent: ".concat(m.error));else throw m}}else if(typeof d=="function"){const u=$r(d(),r,!1);i.push(u),await u.series}else if(Array.isArray(d)){const u=$r(d,r,!1);i.push(u),await u.series}}else break}}finally{a=!1}})(),get active(){return a},append:d=>{o.push(d)},cancel:()=>{a&&(e&&t.cancel(),i.forEach(d=>{d.cancel()}),a=!1)}}}let Ut;function ol(n,r="en-US"){return Ut&&Ut.cancel(),Ut=$r(n,r),Ut}var Kr=(n,r)=>{let e;const t=()=>clearTimeout(e);return je()&&pe(t),Object.assign((...i)=>{e!==void 0&&t(),e=setTimeout(()=>n(...i),r)},{clear:t})},ri=(n,r)=>{let e=!1,t,o;const i=(...a)=>{o=a,!e&&(e=!0,t=setTimeout(()=>{n(...o),e=!1},r))},s=()=>{clearTimeout(t),e=!1};return je()&&pe(s),Object.assign(i,{clear:s})};function il(n){let r=0,e=!1;const[t,o]=W(void 0,{equals:!1}),i=n(()=>{e=!0,o()});return()=>(e||(i(),t()),e?(e=!!r,!0):(No()&&(r++,pe(()=>r--)),!1))}let Qr,wt=[],we,Xr=!1;const sl=3e5;function Mn(n,r){const e=Kr(n,r);let t;const o=i=>{t=i,e(i)};return o.flush=()=>{e.clear(),n(t)},o.clear=e.clear,o}function ht(n){return n.id||n.name}function al(n=[]){if(!ee.onFocusChange||!ee.enabled)return;const r=n.every(i=>!i.loading),e=n.filter(i=>!wt.includes(i));if(Qr(),!r&&ee.onFocusChange){ee.onFocusChange([]);return}wt=n.slice(0);const t=[],o=e.reduce((i,s)=>(s.announce?(i.push([ht(s),"Announce",s.announce]),t.push(s.announce)):s.title?(i.push([ht(s),"Title",s.title]),t.push(s.title)):i.push([ht(s),"No Announce",""]),i),[]);if(e.reverse().reduce((i,s)=>(s.announceContext?(i.push([ht(s),"Context",s.announceContext]),t.push(s.announceContext)):i.push([ht(s),"No Context",""]),i),o),ee.debug&&console.table(o),t.length)return ee.speak(t.reduce((i,s)=>i.concat(s),[]))}function ll(n){if(!Xr)return we=ol(n)}const ee={debug:!1,enabled:!0,cancel:function(){we&&we.cancel()},clearPrevFocus:function(n=0){wt=wt.slice(0,n),Qr()},speak:function(n,{append:r=!1,notification:e=!1}={}){return ee.onFocusChange&&ee.enabled&&(ee.onFocusChange.flush(),r&&we&&we.active?we.append(n):(ee.cancel(),ll(n)),e&&(Xr=!0,we==null||we.series.finally(()=>{Xr=!1,ee.refresh()}).catch(console.error))),we},refresh:function(n=0){ee.clearPrevFocus(n),ee.onFocusChange&&ee.onFocusChange(G(()=>nr()))},setupTimers:function({focusDebounce:n=400,focusChangeTimeout:r=sl}={}){ee.onFocusChange=Mn(al,n),Qr=Mn(()=>{wt=[]},r)}},cl=()=>(ee.setupTimers(),Ne(at(nr,ee.onFocusChange,{defer:!0})),ee);function dl(n,r){const e=ke.createTexture("ImageTexture",{src:n});return r.reduce((t,o)=>{const{x:i,y:s,width:a,height:l}=o;return t[o.name]=ke.createTexture("SubTexture",{texture:e,x:i,y:s,width:a,height:l}),t},{})}function ul(n){const r={...n},e={...n},t={},o=s=>{let a=t[s];if(!a){if(!No())return r[s];t[s]=a=W(r[s],{internal:!0}),delete r[s]}return a[0]()};for(const s in n)Object.defineProperty(e,s,{get:()=>o(s),enumerable:!0});const i=(s,a)=>{const l=t[s];if(l)return l[1](a);s in r&&(r[s]=Ln(a,[r[s]]))};return[e,(s,a)=>{if(ja(s)){const l=G(()=>Object.entries(Ln(s,e)));Bo(()=>{for(const[d,u]of l)i(d,()=>u)})}else i(s,a);return e}]}var ni={passive:!0},hl={x:0,y:0,isInside:!1,sourceType:null};function fl(n=window,r,e={}){const{touch:t=!0,followTouch:o=!0}=e,[i,s]=ei(n,ni),a=l=>r({x:l.pageX,y:l.pageY,sourceType:"mouse"});if(i("mousemove",a),i("dragover",a),t){const l=d=>{d.touches.length&&r({x:d.touches[0].clientX,y:d.touches[0].clientY,sourceType:"touch"})};i("touchstart",l),o&&i("touchmove",l)}return s}function gl(n=window,r,e={}){const{touch:t=!0}=e,[o,i]=ei(n,ni);let s=!1,a=!t;function l(d){this==="mouse"?s=d:a=d,r(s||a)}return o("mouseover",l.bind("mouse",!0)),o("mouseout",l.bind("mouse",!1)),o("mousemove",l.bind("mouse",!0),{passive:!0,once:!0}),t&&(o("touchstart",l.bind("touch",!0)),o("touchend",l.bind("touch",!1))),i}function pl(n,r={}){const e={...hl,...r.initialValue},[t,o]=ul(e),i=s=>{fl(s,o,r),gl(s,o.bind(void 0,"isInside"),r)};return typeof n!="function"?i(n):Ne(()=>i(n())),t}var ml=qa(pl.bind(void 0,void 0,void 0));function jr(n,r){return new KeyboardEvent("keydown",{key:n,keyCode:r,which:r,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0})}const xl=ri(n=>{const r=n.deltaY;r<0?document.dispatchEvent(jr("ArrowUp",38)):r>0&&document.dispatchEvent(jr("ArrowDown",40))},250),yl=n=>{var t;const r=hr(),e=((t=oe.rendererOptions)==null?void 0:t.deviceLogicalPixelRatio)||1;r&&oi(n.clientX,n.clientY,r.lng.coreNode.absX*e,r.lng.coreNode.absY*e,r.width*e,r.height*e)&&document.dispatchEvent(jr("Enter",13))};function oi(n,r,e,t,o=0,i=0){return n>=e&&n<=e+o&&r>=t&&r<=t+i}function vl(n,r,e){var s;const t=[],o=((s=oe.rendererOptions)==null?void 0:s.deviceLogicalPixelRatio)||1;let i=[n];for(;i.length>0;){const a=[];for(const u of i)u.alpha!==0&&oi(r,e,u.lng.coreNode.absX*o,u.lng.coreNode.absY*o,u.width*o,u.height*o)&&a.push(u);const l=a.length;if(l===0)break;l>1&&a.sort((u,f)=>(u.zIndex||0)-(f.zIndex||0));const d=a[0];t.push(d),d.isTextNode()||(i=d.children)}return t}function bl(n=vt){const r=ml(),e=il(t=>ri(t,100));rr(window,"wheel",xl),rr(window,"click",yl),Ne(()=>{if(e()){const t=vl(n,r.x,r.y).filter(o=>(o.focus||o.onFocus||o.onEnter)&&!o.skipFocus);if(t.length){let o=t[t.length-1];for(;o;){const s=o.parent;if(s!=null&&s.forwardStates)o=o.parent;else break}const i=o==null?void 0:o.parent;o&&(i==null?void 0:i.selected)!==void 0&&(i.selected=i.children.indexOf(o)),Wo(o)}}})}const[wl,Sl]=W(""),c={name:"Base Lightning TV",alpha:{primary:1,secondary:.7,tertiary:.1,inactive:.5,full:1,none:0,alpha1:.1,alpha2:.3,alpha3:.5,alpha4:.7,alpha5:.9,alpha6:.95},animation:{duration:{none:0,xfast:100,fast:250,normal:500,slow:750,xslow:900},delay:{none:0,xfast:10,fast:25,normal:50,slow:75,xslow:90},expressive:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},expressiveEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},expressiveExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standard:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standardEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standardExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utility:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utilityEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utilityExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25}},asset:{arrowLeft:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAAi0lEQVRIDWNgGAWjIfD//38JID5Fk5AAGqwKxPeA+D/VLQCaaQLEr0CGgwBVLQCa5wbEn0EGwwDVLAAaGA3Ev2AGw2iqWAA0rBiI/8EMRaYptgBoWDeygehsci1gIlcjWfqArqZdEMFcBLSEdpGMZAntkimSJbTLaEiW0K6oQLKEdoUdzJJRemiHAAD4n+yzPWCs7QAAAABJRU5ErkJggg==",arrowRight:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAAg0lEQVRIDWNgGAWjIYArBP7//38KiCVwyVMsDjQcBO4BsSrFhmEzAGw8hHgFpEywqaFIDMkCEPMzELtRZCC6ZjQLQNxfQByNro5sPhYLQEL/gLiYbEORNeKwACbcDVPLBGMMOhrmVDSapkFE00imaTKlaUajaVFB28Ju0CXrUQfhDAEAEgHss6NhpLQAAAAASUVORK5CYII=",backspaceOutline:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAACmpJREFUeF7tnVmoZUcVhv/feY4gBEVEH/KgCCZxCK2itNo4xQQH+kUN0TjEiDGKKBqnaExwBjUaR6KY+NQgiQkOMSYhYEScIopGJOqDE2hHjfP0y4p1Oqdv33v2qr32Prv2Paug6Ye7Vu2qv75TtWvtGohMqUBAAQZ80zUVQAKUEIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypfPsAJJ0NYC92XRHKPB3AAfLv18BuBLAFSR/NKZWswJI0vkA3jCmILsw75sAvIfkR8eo22wAknQSgMvGEGFD8vwxgFeQvGrI+s4CIEnHAPgugHsMWfkNzevDAM4i+Z8h6t88QJLuXOB5yBAVzjxuVeBaAM8ieXNUjzkAdAmA50Yrmv5HKPATACeQ/GNEm6YBkvRyANblZhpHAXsfekpkOGsWIEmPAHA9gDuOo13mWhS4gOSZfdVoEiBJ9wFwA4D7961Y+lUpsK/v7KxVgL4K4ElOCS4l+Uyn7a41k3Q0gMcC2ANgH4CHV1T2OyStx69OzQEk6TwAZztr8lMAx5P8s9N+Y8wk2cTjfQDu66z080h+zml7yKwpgCSdCOByZyX+BuBRJH/otN84M0kWN/s0gOc4Kv8Nko922B1m0gxAkh4I4AcVwcL9JA/UVnjT7CXdHYD9yEzfVUkAjib5uxqNmgCoBAu/CeBhzsJ/kORZTtuNN5Nk70bXAZ0Hy59G8qIawVoB6LMAnu8suE3tH0/y3077NAMg6esAuoaoC0la7M2dJgdI0ssAXOgs8W8BHEvS/s9UoYCkdwN4bYfL5STto7U7TQpQZbDQehzreawHylSpgKSTAVza4XYDyeNqsp4MoB7BwteQfH9N5dL2NgWK3l0vyAdJWhDXnSYBSNLtANh3GO/KwgMk97trlYbbKiDJPpzea5U8JKuYqDIeql0kvQPAG5352ZLMR5L8q9M+zXZQYFcAJOnJAL7sbGWLMFuk2SLOmYIKzB6gEiz8HoB7O7U4meQXnLZp1qGApD8BuOcsh7AewcL3kuyadg4OjSSbhRxH0j4BjJok2Ufga0j+YdQHlcznDlBNsPAa+xpP8r/rEHbxjAKPbRuyHvKFY0Ik6QUALOprPfIT1gHRbAGSdDoA77aSX5Zg4e8nhGfx6FEgWoJn8Zy1QCTplq5vjc3NwnoEC/eQ/HYD8IwC0TbwrA2i2QHUI1h4JskLGoJnUIhWwLMWiGYFkCSLMX2t5WDhlneeLm5Dw5kDntEhkmRhEVvesWNqZgiTdC6AN3W1Svn72oOFkuxF+WcVIQUrai+IKuA5BBHJ453auc1mA1AJFn7Jsf7EKj9ZsLBHw1ZDtI5neAmaBUBzCxaO2cBj5u2FZtlO0l8A3K3ZIaxHsPB8kt5vYn00c/mM0dBj5OmqzAqjOQDUfLBwJ32HbPAh84pCM5seSNJLAHzcWeFJgoVdZRui4YfIo6ucff8uyVY03LW5IawyWPgvW5u77mChV/QIABFfb/kidk0CVKbDth3Huw35dJLeniqiV2/fniDYx1f7vlWTeoUFah6wZQhrqwcqwUKbrtsaH0+6mOQpHsOpbXpCVFPstcJjBZNkmzHv0swQJultAN7iVO375TyafzjtJzcbEaK1w9McQJXBQlvvYmtsfjE5FZUFGAGiSeBpCqDKYKFtmX0qya9Utl0z5gNCNBk8BSA7CtiODNwxjf4trEew8BySNtTNOg0A0aTwtARQTbDQeh3rfawXmn0KQDQ5PC0B9EkAL3LSkAD9X6hWALIJzJ3mNoSdS9I7U3NyuX6zQO+zKOzkEEmaHqDSFdpZM97tOfkSfRvvk0LUDEAFIgseetf85DS+AYgk/bPr1NvRZ2HLg4ektwI4xzmgZCBxYohaBMjWPeenDOcvaIvZ2oez5gAqQ5mtLbb3oa4z+Bb6nTHW1UP92vFIr54vzJ8BcGplGdYKkSRbCXGHSWdh2z1ckp1taGccroxyFt9cznG4iGuDqFmASk9kZxxakNGTckHZBBA1DVCB6BMAXuwhyA4VmGL/+05l6zlsbdt7DJmXU0uXmSQ7JvD2zQ1hiwJJsotRvlVxXO87SU5+heUYDT5Gni5KVhg1D1DphWqCjOYy6RlAYzb0mHn3gWkWABWIaoKMubHwSBpGebGWZNdc2vmUO6a1BhJXFUSSff/yLuOYamvzzwEcVfFr7tWwPXqi6uN2PXWYG0C1Qca1n8RaDlewl3kPRL3gWXo/XBwo1dXWdk/a3jEOnJoVQGUoqw0yvpLkh7oUHvLvTohC8FRANBo8pT3sxLeVJ/M2M4QtiVYTZJzkNPoOiAaBxwHRqPDMFqBS8Jog4yT3YewA0aDwrIBodHhmDVApvG0mtO3PnjTJjTxbIBoFnm0gWgs8pQ06lxY3N4QtCWZBRgPDezdnHvPr+alV2EiaL0DlF2Dbn20bdB40XtHwQ5nOHqAC0SyCjEM1Wkv57AqACkRvBvB2p7hrDzI6yzU7s90EUPNBxtnR4SjwrgGo9EK1Qca8cM4ByU4mkuz++F93ZHELyZX3iW31n+S+sKWZWfNBxkCbNeUq6ekArugo1I0kH1xT8EkBKj1R80HGGkFbtZVkZ3bb2d2r0tUkn1hTh8kBKhB9DMBLnQWfJMjoLFuTZpJsO/ONAB7UUcBLSHqvX781q1YAqg0yfoDkq5psrQYLJeldAF7nKFr1x+wmACq9kAUZLazvvTV4P8kDDlE22kTSQ4uuK9dCF5HuR/I3NYI1A1CBaB+AK50VsAMj7TJeixNl2kYBSccCsB/ZMQ6Brif5GIfdYSZNAVQg8rzsLSphl/Hapby2LDZTUaBcq/56ALb1fOVxLkuinULy4loRmwOoQGQX7T7DWZnPk3y203bXmkl6AIA91isDOBGADV3e1HsJbasA1QYZvUKl3fYKPI2knXFQnZoEqPRCNUHG6oqnwyEFLiJ5Wl89mgWoQFQTZOyrwSb7WUztcSRtu0+v1DRABaKPADijV+3SaZUCNgE5geTNEZnmAFBtkDGix6b4Xld2BNvJcaHUPEClF6oNMoZE2eXOtm3q1ZFha1mfWQBUINoL4Kqurbm7vPEj1bOAqx3udW0kk62+swGoQHQ2gPOGFGAD8roJgF0t+qkx6jorgApElwE4aQwxZp6n3YNxsPyzA7yst/4iSdvEMFqaHUCjKZEZ91IgAeolWzotFEiAkoWQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnT+H0jPT81J3xWWAAAAAElFTkSuQmCC",check:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAYAAAAi2ky3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACtSURBVHgBvdPdDcIgEAfwoy8Nb45QN3AGF2s36Ahu4gpuIDoBfSgfpdoTlCbEWEMh6T8hFzjyg5AAkBHOcQe5UWqspRx435sDpMYj6IYQwwVSEiJ2MKVUBWuzLSLl2HL+uxmNCGFO8yaL7RHxve6qRZoAuS4hxac8735elWVx7jrtMKL1o0Gcat9jhExHSukN/kUIFZ7MpDRtzE1isDRkAUtDvrA8ZI597FUf8gWH9P0b4gko9wAAAABJRU5ErkJggg=="},color:{palette:{},white:"0xffffffff",black:"0x000000ff",grey:"0x929096ff",red:"0xe74c3cff",orange:"0xdc7633ff",yellow:"0xf7dc6fff",green:"0x2ecc71ff",blue:"0x93a9fdff",purple:"0x663399ff",overlay:"0x181819b3",material:"0x181819ff",materialNeutral:"0x181819ff",materialNeutralElevated:"0x373639ff",materialInverse:"0xf8f7faff",materialInverseElevated:"0xffffffff",materialBrand:"0x000033ff",materialBrandElevated:"0x242a65ff",textNeutral:"0xf8f7faff",textNeutralSecondary:"0xf8f7fab3",textNeutralTertiary:"0xf8f7fa1a",textNeutralDisabled:"0xf8f7fa80",textInverse:"0x181819ff",textInverseSecondary:"0x181819b3",textInverseTertiary:"0x1818191a",textInverseDisabled:"0x18181980",textBrand:"0x93a9fdff",textBrandSecondary:"0x93a9fdb3",textBrandTertiary:"0x93a9fd1a",textBrandDisabled:"0x93a9fd80",textPositive:"0x2ecc71ff",textNegative:"0xe74c3cff",textInfo:"0x93a9fdff",textCaution:"0xdc7633ff",fillTransparent:"0xffffff0",fillNeutral:"0xf8f7faff",fillNeutralSecondary:"0xf8f7fab3",fillNeutralTertiary:"0xf8f7fa1a",fillNeutralDisabled:"0xf8f7fa80",fillInverse:"0x181819ff",fillInverseSecondary:"0x181819b3",fillInverseTertiary:"0x1818191a",fillInverseDisabled:"0x18181980",fillBrand:"0x93a9fdff",fillBrandSecondary:"0x93a9fdb3",fillBrandTertiary:"0x93a9fd1a",fillBrandDisabled:"0x93a9fd80",fillPositive:"0x2ecc71ff",fillNegative:"0xe74c3cff",fillInfo:"0x93a9fdff",fillCaution:"0xdc7633ff",strokeNeutral:"0xf8f7faff",strokeNeutralSecondary:"0xf8f7fab3",strokeNeutralTertiary:"0xf8f7fa1a",strokeNeutralDisabled:"0xf8f7fa80",strokeInverse:"0x181819ff",strokeInverseSecondary:"0x181819b3",strokeInverseTertiary:"0x1818191a",strokeInverseDisabled:"0x18181980",strokeBrand:"0x93a9fdff",strokeBrandSecondary:"0x93a9fdb3",strokeBrandTertiary:"0x93a9fd1a",strokeBrandDisabled:"0x93a9fd80",strokePositive:"0x2ecc71ff",strokeNegative:"0xe74c3cff",strokeInfo:"0x93a9fdff",strokeCaution:"0xdc7633ff",interactiveNeutral:"0xffffff1a",interactiveNeutralFocus:"0xffffffff",interactiveNeutralFocusSoft:"0xffffff1a",interactiveInverse:"0x48474b1a",interactiveInverseFocus:"0x48474bff",interactiveInverseFocusSoft:"0x48474b1a",interactiveBrand:"0xbecffe1a",interactiveBrandFocus:"0xbecffeff",interactiveBrandFocusSoft:"0xbecffe1a",shadowNeutral:"0x000000b3",shadowNeutralFocus:"0x000000b3",shadowNeutralFocusSoft:"0x000000b3",shadowNeutralText:"0x000000ff",shadowInverse:"0x000000b3",shadowInverseFocus:"0x000000b3",shadowInverseFocusSoft:"0x000000b3",shadowInverseText:"0x000000ff",shadowBrand:"0x000000b3",shadowBrandFocus:"0x000000b3",shadowBrandFocusSoft:"0x000000b3",shadowBrandText:"0x000000ff"},font:[],layout:{columnCount:10,focusScale:1.2,gutterX:20,gutterY:20,marginX:150,marginY:150,safe:50,screenW:1920,screenH:1080},radius:{none:0,xs:2,sm:4,md:8,lg:16,xl:24},spacer:{none:0,xxs:2,xs:4,sm:8,md:10,lg:20,xl:30,xxl:40,xxxl:50},stroke:{none:0,sm:2,md:4,lg:6,xl:8},typography:{display1:{fontFamily:"Arial",fontSize:75,lineHeight:85,fontWeight:500,verticalAlign:"middle",textBaseline:"bottom"},display2:{fontFamily:"Arial",fontSize:50,lineHeight:60,fontWeight:500,verticalAlign:"middle",textBaseline:"bottom"},display3:{fontFamily:"Arial",fontSize:56,fontWeight:400,lineHeight:68,verticalAlign:"middle",textBaseline:"bottom"},display4:{fontFamily:"Arial",fontSize:48,fontWeight:400,lineHeight:64,verticalAlign:"middle",textBaseline:"bottom"},headline1:{fontFamily:"Arial",fontSize:35,fontWeight:500,lineHeight:48,verticalAlign:"middle",textBaseline:"bottom"},headline2:{fontFamily:"Arial",fontSize:30,fontWeight:500,lineHeight:40,verticalAlign:"middle",textBaseline:"bottom"},headline3:{fontFamily:"Arial",fontSize:25,fontWeight:500,lineHeight:36,verticalAlign:"middle",textBaseline:"bottom"},body1:{fontFamily:"Arial",fontSize:25,fontWeight:300,lineHeight:40,verticalAlign:"middle",textBaseline:"bottom"},body2:{fontFamily:"Arial",fontSize:22,fontWeight:300,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},body3:{fontFamily:"Arial",fontSize:20,fontWeight:300,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},button1:{fontFamily:"Arial",fontSize:25,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},button2:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},callout1:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},caption1:{fontFamily:"Arial",fontSize:15,fontWeight:500,lineHeight:24,verticalAlign:"middle",textBaseline:"bottom"},tag1:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:24,verticalAlign:"middle",textBaseline:"bottom"},footnote1:{fontFamily:"Arial",fontSize:22,fontWeight:300,lineHeight:30,verticalAlign:"middle",textBaseline:"bottom"},subtitle1:{fontFamily:"Arial",fontSize:32,fontWeight:400,lineHeight:36,verticalAlign:"middle",textBaseline:"bottom"},subtitle2:{fontFamily:"Arial",fontSize:28,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},navigation:{fontFamily:"Arial",fontSize:28,fontWeight:400,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"}},componentConfig:{Keyboard:{base:{keyProps:{delete:{title:null,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAACmpJREFUeF7tnVmoZUcVhv/feY4gBEVEH/KgCCZxCK2itNo4xQQH+kUN0TjEiDGKKBqnaExwBjUaR6KY+NQgiQkOMSYhYEScIopGJOqDE2hHjfP0y4p1Oqdv33v2qr32Prv2Paug6Ye7Vu2qv75TtWvtGohMqUBAAQZ80zUVQAKUEIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypfPsAJJ0NYC92XRHKPB3AAfLv18BuBLAFSR/NKZWswJI0vkA3jCmILsw75sAvIfkR8eo22wAknQSgMvGEGFD8vwxgFeQvGrI+s4CIEnHAPgugHsMWfkNzevDAM4i+Z8h6t88QJLuXOB5yBAVzjxuVeBaAM8ieXNUjzkAdAmA50Yrmv5HKPATACeQ/GNEm6YBkvRyANblZhpHAXsfekpkOGsWIEmPAHA9gDuOo13mWhS4gOSZfdVoEiBJ9wFwA4D7961Y+lUpsK/v7KxVgL4K4ElOCS4l+Uyn7a41k3Q0gMcC2ANgH4CHV1T2OyStx69OzQEk6TwAZztr8lMAx5P8s9N+Y8wk2cTjfQDu66z080h+zml7yKwpgCSdCOByZyX+BuBRJH/otN84M0kWN/s0gOc4Kv8Nko922B1m0gxAkh4I4AcVwcL9JA/UVnjT7CXdHYD9yEzfVUkAjib5uxqNmgCoBAu/CeBhzsJ/kORZTtuNN5Nk70bXAZ0Hy59G8qIawVoB6LMAnu8suE3tH0/y3077NAMg6esAuoaoC0la7M2dJgdI0ssAXOgs8W8BHEvS/s9UoYCkdwN4bYfL5STto7U7TQpQZbDQehzreawHylSpgKSTAVza4XYDyeNqsp4MoB7BwteQfH9N5dL2NgWK3l0vyAdJWhDXnSYBSNLtANh3GO/KwgMk97trlYbbKiDJPpzea5U8JKuYqDIeql0kvQPAG5352ZLMR5L8q9M+zXZQYFcAJOnJAL7sbGWLMFuk2SLOmYIKzB6gEiz8HoB7O7U4meQXnLZp1qGApD8BuOcsh7AewcL3kuyadg4OjSSbhRxH0j4BjJok2Ufga0j+YdQHlcznDlBNsPAa+xpP8r/rEHbxjAKPbRuyHvKFY0Ik6QUALOprPfIT1gHRbAGSdDoA77aSX5Zg4e8nhGfx6FEgWoJn8Zy1QCTplq5vjc3NwnoEC/eQ/HYD8IwC0TbwrA2i2QHUI1h4JskLGoJnUIhWwLMWiGYFkCSLMX2t5WDhlneeLm5Dw5kDntEhkmRhEVvesWNqZgiTdC6AN3W1Svn72oOFkuxF+WcVIQUrai+IKuA5BBHJ453auc1mA1AJFn7Jsf7EKj9ZsLBHw1ZDtI5neAmaBUBzCxaO2cBj5u2FZtlO0l8A3K3ZIaxHsPB8kt5vYn00c/mM0dBj5OmqzAqjOQDUfLBwJ32HbPAh84pCM5seSNJLAHzcWeFJgoVdZRui4YfIo6ucff8uyVY03LW5IawyWPgvW5u77mChV/QIABFfb/kidk0CVKbDth3Huw35dJLeniqiV2/fniDYx1f7vlWTeoUFah6wZQhrqwcqwUKbrtsaH0+6mOQpHsOpbXpCVFPstcJjBZNkmzHv0swQJultAN7iVO375TyafzjtJzcbEaK1w9McQJXBQlvvYmtsfjE5FZUFGAGiSeBpCqDKYKFtmX0qya9Utl0z5gNCNBk8BSA7CtiODNwxjf4trEew8BySNtTNOg0A0aTwtARQTbDQeh3rfawXmn0KQDQ5PC0B9EkAL3LSkAD9X6hWALIJzJ3mNoSdS9I7U3NyuX6zQO+zKOzkEEmaHqDSFdpZM97tOfkSfRvvk0LUDEAFIgseetf85DS+AYgk/bPr1NvRZ2HLg4ektwI4xzmgZCBxYohaBMjWPeenDOcvaIvZ2oez5gAqQ5mtLbb3oa4z+Bb6nTHW1UP92vFIr54vzJ8BcGplGdYKkSRbCXGHSWdh2z1ckp1taGccroxyFt9cznG4iGuDqFmASk9kZxxakNGTckHZBBA1DVCB6BMAXuwhyA4VmGL/+05l6zlsbdt7DJmXU0uXmSQ7JvD2zQ1hiwJJsotRvlVxXO87SU5+heUYDT5Gni5KVhg1D1DphWqCjOYy6RlAYzb0mHn3gWkWABWIaoKMubHwSBpGebGWZNdc2vmUO6a1BhJXFUSSff/yLuOYamvzzwEcVfFr7tWwPXqi6uN2PXWYG0C1Qca1n8RaDlewl3kPRL3gWXo/XBwo1dXWdk/a3jEOnJoVQGUoqw0yvpLkh7oUHvLvTohC8FRANBo8pT3sxLeVJ/M2M4QtiVYTZJzkNPoOiAaBxwHRqPDMFqBS8Jog4yT3YewA0aDwrIBodHhmDVApvG0mtO3PnjTJjTxbIBoFnm0gWgs8pQ06lxY3N4QtCWZBRgPDezdnHvPr+alV2EiaL0DlF2Dbn20bdB40XtHwQ5nOHqAC0SyCjEM1Wkv57AqACkRvBvB2p7hrDzI6yzU7s90EUPNBxtnR4SjwrgGo9EK1Qca8cM4ByU4mkuz++F93ZHELyZX3iW31n+S+sKWZWfNBxkCbNeUq6ekArugo1I0kH1xT8EkBKj1R80HGGkFbtZVkZ3bb2d2r0tUkn1hTh8kBKhB9DMBLnQWfJMjoLFuTZpJsO/ONAB7UUcBLSHqvX781q1YAqg0yfoDkq5psrQYLJeldAF7nKFr1x+wmACq9kAUZLazvvTV4P8kDDlE22kTSQ4uuK9dCF5HuR/I3NYI1A1CBaB+AK50VsAMj7TJeixNl2kYBSccCsB/ZMQ6Brif5GIfdYSZNAVQg8rzsLSphl/Hapby2LDZTUaBcq/56ALb1fOVxLkuinULy4loRmwOoQGQX7T7DWZnPk3y203bXmkl6AIA91isDOBGADV3e1HsJbasA1QYZvUKl3fYKPI2knXFQnZoEqPRCNUHG6oqnwyEFLiJ5Wl89mgWoQFQTZOyrwSb7WUztcSRtu0+v1DRABaKPADijV+3SaZUCNgE5geTNEZnmAFBtkDGix6b4Xld2BNvJcaHUPEClF6oNMoZE2eXOtm3q1ZFha1mfWQBUINoL4Kqurbm7vPEj1bOAqx3udW0kk62+swGoQHQ2gPOGFGAD8roJgF0t+qkx6jorgApElwE4aQwxZp6n3YNxsPyzA7yst/4iSdvEMFqaHUCjKZEZ91IgAeolWzotFEiAkoWQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnT+H0jPT81J3xWWAAAAAElFTkSuQmCC"}}}}}};function Al(){let n,r,e,t=0;const o=1,i={duration:750,easing:"ease-in-out"},s={alpha:o,color:4294967295};function a(l){if(l.startsWith("#")){n.color=Z(l),n.src="",n.alpha=1,t=1,r.alpha=0,e.alpha=0;return}else n.color=4294967295,e.alpha=1;if(t===0){n.src=l,t=1;return}if(t===1){r.src=l,t=2,r.alpha=0,r.animate({alpha:o},i).start(),n.animate({alpha:0},i).start();return}t===2&&(n.src=l,t=1,n.alpha=0,n.animate({alpha:o},i).start(),r.animate({alpha:0},i).start())}return Ne(at(wl,l=>{a(l)},{defer:!0})),_(H,{width:1920,height:1080,zIndex:-5,get children(){return[_(H,{ref(l){var d=n;typeof d=="function"?d(l):n=l},style:s}),_(H,{ref(l){var d=r;typeof d=="function"?d(l):r=l},style:s,alpha:0}),_(H,{ref(l){var d=e;typeof d=="function"?d(l):e=l},src:"./assets/hero-mask-inverted.png",get color(){return Z(c.color.materialBrand)},width:1920,height:1080})]}})}var Pn,Dn,zn,On,Un,Wn,Yn,Hn,$n,Kn,Qn,Xn,jn,Vn,Gn,qn,Zn,Jn,eo,to;function Wt(n){if(!n||!n[Symbol.iterator])throw new Error("objectFromEntries requires a single iterable argument");const r={};for(const[e,t]of n)r[e]=t;return r}const Cl=["focus","disabled"],Tl=["brand","inverse","neutral"];function z({themeKeys:n,base:r,modes:e={},tones:t={},themeStyles:o,modeKeys:i=Cl,toneKeys:s=Tl},a=!1){const l=(v,y,w)=>{const S=s.map(x=>{var A,T;const p={};return new Set([].concat.apply([],[(A=v==null?void 0:v[x])!=null?A:{},(T=y==null?void 0:y[x])!=null?T:{}].map(Object.keys))).forEach(R=>{var E;var I,C;i.includes(R)||(p[R]=(E=(I=y==null?void 0:y[x])==null?void 0:I[R])!=null?E:(C=v==null?void 0:v[x])==null?void 0:C[R])}),i.forEach(R=>{var I,C;p[R]={...w[R],...(I=v==null?void 0:v[x])==null?void 0:I[R],...(C=y==null?void 0:y[x])==null?void 0:C[R]}}),[x,p]});return Wt(S)},d=(v,y)=>{const w=i.map(x=>[x,{...v==null?void 0:v[x],...y==null?void 0:y[x]}]);return Wt(w)},u=(v,y)=>({...v,...y.base}),f=v=>Wt(Object.entries(n).filter(([y,w])=>v[w]).map(([y,w])=>[y,v[w]])),m=v=>Wt(Object.entries(v).map(([w,S])=>{const x=f(S);return Object.entries(S).filter(([p,g])=>i.includes(p)).forEach(([p,g])=>{x[p]=f(g)}),[w,x]}));return((v,y,w)=>{const S=m(o);a&&console.log(S);const x=u(v,S);a&&console.log(x);const p=d(y,S);a&&console.log(p);const g=l(w,S,p);return a&&console.log(g),{base:{...x,...p},tones:g}})(r,e,t)}function or(n=0){return(r,e,t=0,o)=>{var w,S,x,p;if(r.children.length===0)return;const i=r.flexDirection==="row"?"width":"height",s=r.flexDirection==="row"?"x":"y",a=r.gap||0,l=r.scroll||"auto",[d,u]=_l(r);let f=(w=r[s])!=null?w:0;const m=(S=e==null?void 0:e[s])!=null?S:0,b=(x=e==null?void 0:e[i])!=null?x:0,v=o===void 0?"none":t>o?"positive":"negative";let y=f;if(l==="auto")r.scrollIndex!=null&&r.scrollIndex>=0?r.selected>=r.scrollIndex&&(v==="positive"?y=f-b-a:y=f+b+a):(Math.abs(f)+u<d.position+d.size||m<Math.abs(f))&&(y=-m+n);else if(l==="always"||l==="edge"&&v==="negative"&&Math.abs(f)>m)y=-m+n;else if(l==="edge"&&v==="positive"&&Math.abs(f)+u<m+b)y=f-b-a;else if(l==="edge"&&v==="none"){let g=0,A,T;for(;g<r.children.length&&Math.abs(f)+u<m+b;)A=r.children[g++],T=(p=A[i])!=null?p:0,f-=T+a;y=f}s==="x"&&r.x!==y?r.x=y:s==="y"&&r.y!==y&&(r.y=y)}}function _l(n){var t,o,i,s,a,l;let r,e;return n.flexDirection==="row"?(r={position:(t=n.children[n.children.length-1].x)!=null?t:0,size:(o=n.children[n.children.length-1].width)!=null?o:0},e=(i=n.width)!=null?i:0):(r={position:(s=n.children[n.children.length-1].y)!=null?s:0,size:(a=n.children[n.children.length-1].height)!=null?a:0},e=(l=n.height)!=null?l:0),[r,e]}function ze(...n){const r=n.filter(e=>typeof e=="function");if(r.length!==0)return r.length===1?r[0]:function(...e){let t;for(const o of r)if(t=o.apply(this,e),t===!0)return t;return t}}function ii(){if(!this||this.selected===void 0||this.children.length===0)return!1;let n=this.children[this.selected];for(;n!=null&&n.skipFocus;)this.selected++,n=this.children[this.selected];return n instanceof ye?(n.setFocus(),!0):!1}function ir(n){return function(){var r,e,t;const o=this.children.length,i=this.wrap,s=this.selected||0;if(o===0)return!1;if(n==="right"||n==="down")do if(this.selected=(this.selected||0)%o+1,this.selected>=o){if(!i){this.selected=void 0;break}this.selected=0}while((r=this.children[this.selected])!=null&&r.skipFocus);else if(n==="left"||n==="up")do if(this.selected=(this.selected||0)%o-1,this.selected<0){if(!i){this.selected=void 0;break}this.selected=o-1}while((e=this.children[this.selected])!=null&&e.skipFocus);if(this.selected===void 0&&(this.selected=s,(t=this.children[this.selected])!=null&&t.states.has("focus")))return!1;const a=this.children[this.selected];if(this.onSelectedChanged&&this.onSelectedChanged.call(this,this,a,this.selected,s),this.plinko&&s!==void 0){const d=this.children[s].selected||0;a.selected=d<a.children.length?d:a.children.length-1}return a.setFocus(),!0}}function Rl(n=1){const r=c.layout.screenW,e=c.layout.columnCount,t=c.layout.marginX,o=c.layout.gutterX;(n<1||n>e)&&(console.error("getWidthByUpCount expects an upCount between 1 & ".concat(e,", received ").concat(n,". Defaulting to upCount 1.")),n=1);const i=r-t*2,s=(n-1)*o;return(i-s)/n}const{Artwork:{defaultTone:Zd,...Il}={themeStyles:{}}}=(Pn=c)==null?void 0:Pn.componentConfig,kl={themeKeys:{fallbackSrc:"fallbackSrc",fillColor:"fillColor",scale:"imageScale",pivotX:"imageScalePivotX",pivotY:"imageScalePivotY",borderRadius:"radius"},base:{fallbackSrc:void 0,fillColor:c.color.overlay,gradientColor:c.color.material,pivotX:.5,pivotY:.5,scale:void 0,borderRadius:c.radius.md},themeStyles:Il};z(kl);const{Badge:{defaultTone:Jd,...fn}={themeStyles:{}}}=c.componentConfig,Bl={themeKeys:{color:"backgroundColor",borderRadius:"radius",gap:"contentSpacing"},base:{color:c.color.fillInverseSecondary,borderRadius:c.radius.sm,border:{color:c.color.strokeInverse,width:c.stroke.sm},gap:c.spacer.xs,display:"flex",justifyContent:"spaceEvenly",padding:[c.spacer.md-c.stroke.sm,c.spacer.xs+c.stroke.sm,c.spacer.md+c.stroke.sm,c.spacer.md+c.stroke.sm]},tones:{inverse:{color:c.color.fillNeutralSecondary,borderRadius:c.radius.sm,border:{color:c.color.strokeInverseSecondary,width:c.stroke.sm}},brand:{color:c.color.fillBrand,borderRadius:c.radius.sm,border:{color:c.color.strokeInverseSecondary,width:c.stroke.sm}}},themeStyles:fn},Nl={themeKeys:{color:"textColor"},base:{...c.typography.tag1,color:c.color.textNeutral},tones:{inverse:{color:c.color.textInverse},brand:{color:c.color.textNeutral}},themeStyles:fn},El={themeKeys:{color:"iconColor"},base:{color:c.color.textNeutral},tones:{inverse:{color:c.color.textInverse},brand:{color:c.color.textNeutral}},themeStyles:fn};z(Bl);z(El);z(Nl);const{Button:{defaultTone:Ll,...Fl}={buttonThemeStyles:{}}}=(Dn=c)==null?void 0:Dn.componentConfig,{Surface:{surfaceDefaultTone:Ml,...Pl}={surfaceThemeStyles:{}}}=(zn=c)==null?void 0:zn.componentConfig,gn={...Fl,...Pl},Dl={themeKeys:{textAlign:"textAlign",borderRadius:"radius",color:"backgroundColor",justifyContent:"justify",itemSpacing:"contentSpacing"},base:{height:c.typography.button1.lineHeight+c.spacer.xl*2,display:"flex",padding:[c.spacer.xxxl,c.spacer.xl],color:c.color.interactiveNeutral,justifyContent:"center",alignItems:"center",borderRadius:c.radius.sm,contentColor:c.color.fillNeutral},modes:{focus:{color:c.color.interactiveNeutralFocus,contentColor:c.color.fillInverse},disabled:{color:c.color.fillNeutralDisabled}},tones:{inverse:{color:c.color.interactiveInverse},brand:{color:c.color.interactiveBrand,focus:{color:c.color.fillNeutral}}},themeStyles:gn},zl={themeKeys:{color:"contentColor"},base:{color:c.color.textNeutral},modes:{focus:{color:c.color.textInverse},disabled:{color:c.color.textNeutralDisabled}},tones:{inverse:{color:c.color.fillNeutral},brand:{color:c.color.fillBrand,focus:{color:c.color.fillBrand}}},themeStyles:gn},Ol={themeKeys:{color:"textColor"},base:{textAlign:"left",color:c.color.textNeutral,...c.typography.button1},modes:{focus:{color:c.color.textInverse},disabled:{color:c.color.textNeutralDisabled}},tones:{inverse:{color:c.color.fillNeutral},brand:{color:c.color.fillBrand,focus:{color:c.color.fillBrand}}},themeStyles:gn},Ul=z(Dl),Wl=z(zl),Yl=z(Ol),it={tone:Ll||Ml||"neutral",Container:Ul,Content:Wl,Text:Yl},eu=n=>_(Hl,de(n,{forwardStates:!0,get children(){return _(Q,{get textAlign(){return n.textAlign},get color(){return n.textColor},get style(){var r;return[it.Text.tones[(r=n.tone)!=null?r:it.tone],it.Text.base]},get children(){return n.children}})}})),Hl=n=>_(H,de(n,{get color(){return n.backgroundColor},get contentColor(){return n.contentColor},get justifyContent(){return n.justify},get itemSpacing(){return n.contentSpacing},get style(){var e;var r;return[n.style,(r=it.Container.tones)==null?void 0:r[(e=n.tone)!=null?e:it.tone],it.Container.base]},forwardStates:!0})),{Checkbox:{defaultTone:tu,...si}={themeStyles:{}}}=(On=c)==null?void 0:On.componentConfig,$l={themeKeys:{color:"backgroundColor",borderRadius:"radius",border:"border",justifyContent:"justifyContent"},base:{width:c.spacer.xxl,height:c.spacer.xxl,display:"flex",justifyContent:"center",color:c.color.fillNeutral,alignItems:"center",borderRadius:c.spacer.xxl/4,border:{color:c.color.strokeInverse,width:c.stroke.sm}},modes:{disabled:{alpha:c.alpha.inactive}},tones:{brand:{borderRadius:c.spacer.xxl/4,border:{color:c.color.strokeNeutralSecondary,width:c.stroke.sm},color:c.color.fillNeutralSecondary,checked:{borderRadius:c.spacer.xxl/4,border:{color:c.color.strokeNeutralSecondary,width:c.stroke.sm},color:c.color.fillBrand}},neutral:{borderRadius:c.spacer.xxl/4,border:{color:c.color.strokeNeutralSecondary,width:c.stroke.sm},color:c.color.fillInverseSecondary,checked:{borderRadius:c.spacer.xxl/4,border:{color:c.color.strokeNeutralSecondary,width:c.stroke.sm},color:c.color.fillNeutral}},inverse:{borderRadius:c.spacer.xxl/4,border:{color:c.color.strokeInverseSecondary,width:c.stroke.sm},color:c.color.fillNeutralSecondary,checked:{borderRadius:c.spacer.xxl/4,border:{color:c.color.strokeInverseSecondary,width:c.stroke.sm},color:c.color.fillInverse}}},modeKeys:["focus","disabled","checked"],themeStyles:si},Kl={themeKeys:{width:"checkWidth",height:"checkHeight"},base:{width:c.spacer.lg,height:c.spacer.lg,src:c.asset.check},tones:{neutral:{color:c.color.fillInverse},inverse:{color:c.color.fillNeutral},brand:{color:c.color.fillInverse}},themeStyles:si};z($l);z(Kl);const{Icon:{defaultTone:ru,...Ql}={themeStyles:{}}}=(Un=c)==null?void 0:Un.componentConfig,Xl={themeKeys:{color:"color"},base:{width:100,height:100,color:c.color.fillInverse},tones:{inverse:{color:c.color.fillInverse},brand:{color:c.color.fillBrand}},themeStyles:Ql};z(Xl);const{Column:{defaultTone:jl,...Vl}={themeStyles:{}}}=(Wn=c)==null?void 0:Wn.componentConfig,Gl={themeKeys:{gap:"itemSpacing",scrollIndex:"scrollIndex",transition:"itemTransition"},base:{display:"flex",flexBoundary:"fixed",flexDirection:"column",gap:c.layout.gutterY,transition:{...c.animation.standardEntrance,duration:c.animation.duration.fast}},themeStyles:Vl},ql=z(Gl),Rr={tone:jl||"neutral",Container:ql},Zl=n=>_(H,n),ai=n=>{const r=ir("up"),e=ir("down");return _(Zl,de(n,{get gap(){return n.itemSpacing},get transition(){return n.itemTransition},get onUp(){return ze(n.onUp,r)},get onDown(){return ze(n.onDown,e)},get selected(){return n.selected||0},forwardFocus:ii,get onCreate(){return ze(t=>{var o,i;return or(n.y).call(t,t,t.children[(o=n.selected)!=null?o:0],(i=n.selected)!=null?i:0,void 0)},n.onLayout)},get onSelectedChanged(){return ze(n.onSelectedChanged,n.scroll!=="none"?or(n.y):void 0)},get style(){var t;return[n.style,Rr.Container.tones[(t=n.tone)!=null?t:Rr.tone],Rr.Container.base]}}))},{Input:{defaultTone:nu,...pn}={themeStyles:{}}}=(Yn=c)==null?void 0:Yn.componentConfig,Jl={themeKeys:{justifyContent:"justify"},base:{display:"flex",justifyContent:"flexStart",flexDirection:"column",width:100,height:100,actualTitle:""},themeStyles:pn},ec={themeKeys:{borderRadius:"radius",color:"backgroundColor"},base:{width:Rl(4),height:100,display:"flex",flexDirection:"column",padding:[c.spacer.xxxl,c.spacer.xl],color:c.color.interactiveNeutral,contentColor:c.color.fillInverse,borderRadius:c.radius.sm,marginX:c.spacer.xxxl},themeStyles:pn},tc={themeKeys:{color:"textColor"},base:{textAlign:"left",color:c.color.textNeutral,...c.typography.button1},themeStyles:pn};z(Jl);z(ec);z(tc);const{Key:{defaultTone:ou,...li}={themeStyles:{}}}=(Hn=c)==null?void 0:Hn.componentConfig,rc={themeKeys:{keySpacing:"keySpacing",textAlign:"textAlign",borderRadius:"borderRadius",color:"backgroundColor",justifyContent:"justifyContent",baseWidth:"baseWidth",sizes:"sizes",contentColor:"contentColor"},base:{keySpacing:c.spacer.md,height:c.spacer.md*9,paddingX:c.spacer.md,contentColor:c.color.fillNeutral,sizes:{sm:1,md:2,lg:3,xl:4,xxl:5},padding:[c.spacer.md],baseWidth:c.spacer.md*7,color:c.color.interactiveNeutral,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:c.radius.sm},modes:{focus:{color:c.color.interactiveNeutralFocus,contentColor:c.color.fillInverse},disabled:{color:c.color.fillNeutralDisabled,contentColor:c.color.fillNeutralDisabled}},tones:{inverse:{color:c.color.interactiveInverse,focus:{color:c.color.interactiveInverseFocus,contentColor:c.color.fillNeutral}},brand:{focus:{contentColor:c.color.fillNeutral}}},themeStyles:li},nc={themeKeys:{color:"textColor"},base:{textAlign:"left",color:c.color.textNeutral,...c.typography.headline2},modes:{focus:{color:c.color.textInverse},disabled:{color:c.color.textNeutralDisabled}},tones:{inverse:{focus:{color:c.color.textNeutral}}},themeStyles:li};z(rc);z(nc);const{Keyboard:{defaultTone:iu,...ci}={}}=($n=c)==null?void 0:$n.componentConfig,{Key:{...oc}={}}=(Kn=c)==null?void 0:Kn.componentConfig,ic={themeKeys:{keySpacing:"keySpacing",screenW:"screenW",marginX:"marginX"},base:{keySpacing:c.spacer.md,screenW:c.layout.screenW,marginX:c.layout.marginX,height:100},themeStyles:ci},sc={themeKeys:{keySpacing:"keySpacing",textAlign:"textAlign",borderRadius:"borderRadius",color:"backgroundColor",justifyContent:"justifyContent",baseWidth:"baseWidth",sizes:"sizes",contentColor:"contentColor"},base:{keySpacing:c.spacer.md,height:c.spacer.md*9,sizes:{sm:1,md:2,lg:3,xl:4,xxl:5},contentColor:c.color.fillNeutral,padding:[c.spacer.xxxl,c.spacer.xl],baseWidth:c.spacer.md*7,color:c.color.interactiveNeutral,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:c.radius.sm},modes:{focus:{color:c.color.interactiveNeutralFocus,contentColor:c.color.fillInverse},disabled:{color:c.color.fillNeutralDisabled,contentColor:c.color.fillNeutralDisabled}},tones:{inverse:{color:c.color.interactiveInverse,focus:{color:c.color.interactiveInverseFocus,contentColor:c.color.fillNeutral}},brand:{focus:{contentColor:c.color.fillNeutral}}},themeStyles:oc},ac={themeKeys:{color:"textColor"},base:{textAlign:"left",color:c.color.textNeutral,...c.typography.headline2},modes:{focus:{color:c.color.textInverse},disabled:{color:c.color.textNeutralDisabled}},tones:{inverse:{focus:{color:c.color.textNeutral}}},themeStyles:ci};z(ic);z(sc);z(ac);const{Row:{defaultTone:lc,...cc}={themeStyles:{}}}=(Qn=c)==null?void 0:Qn.componentConfig,dc={themeKeys:{gap:"itemSpacing",scrollIndex:"scrollIndex",transition:"itemTransition"},base:{display:"flex",flexBoundary:"fixed",flexDirection:"row",gap:c.layout.gutterX,transition:{...c.animation.standardEntrance,duration:c.animation.duration.fast}},themeStyles:cc},uc=z(dc),Ir={tone:lc,Container:uc},hc=n=>{const r=ir("left"),e=ir("right");return _(H,de(n,{get selected(){return n.selected||0},get gap(){return n.itemSpacing},get transition(){return n.itemTransition},get scrollIndex(){return n.scrollIndex},get onLeft(){return ze(n.onLeft,r)},get onRight(){return ze(n.onRight,e)},forwardFocus:ii,get onLayout(){return ze(t=>or(n.x).call(t,t,t.children[t.selected],t.selected,void 0),n.onLayout)},get onSelectedChanged(){return ze(n.onSelectedChanged,n.scroll!=="none"?or(n.x):void 0)},get style(){var t;return[n.style,Ir.Container.tones[(t=n.tone)!=null?t:Ir.tone],Ir.Container.base]}}))},{Label:{defaultTone:su,...di}={themeStyles:{}}}=(Xn=c)==null?void 0:Xn.componentConfig,fc={themeKeys:{color:"backgroundColor",borderRadius:"radius"},base:{display:"flex",justifyContent:"center",color:c.color.textNeutral,padding:[c.spacer.md,c.spacer.lg],borderRadius:[c.radius.md,c.radius.md,c.radius.md,c.radius.none],height:c.typography.caption1.lineHeight+c.spacer.md,neutral:{backgroundColor:c.color.fillNeutral}},tones:{inverse:{color:c.color.fillInverse},brand:{color:c.color.fillBrand,focus:{color:c.color.orange}}},themeStyles:di},gc={themeKeys:{color:"textColor"},base:{...c.typography.caption1,color:c.color.textInverse},tones:{inverse:{color:c.color.textNeutral},brand:{color:c.color.textNeutral}},themeStyles:di};z(fc);z(gc);const{Details:{defaultTone:au,...ui}={themeStyles:{}}}=(jn=c)==null?void 0:jn.componentConfig,pc={themeKeys:{alignItems:"alignItems",gap:"contentSpacing",badgeContentSpacing:"badgeContentSpacing",ratingContentSpacing:"ratingContentSpacing"},base:{display:"flex",flexDirection:"row",alignItems:"center",gap:c.spacer.sm,flexBoundary:"contain",badgeContentSpacing:c.spacer.sm,ratingContentSpacing:c.spacer.sm},themeStyles:ui},mc={themeKeys:{color:"textColor"},base:{...c.typography.body2,marginRight:c.spacer.lg,color:c.color.textNeutral},tones:{neutral:{disabled:{color:c.color.textNeutralDisabled}},inverse:{color:c.color.textInverse,disabled:{color:c.color.textNeutralDisabled}},brand:{color:c.color.textNeutral,disabled:{color:c.color.textNeutralDisabled}}},themeStyles:ui};z(pc);z(mc);const{Rating:{defaultTone:lu,...mn}={themeStyles:{}}}=(Vn=c)==null?void 0:Vn.componentConfig,xc={themeKeys:{justifyContent:"justifyContent",gap:"contentSpacing"},base:{display:"flex",flexDirection:"row",justifyContent:"flexStart",gap:c.spacer.sm,alignItems:"center"},themeStyles:mn},yc={themeKeys:{color:"textColor"},base:{color:c.color.textNeutral,...c.typography.body2},tones:{neutral:{disabled:{color:c.color.textNeutralDisabled}},inverse:{color:c.color.textInverse,disabled:{color:c.color.textNeutralDisabled}},brand:{color:c.color.textNeutral,disabled:{color:c.color.textNeutralDisabled}}},themeStyles:mn},vc={themeKeys:{color:"color"},base:{height:c.typography.body2.lineHeight,width:c.typography.body2.lineHeight,color:c.color.fillNeutral,marginRight:c.spacer.sm},themeStyles:mn};z(xc);z(vc);z(yc);const{Metadata:{defaultTone:cu,...xn}={themeStyles:{}}}=(Gn=c)==null?void 0:Gn.componentConfig,bc={themeKeys:{justifyContent:"justifyContent",alpha:"alpha"},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart",flexBoundary:"contain",alpha:c.alpha.primary},modes:{disabled:{alpha:c.alpha.inactive}},themeStyles:xn},wc={themeKeys:{color:"textColor"},base:{maxLines:1,contain:"width",...c.typography.headline3,color:c.color.textNeutral},tones:{neutral:{disabled:{color:c.color.textNeutralDisabled}},inverse:{color:c.color.textInverse,disabled:{color:c.color.textNeutralDisabled}},brand:{color:c.color.textNeutral,disabled:{color:c.color.textNeutralDisabled}}},themeStyles:xn},Sc={themeKeys:{color:"textColor"},base:{contain:"width",maxLines:2,...c.typography.body3,color:c.color.textNeutralSecondary},tones:{neutral:{disabled:{color:c.color.textNeutralDisabled}},inverse:{color:c.color.textInverseSecondary,disabled:{color:c.color.textNeutralDisabled}},brand:{color:c.color.textNeutralSecondary,disabled:{color:c.color.textNeutralDisabled}}},themeStyles:xn};z(bc);z(Sc);z(wc);const{ProgressBar:{defaultTone:du,...hi}={themeStyles:{}}}=(qn=c)==null?void 0:qn.componentConfig,Ac={themeKeys:{color:"barColor",borderRadius:"radius"},base:{height:c.spacer.md,color:c.color.fillNeutralTertiary,borderRadius:c.radius.xs},tones:{inverse:{color:c.color.fillInverseTertiary}},themeStyles:hi},Cc={themeKeys:{color:"progressColor",borderRadius:"radius"},base:{borderRadius:c.radius.xs,color:c.color.fillNeutral},tones:{inverse:{color:c.color.fillInverse},brand:{color:c.color.fillBrand}},themeStyles:hi};z(Ac);z(Cc);const{Radio:{defaultTone:uu,...fi}={themeStyles:{}}}=(Zn=c)==null?void 0:Zn.componentConfig,Tc={themeKeys:{borderRadius:"radius",color:"backgroundColor",colorChecked:"backgroundColorChecked"},base:{color:c.color.fillNeutralSecondary,height:c.spacer.xxl+c.stroke.sm*2,width:c.spacer.xxl+c.stroke.sm*2,borderRadius:c.spacer.xxl/2+c.stroke.sm,border:{color:c.color.strokeNeutralSecondary,width:c.stroke.sm}},tones:{inverse:{border:{color:c.color.strokeInverseSecondary,width:c.stroke.sm}},brand:{border:{color:c.color.fillBrand,width:c.stroke.sm}}},modeKeys:["focus","disabled","checked"],themeStyles:fi},_c={themeKeys:{width:"knobWidth",height:"knobHeight",borderRadius:"knobRadius",color:"knobColor",colorChecked:"knobColorChecked"},base:{color:c.color.fillInverse,colorChecked:c.color.fillInverse,width:c.spacer.xxl,height:c.spacer.xxl,borderRadius:c.spacer.xxl/2},tones:{inverse:{color:c.color.fillNeutral}},themeStyles:fi};z(Tc);z(_c);const{Tile:{defaultTone:hu,...gr}={tileThemeStyles:{}}}=(Jn=c)==null?void 0:Jn.componentConfig,{Surface:{defaultSurfaceTone:fu,...Rc}={surfaceThemeStyles:{}}}=(eo=c)==null?void 0:eo.componentConfig,Ic={themeKeys:{alpha:"alpha",paddingYProgress:"paddingYProgress",borderRadius:"radius"},base:{width:400,height:240,padding:[40,10],paddingYProgress:c.spacer.xl,paddingYBetweenContent:c.spacer.md,borderRadius:c.radius.md,alpha:c.alpha.primary},modes:{disabled:{alpha:c.alpha.inactive}},themeStyles:{...Rc,...gr}},kc={themeKeys:{},base:{display:"flex",flexDirection:"column",flexBoundary:"contain",mountY:1},themeStyles:gr},Bc={themeKeys:{},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart"},themeStyles:gr},Nc={themeKeys:{},base:{width:c.spacer.lg*5,height:c.spacer.xxl+c.spacer.md},themeStyles:gr};z(Ic);z(kc);z(Bc);z(Nc);const{Toggle:{defaultTone:gu,...gi}={themeStyles:{}}}=(to=c)==null?void 0:to.componentConfig,xe=c.spacer.xl,_e=c.spacer.xs,se=c.stroke.sm,Ec={themeKeys:{borderRadius:"strokeRadius",color:"backgroundColor",colorChecked:"backgroundColorChecked"},base:{color:c.color.fillInverseTertiary,colorChecked:c.color.fillNeutral,height:xe+(_e+se)*2,width:(se+_e*2+xe)*2,borderRadius:xe/2+_e+se,border:{color:c.color.fillNeutral,width:se}},modes:{focus:{},disabled:{borderRadius:xe/2+_e+se,border:{color:c.color.fillNeutralDisabled,width:se},color:c.color.fillInverseDisabled,colorChecked:c.color.fillNeutralDisabled}},tones:{inverse:{borderRadius:xe/2+_e+se,border:{color:c.color.fillInverse,width:se},color:c.color.fillNeutralTertiary,colorChecked:c.color.fillInverse,disabled:{borderRadius:xe/2+_e+se,border:{color:c.color.fillInverseDisabled,width:se},color:c.color.fillNeutralDisabled,colorChecked:c.color.fillInverseDisabled}},brand:{borderRadius:xe/2+_e+se,border:{color:c.color.fillBrand,width:se},color:c.color.fillBrandTertiary,colorChecked:c.color.fillBrand,disabled:{borderRadius:xe/2+_e+se,border:{color:c.color.fillNeutralDisabled,width:se},color:c.color.fillInverseDisabled,colorChecked:c.color.fillNeutralDisabled}}},themeStyles:gi},Lc={themeKeys:{width:"knobWidth",height:"knobHeight",padding:"knobPadding",borderRadius:"knobRadius",color:"knobColor",colorChecked:"knobColorChecked"},base:{color:c.color.fillNeutral,colorChecked:c.color.fillInverse,width:xe,height:xe,borderRadius:xe/2,padding:_e},modes:{focus:{},disabled:{color:c.color.fillNeutralDisabled,colorChecked:c.color.fillInverseDisabled}},tones:{inverse:{color:c.color.fillInverse,colorChecked:c.color.fillNeutral,disabled:{color:c.color.fillInverseDisabled,colorChecked:c.color.fillNeutralDisabled}},brand:{color:c.color.fillBrand,colorChecked:c.color.fillInverse,disabled:{color:c.color.fillNeutralDisabled,colorChecked:c.color.fillInverseDisabled}}},themeStyles:gi};z(Ec);z(Lc);const Fc={color:255,height:150,width:330,x:1910,y:10,mountX:1,alpha:.8,zIndex:100},be={x:10,fontSize:22,textColor:Z("#f6f6f6")},Yt={fontSize:22,textColor:Z("#f6f6f6")},[Mc,Pc]=W(0),[Dc,zc]=W(0),[Oc,Uc]=W(99),[Wc,Yc]=W(0),[Hc,$c]=W(0),[Kc,Qc]=W(0),[Xc,jc]=W(0);let ro=0,no=0;const Vc=n=>{n&&(Pc(n),Uc(r=>Math.min(n,r)),Yc(r=>Math.max(n,r)),no+=n,ro++,zc(Math.round(no/ro)))},Gc=n=>{let r=0,e=0,t=0;n.txManager.textureIdCache.forEach(o=>{o.state==="loaded"&&r++,o.state==="loading"&&e++,o.state==="failed"&&t++}),$c(r),Qc(e),jc(t)};function qc(n){n.renderer.on("fpsUpdate",(r,e)=>{const t=typeof e=="number"?e:e.fps;t>5&&(Vc(t),Gc(r.root.stage))})}const Zc=n=>_(H,de(n,{style:Fc,get children(){return[_(H,{get children(){return[_(Q,{style:be,children:"FPS:"}),_(Q,{style:Yt,x:90,get children(){return Mc().toString()}})]}}),_(H,{x:160,get children(){return[_(Q,{style:be,children:"AVG:"}),_(Q,{style:Yt,x:100,get children(){return Dc().toString()}})]}}),_(H,{x:0,y:20,get children(){return[_(Q,{style:be,children:"MIN:"}),_(Q,{style:Yt,x:90,get children(){return Oc().toString()}})]}}),_(H,{x:160,y:20,get children(){return[_(Q,{style:be,children:"MAX:"}),_(Q,{style:Yt,x:100,get children(){return Wc().toString()}})]}}),_(H,{x:0,y:50,get children(){return[_(Q,{style:be,children:"Loaded Textures Cnt:"}),_(Q,{style:be,x:270,get children(){return Hc().toString()}})]}}),_(H,{x:0,y:80,get children(){return[_(Q,{style:be,children:"Loading Textures Cnt:"}),_(Q,{style:be,x:270,get children(){return Kc().toString()}})]}}),_(H,{x:0,y:110,get children(){return[_(Q,{style:be,children:"Failed Textures Cnt:"}),_(Q,{style:be,x:270,get children(){return Xc().toString()}})]}})]}})),Vr={Column:{flexDirection:"column",display:"flex",width:140,height:600,y:360,gap:20,zIndex:101,transition:{x:{duration:250,easing:"ease-in-out"}},x:8,focus:{width:500,x:c.layout.marginX}},Gradient:{zIndex:99,color:Z("#000000"),src:"./assets/sidenav.png",alpha:0,width:1200,height:1080,focus:{alpha:1},transition:{alpha:!0}},NavButton:{zIndex:102,height:70,width:100,borderRadius:8,focus:{color:Z("#424242")},active:{width:328,height:70}}},Jc="/solid-demo-app/",ed=[{name:"experiment",width:81,height:100,x:0,y:0},{name:"trending",width:100,height:56,x:81,y:0},{name:"tv",width:100,height:68,x:181,y:0},{name:"movie",width:94,height:100,x:282,y:0}];function td(n){const r=dl(Jc+"assets/icons_white.png",ed);return _(H,de(n,{get texture(){return r[n.name]},get width(){return r[n.name].props.width},get height(){return r[n.name].props.height},get x(){return(100-(r[n.name].props.width||0))/2},get y(){return(100-(r[n.name].props.height||0))/2}}))}function Ht(n){return _(H,de(n,{forwardStates:!0,get style(){return Vr.NavButton},get children(){return[_(H,{y:-16,get children(){return _(td,{scale:.5,get name(){return n.icon}})}}),_(Q,{style:{fontSize:38,x:116,y:18,height:50,alpha:0,active:{alpha:1}},get children(){return n.children}})]}}))}function rd(n){let r;const e=hn();function t(){r.states.add("focus"),this.children.forEach(s=>s.states.add("active")),this.children.selected.setFocus()}function o(){r.states.remove("focus"),this.selected=0,this.children.forEach(s=>s.states.remove("active"))}function i(s){if(Ra(()=>s)())return n.focusPage();e(s)}return[_(H,{flexItem:!1,width:300,height:150,x:30,y:15,zIndex:105,get alpha(){return n.showWidgets?1:0},get children(){return[_(Q,{x:80,fontSize:28,color:4143380036,children:"Built With:"}),_(H,{y:22,src:"./assets/solidWord.png",width:280,height:52}),_(H,{x:0,y:110,src:"./assets/tmdb.png",width:80,height:41}),_(Q,{x:90,y:110,contain:"width",width:160,fontSize:12,color:4143380036,children:"This product uses the TMDB API but is not endorsed or certified by TMDB."})]}}),_(ai,de(n,{onFocus:t,onBlur:o,get style(){return Vr.Column},scroll:"none",get children(){return[_(Ht,{onEnter:()=>i("/browse/all"),icon:"trending",children:"Trending"}),_(Ht,{icon:"movie",onEnter:()=>i("/browse/movie"),children:"Movies"}),_(Ht,{icon:"tv",onEnter:()=>i("/browse/tv"),children:"TV"}),_(Ht,{icon:"experiment",onEnter:()=>i("/examples"),children:"Examples"})]}})),_(H,{skipFocus:!0,ref(s){var a=r;typeof a=="function"?a(s):r=s},get style(){return Vr.Gradient}})]}const nd=n=>{el({Announcer:["a"],Menu:["m"],Escape:["Escape",27],Backspace:["Backspace",8],Left:["ArrowLeft",37],Right:["ArrowRight",39],Up:["ArrowUp",38],Down:["ArrowDown",40],Enter:["Enter",13]}),bl();const r=cl();r.enabled=!1;const e=hn();let t,o;qc({renderer:ke});function i(){return t.states.has("focus")?!1:(o=hr(),t.setFocus())}const[s,a]=W(!0),l=qo(),d=["/browse","/entity"];return Ne(()=>{const u=l.pathname;let f=d.some(m=>u.startsWith(m));u==="/"&&(f=!0),a(f)}),_(H,{ref(u){var f=window.APP;typeof f=="function"?f(u):window.APP=u},onAnnouncer:()=>r.enabled=!r.enabled,onLast:()=>history.back(),onMenu:()=>e("/"),style:{width:1920,height:1080},onBackspace:i,onLeft:i,onRight:()=>t.states.has("focus")&&o.setFocus(),get children(){return[_(Al,{}),_(Zc,{mountX:1,x:1910,y:10,get alpha(){return s()?1:0}}),an(()=>n.children),_(rd,{ref(u){var f=t;typeof f=="function"?f(u):t=u},focusPage:()=>o.setFocus(),get showWidgets(){return s()}})]}})},sr={Page:{width:1920,height:1080},headlineText:{width:1200,height:240,x:360,y:455,contain:"both",fontSize:66,textAlign:"center"},headlineSubText:{width:960,height:170,x:530,y:655,contain:"both",fontSize:48,textAlign:"center"},itemsContainer:{width:c.layout.screenW,height:800,y:560,x:0,zIndex:2},Thumbnail:{borderRadius:16,width:185,height:278,scale:1,zIndex:2,transition:{scale:{duration:250,easing:"ease-in-out"}},border:{width:0,color:0},focus:{scale:1.1,border:{color:4294967142,width:8}}},FocusRing:{borderRadius:16,width:194,height:286,y:-5,x:-5,zIndex:-1},FPS:{color:255,height:42,width:140,x:20,y:20,zIndex:100},FPSLabel:{x:10,y:0,fontSize:36,textColor:Z("#ffffff")},FPSValue:{x:90,y:0,fontSize:36,textColor:Z("#ffffff")},showHeadline:{x:70,y:20},headlineBlur:{width:1920,height:150,x:0,y:0,zIndex:14,alpha:.9,color:Z("#000000")},RowTitle:{height:60,width:300,marginBottom:-40,fontSize:36,color:Z("#f0f0f0"),zIndex:2},Row:{display:"flex",justifyContent:"spaceBetween",height:300},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",flexBoundary:"contain",gap:64,width:c.layout.screenW-2*c.layout.marginX,x:c.layout.marginX+c.layout.gutterX,y:48,transition:{y:{duration:250,easing:"ease-in-out"}},zIndex:2},Rect:{width:250,height:100,y:10,x:300,color:Z("#0000ff")},peopleBio:{...c.typography.body1,fontFamily:"Ubuntu",fontWeight:"normal",contain:"both",width:780,height:340}},ar={width:120,height:40,mount:.5,color:179,borderRadius:8,borderBottom:{width:2,color:4278254335},border:{width:2,color:4210752051},focus:{color:4210752255,borderRadius:20,borderBottom:{width:0,color:0}}},od={color:Z("#00A699"),height:8,y:2,x:-4,width:ar.width+8},id={fontSize:12,y:12,contain:"width",textAlign:"center",color:Z("#F6F6F9"),height:ar.height,width:ar.width},pu={container:ar,topBar:od,text:id},oo={width:386,height:136,color:Z("#715cab"),focus:{color:Z("#5a39a2")},disabled:{color:Z("#291d43")}},mu={fontSize:32,contain:"width",textAlign:"center",mountY:-.35,color:Z("#FFFFFF"),height:oo.height,width:oo.width,focus:{fontSize:40},disabled:{color:Z("#909090")}};function sd(n){function r(e){e.color=4294967295}return _(H,de(n,{color:16711935,onLoad:r,onFail:e=>e.src="failback.png",get style(){return sr.Thumbnail}}))}function ad(n){const[r,e]=sa(n,["items"]);return _(hc,de(e,{get style(){return sr.Row},get children(){return _(sn,{get each(){return r.items},children:t=>_(sd,t)})}}))}const ld="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZDE4YjEwMTA0YjdiZTlkNjFiMWYwYjVlMGEwNzM2OCIsInN1YiI6IjYwZTVjMTdlNGNhNjc2MDA3NTA4Njc3MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.D_nqH9kd-bhhWzeVsTDPYhHnsUaNAuyAa6YATmKHqsA",cd="https://api.themoviedb.org/3";let pi,mi;const dd="w185",ud={headers:{"Content-Type":"application/json",Authorization:"Bearer "+ld}};function kr(n,r=dd){return mi+r+n}function hd(n,r={}){return pi?Gr(n,r):xi().then(()=>Gr(n,r))}function Gr(n,r={}){return fetch(cd+n,{...ud,...r}).then(e=>e.json())}function xi(){return Gr("/configuration").then(n=>{var r;return pi=n,mi=(r=n.images)==null?void 0:r.secure_base_url,n})}const fd={get:hd,loadConfig:xi};function gd(n,r){return n.length>r?n.substring(0,r-3)+"...":n}function pd(n,r=7){let e=[];for(let t=0,o=n.length;t<o;t+=r)e.push(n.slice(t,t+r));return e}function md(n=[]){return n.map(r=>({src:kr(r.poster_path||r.profile_path),tileSrc:kr(r.backdrop_path||r.profile_path,"w300"),backdrop:kr(r.backdrop_path,"w1280"),href:"/entity/".concat(r.media_type||"people","/").concat(r.id),shortTitle:gd(r.title||r.name,30),title:r.title||r.name,data:r,entityInfo:{type:r.media_type||"people",id:r.id},heroContent:{title:r.title||r.name,description:r.overview}}))}let Br=new Map;const $t=new Map;function xd(n){return r=>{const e="/trending/".concat(n,"/week?page=").concat(r);if(Br.has(e))return Br.get(e);let t=fd.get(e).then(o=>{let i=o.results.filter(l=>!l.adult),s=($t.has(n)?$t.get(n):[]).concat(md(i)),a=pd(s);return a[a.length-1].length<7?$t.set(n,a.pop()):$t.delete(n),a});return Br.set(e,t),t}}function yd(n){const[r,e]=W([]),[t,o]=W(1),[i,s]=W(!1),[a]=ko(t,n);return Or(()=>{const l=a();l&&Bo(()=>{l.length===0&&s(!0),e(d=>[...d,...l])})}),{pages:r,page:t,setPage:o,setPages:e,end:i,setEnd:s}}const pr=900,vd={display:"flex",flexDirection:"column",flexBoundary:"fixed",width:pr,height:220,gap:16},bd={...c.typography.display2,fontFamily:"Ubuntu",fontWeight:700,maxLines:1,width:pr,contain:"width"},wd=n=>_(Q,de(n,{style:bd})),Sd={...c.typography.body1,fontFamily:"Ubuntu",fontWeight:400,lineHeight:32,width:pr,maxLines:3,contain:"width"},Ad={fontSize:16,lineHeight:20},Cd=n=>_(Q,de(n,{style:Sd,get children(){return n.children}})),Td=n=>(()=>{var r=fr("node");return pa(tl,r,()=>[8,13,11,13]),ln(r,de(n,{style:{color:"0x00000099",borderRadius:8,border:{width:2,color:"0xffffffff"}}}),!0),fa(r,_(Q,{style:Ad,get children(){return n.children}})),r})(),io={...c.typography.body2,fontFamily:"Ubuntu",fontWeight:400},_d=n=>_(H,{style:{display:"flex",flexDirection:"row",gap:18,width:pr,height:48},get children(){return[_(H,{y:-4,src:"./assets/stars.png",width:188,height:31}),_(H,{y:-4,flexItem:!1,clipping:!0,get width(){return 188*n.voteAverage/10},height:31,get children(){return _(H,{src:"./assets/stars-full.png",width:188,height:31})}}),_(Q,{style:io,get children(){return[an(()=>n.voteCount)," reviews"]}}),_(Q,{style:io,get children(){return n.metaText}}),_(sn,{get each(){return n.badges},children:r=>_(Td,{y:-5,children:r})})]}}),Rd=n=>_(H,de({id:"contentBlock",style:vd},n,{get children(){return[_(wd,{get children(){return n.content.title}}),_(Cd,{get children(){return n.content.description}}),_(ur,{get when(){return n.content.voteCount},get children(){return _(_d,{get metaText(){return n.content.metaText},get badges(){return n.content.badges},get voteCount(){return n.content.voteCount},get voteAverage(){return n.content.voteAverage}})}})]}})),so=()=>{const n=Ia(),[r,e]=W(0),[t,o]=W({}),i=hn(),s=Gs(()=>0),a=X(()=>yd(xd(n.filter||"all"))),l=Kr(m=>Sl(m),400),d=Kr(m=>o(m||{}),200);Ne(at(hr,m=>{m.backdrop&&l(m.backdrop),m.heroContent&&d(m.heroContent)},{defer:!0}));function u(){var b;(b=this.children.selected)==null||b.setFocus(),e((this.y||0)*-1+24);let m=a().pages().length;this.parent.selected=this.parent.children.indexOf(this),(m===0||this.parent.selected&&this.parent.selected>=m-2)&&a().setPage(v=>v+1)}function f(){let m=this.children.find(b=>b.states.has("focus"));return L(m&&m.href),i(m.href),!0}return _(ur,{get when(){return a().pages().length},get children(){return[_(Rd,{y:360,x:162,get content(){return t()}}),_(H,{clipping:!0,get style(){return sr.itemsContainer},get children(){return _(ai,{id:"BrowseColumn",plinko:!0,announce:"All Trending - Week",get y(){return r()},scroll:"none",get style(){return sr.Column},get children(){return _(sn,{get each(){return a().pages()},children:(m,b)=>_(ad,{get autofocus(){return s(b())},items:m,width:1620,onFocus:u,onEnter:f})})}})}})]}})},Id=()=>(()=>{var n=fr("node");return ga(n,"style",{width:1920,height:1080,color:868483072}),n})(),kd=new URL("AppCoreExtensions-Cfu-13yq.js",import.meta.url).href,Bd=ce(()=>le(()=>import("./Grid-DNP7Rmz3.js"),__vite__mapDeps([0,1]))),Nd=ce(()=>le(()=>import("./Portal-DSfFe9_P.js"),__vite__mapDeps([2,1]))),Ed=ce(()=>le(()=>import("./Text-BuNvKCsD.js"),__vite__mapDeps([3,1]))),Ld=ce(()=>le(()=>import("./Create-CEjRkay2.js"),__vite__mapDeps([4,1]))),Fd=ce(()=>le(()=>import("./Viewport-zacb_ouO.js"),__vite__mapDeps([5,1]))),Md=ce(()=>le(()=>import("./Buttons-DgaqPc7i.js"),__vite__mapDeps([6,1]))),Pd=ce(()=>le(()=>import("./Flex-Dou02tGW.js"),__vite__mapDeps([7,1]))),Dd=ce(()=>le(()=>import("./FlexSize-CQtjHeo8.js"),__vite__mapDeps([8,1]))),zd=ce(()=>le(()=>import("./FlexColumnSize-BtSBOb0K.js"),__vite__mapDeps([9,1]))),Od=ce(()=>le(()=>import("./FlexColumn-BKVYOOYh.js"),__vite__mapDeps([10,1]))),Ud=ce(()=>le(()=>import("./ButtonsMaterial-D8KfKKMj.js"),__vite__mapDeps([11,1]))),Wd=ce(()=>le(()=>import("./SuperFlex-DCSXMEhs.js"),__vite__mapDeps([12,1]))),Yd=ce(()=>le(()=>import("./Entity-BAFLYEXB.js"),__vite__mapDeps([13,1]))),Hd=ce(()=>le(()=>import("./People-OAq_nGW4.js"),__vite__mapDeps([14,1])));oe.debug=!1;oe.animationsEnabled=!0;oe.fontSettings.fontFamily="Ubuntu";oe.fontSettings.color=Z("#f6f6f6");oe.fontSettings.fontSize=32;oe.rendererOptions={coreExtensionModule:kd,fpsUpdateInterval:200,enableInspector:!0,deviceLogicalPixelRatio:window.innerHeight/1080};ha(()=>_(Qa,{root:n=>_(nd,n),get children(){return[_(ne,{path:"",component:so}),_(ne,{path:"examples",component:Nd}),_(ne,{path:"browse/:filter",component:so}),_(ne,{path:"grid",component:Bd}),_(ne,{path:"text",component:Ed}),_(ne,{path:"buttons",component:Md}),_(ne,{path:"flex",component:Pd}),_(ne,{path:"create",component:Ld}),_(ne,{path:"viewport",component:Fd}),_(ne,{path:"flexsize",component:Dd}),_(ne,{path:"flexcolumnsize",component:zd}),_(ne,{path:"flexcolumn",component:Od}),_(ne,{path:"superflex",component:Wd}),_(ne,{path:"buttonsmaterial",component:Ud}),_(ne,{path:"entity/people/:id",component:Hd}),_(ne,{path:"entity/:type/:id",component:Yd}),_(ne,{path:"*all",component:Id})]}}));function xu(){const n=document.getElementById("video");return n.hidden=!1,setTimeout(()=>n.play(),50),n.focus(),n}function yu(){const n=document.getElementById("video");return n.hidden=!0,n.pause(),n}export{kr as A,Ia as B,ai as C,Rd as D,eu as E,sn as F,ad as G,yu as H,jd as I,xu as J,Wo as K,mu as M,hc as R,ur as S,Q as T,H as V,Kd as __vite_legacy_guard,ko as a,Or as b,W as c,Bo as d,Gs as e,Ne as f,Xd as g,Z as h,_ as i,sr as j,an as k,rn as l,de as m,pe as n,at as o,pu as p,fr as q,pa as r,Sl as s,c as t,hn as u,ln as v,tl as w,fa as x,fd as y,md as z};
//# sourceMappingURL=index-C0B1q-sk.js.map
